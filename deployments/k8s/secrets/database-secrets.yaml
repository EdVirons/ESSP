# Database Secrets Template
# IMPORTANT: Replace base64 encoded values before applying to cluster
# To encode: echo -n 'your-value' | base64
apiVersion: v1
kind: Secret
metadata:
  name: database-secrets
  namespace: essp
  labels:
    app.kubernetes.io/part-of: essp-platform
type: Opaque
data:
  # PostgreSQL DSN for IMS API
  # Format: postgres://user:password@host:port/database?sslmode=require
  # Example encoded: cG9zdGdyZXM6Ly9zc3A6c3NwQHBvc3RncmVzOjU0MzIvc3NwX2ltcz9zc2xtb2RlPXJlcXVpcmU=
  PG_DSN: <BASE64_ENCODED_IMS_DSN>

  # PostgreSQL DSN for SSOT School
  # Format: postgres://user:password@host:port/database?sslmode=require
  DB_URL_SCHOOL: <BASE64_ENCODED_SCHOOL_DSN>

  # PostgreSQL DSN for SSOT Devices
  # Format: postgres://user:password@host:port/database?sslmode=require
  DB_URL_DEVICES: <BASE64_ENCODED_DEVICES_DSN>

  # PostgreSQL DSN for SSOT Parts
  # Format: postgres://user:password@host:port/database?sslmode=require
  DB_URL_PARTS: <BASE64_ENCODED_PARTS_DSN>

  # PostgreSQL DSN for Sync Worker
  # Format: postgres://user:password@host:port/database?sslmode=require
  PG_DSN_WORKER: <BASE64_ENCODED_WORKER_DSN>

---
# Example values for development (DO NOT USE IN PRODUCTION):
# PG_DSN: cG9zdGdyZXM6Ly9zc3A6c3NwQHBvc3RncmVzOjU0MzIvc3NwX2ltcz9zc2xtb2RlPWRpc2FibGU=
# DB_URL_SCHOOL: cG9zdGdyZXM6Ly9zc3A6c3NwQHBvc3RncmVzOjU0MzIvc3NwX3NjaG9vbD9zc2xtb2RlPWRpc2FibGU=
# DB_URL_DEVICES: cG9zdGdyZXM6Ly9zc3A6c3NwQHBvc3RncmVzOjU0MzIvc3NwX2RldmljZXM/c3NsbW9kZT1kaXNhYmxl
# DB_URL_PARTS: cG9zdGdyZXM6Ly9zc3A6c3NwQHBvc3RncmVzOjU0MzIvc3NwX3BhcnRzP3NzbG1vZGU9ZGlzYWJsZQ==
# PG_DSN_WORKER: cG9zdGdyZXM6Ly9zc3A6c3NwQHBvc3RncmVzOjU0MzIvc3NwX2ltcz9zc2xtb2RlPWRpc2FibGU=
