import{r as ej,g as tj,a as sj}from"./vendor-Cgg2GOmP.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const d of o)if(d.type==="childList")for(const u of d.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function l(o){const d={};return o.integrity&&(d.integrity=o.integrity),o.referrerPolicy&&(d.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?d.credentials="include":o.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function r(o){if(o.ep)return;o.ep=!0;const d=l(o);fetch(o.href,d)}})();var zh={exports:{}},mo={};var dy;function Vw(){if(dy)return mo;dy=1;var t=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function l(r,o,d){var u=null;if(d!==void 0&&(u=""+d),o.key!==void 0&&(u=""+o.key),"key"in o){d={};for(var h in o)h!=="key"&&(d[h]=o[h])}else d=o;return o=d.ref,{$$typeof:t,type:r,key:u,ref:o!==void 0?o:null,props:d}}return mo.Fragment=a,mo.jsx=l,mo.jsxs=l,mo}var uy;function Hw(){return uy||(uy=1,zh.exports=Vw()),zh.exports}var e=Hw(),b=ej();const he=tj(b);var Lh={exports:{}},ho={},qh={exports:{}},Fh={};var my;function Bw(){return my||(my=1,(function(t){function a(D,X){var Z=D.length;D.push(X);e:for(;0<Z;){var be=Z-1>>>1,ye=D[be];if(0<o(ye,X))D[be]=X,D[Z]=ye,Z=be;else break e}}function l(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var X=D[0],Z=D.pop();if(Z!==X){D[0]=Z;e:for(var be=0,ye=D.length,fe=ye>>>1;be<fe;){var Te=2*(be+1)-1,ne=D[Te],ge=Te+1,Oe=D[ge];if(0>o(ne,Z))ge<ye&&0>o(Oe,ne)?(D[be]=Oe,D[ge]=Z,be=ge):(D[be]=ne,D[Te]=Z,be=Te);else if(ge<ye&&0>o(Oe,Z))D[be]=Oe,D[ge]=Z,be=ge;else break e}}return X}function o(D,X){var Z=D.sortIndex-X.sortIndex;return Z!==0?Z:D.id-X.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;t.unstable_now=function(){return d.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var x=[],g=[],y=1,p=null,j=3,N=!1,v=!1,C=!1,S=!1,_=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function M(D){for(var X=l(g);X!==null;){if(X.callback===null)r(g);else if(X.startTime<=D)r(g),X.sortIndex=X.expirationTime,a(x,X);else break;X=l(g)}}function H(D){if(C=!1,M(D),!v)if(l(x)!==null)v=!0,I||(I=!0,re());else{var X=l(g);X!==null&&me(H,X.startTime-D)}}var I=!1,W=-1,Q=5,K=-1;function q(){return S?!0:!(t.unstable_now()-K<Q)}function $(){if(S=!1,I){var D=t.unstable_now();K=D;var X=!0;try{e:{v=!1,C&&(C=!1,E(W),W=-1),N=!0;var Z=j;try{t:{for(M(D),p=l(x);p!==null&&!(p.expirationTime>D&&q());){var be=p.callback;if(typeof be=="function"){p.callback=null,j=p.priorityLevel;var ye=be(p.expirationTime<=D);if(D=t.unstable_now(),typeof ye=="function"){p.callback=ye,M(D),X=!0;break t}p===l(x)&&r(x),M(D)}else r(x);p=l(x)}if(p!==null)X=!0;else{var fe=l(g);fe!==null&&me(H,fe.startTime-D),X=!1}}break e}finally{p=null,j=Z,N=!1}X=void 0}}finally{X?re():I=!1}}}var re;if(typeof A=="function")re=function(){A($)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,xe=le.port2;le.port1.onmessage=$,re=function(){xe.postMessage(null)}}else re=function(){_($,0)};function me(D,X){W=_(function(){D(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return j},t.unstable_next=function(D){switch(j){case 1:case 2:case 3:var X=3;break;default:X=j}var Z=j;j=X;try{return D()}finally{j=Z}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(D,X){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var Z=j;j=D;try{return X()}finally{j=Z}},t.unstable_scheduleCallback=function(D,X,Z){var be=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?be+Z:be):Z=be,D){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=Z+ye,D={id:y++,callback:X,priorityLevel:D,startTime:Z,expirationTime:ye,sortIndex:-1},Z>be?(D.sortIndex=Z,a(g,D),l(x)===null&&D===l(g)&&(C?(E(W),W=-1):C=!0,me(H,Z-be))):(D.sortIndex=ye,a(x,D),v||N||(v=!0,I||(I=!0,re()))),D},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(D){var X=j;return function(){var Z=j;j=X;try{return D.apply(this,arguments)}finally{j=Z}}}})(Fh)),Fh}var hy;function $w(){return hy||(hy=1,qh.exports=Bw()),qh.exports}var xy;function Kw(){if(xy)return ho;xy=1;var t=$w(),a=ej(),l=sj();function r(s){var n="https://react.dev/errors/"+s;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+s+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function d(s){var n=s,i=s;if(s.alternate)for(;n.return;)n=n.return;else{s=n;do n=s,(n.flags&4098)!==0&&(i=n.return),s=n.return;while(s)}return n.tag===3?i:null}function u(s){if(s.tag===13){var n=s.memoizedState;if(n===null&&(s=s.alternate,s!==null&&(n=s.memoizedState)),n!==null)return n.dehydrated}return null}function h(s){if(s.tag===31){var n=s.memoizedState;if(n===null&&(s=s.alternate,s!==null&&(n=s.memoizedState)),n!==null)return n.dehydrated}return null}function x(s){if(d(s)!==s)throw Error(r(188))}function g(s){var n=s.alternate;if(!n){if(n=d(s),n===null)throw Error(r(188));return n!==s?null:s}for(var i=s,c=n;;){var m=i.return;if(m===null)break;var f=m.alternate;if(f===null){if(c=m.return,c!==null){i=c;continue}break}if(m.child===f.child){for(f=m.child;f;){if(f===i)return x(m),s;if(f===c)return x(m),n;f=f.sibling}throw Error(r(188))}if(i.return!==c.return)i=m,c=f;else{for(var w=!1,k=m.child;k;){if(k===i){w=!0,i=m,c=f;break}if(k===c){w=!0,c=m,i=f;break}k=k.sibling}if(!w){for(k=f.child;k;){if(k===i){w=!0,i=f,c=m;break}if(k===c){w=!0,c=f,i=m;break}k=k.sibling}if(!w)throw Error(r(189))}}if(i.alternate!==c)throw Error(r(190))}if(i.tag!==3)throw Error(r(188));return i.stateNode.current===i?s:n}function y(s){var n=s.tag;if(n===5||n===26||n===27||n===6)return s;for(s=s.child;s!==null;){if(n=y(s),n!==null)return n;s=s.sibling}return null}var p=Object.assign,j=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),A=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),K=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),$=Symbol.iterator;function re(s){return s===null||typeof s!="object"?null:(s=$&&s[$]||s["@@iterator"],typeof s=="function"?s:null)}var le=Symbol.for("react.client.reference");function xe(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===le?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case C:return"Fragment";case _:return"Profiler";case S:return"StrictMode";case H:return"Suspense";case I:return"SuspenseList";case K:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case v:return"Portal";case A:return s.displayName||"Context";case E:return(s._context.displayName||"Context")+".Consumer";case M:var n=s.render;return s=s.displayName,s||(s=n.displayName||n.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case W:return n=s.displayName||null,n!==null?n:xe(s.type)||"Memo";case Q:n=s._payload,s=s._init;try{return xe(s(n))}catch{}}return null}var me=Array.isArray,D=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},be=[],ye=-1;function fe(s){return{current:s}}function Te(s){0>ye||(s.current=be[ye],be[ye]=null,ye--)}function ne(s,n){ye++,be[ye]=s.current,s.current=n}var ge=fe(null),Oe=fe(null),gt=fe(null),Ze=fe(null);function Qe(s,n){switch(ne(gt,n),ne(Oe,s),ne(ge,null),n.nodeType){case 9:case 11:s=(s=n.documentElement)&&(s=s.namespaceURI)?Ep(s):0;break;default:if(s=n.tagName,n=n.namespaceURI)n=Ep(n),s=Op(n,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}Te(ge),ne(ge,s)}function Ht(){Te(ge),Te(Oe),Te(gt)}function bs(s){s.memoizedState!==null&&ne(Ze,s);var n=ge.current,i=Op(n,s.type);n!==i&&(ne(Oe,s),ne(ge,i))}function Ns(s){Oe.current===s&&(Te(ge),Te(Oe)),Ze.current===s&&(Te(Ze),io._currentValue=Z)}var cs,yl;function Ks(s){if(cs===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);cs=n&&n[1]||"",yl=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+cs+s+yl}var vl=!1;function An(s,n){if(!s||vl)return"";vl=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(n){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(Y){var B=Y}Reflect.construct(s,[],ae)}else{try{ae.call()}catch(Y){B=Y}s.call(ae.prototype)}}else{try{throw Error()}catch(Y){B=Y}(ae=s())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(Y){if(Y&&B&&typeof Y.stack=="string")return[Y.stack,B.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=c.DetermineComponentFrameRoot(),w=f[0],k=f[1];if(w&&k){var R=w.split(`
`),V=k.split(`
`);for(m=c=0;c<R.length&&!R[c].includes("DetermineComponentFrameRoot");)c++;for(;m<V.length&&!V[m].includes("DetermineComponentFrameRoot");)m++;if(c===R.length||m===V.length)for(c=R.length-1,m=V.length-1;1<=c&&0<=m&&R[c]!==V[m];)m--;for(;1<=c&&0<=m;c--,m--)if(R[c]!==V[m]){if(c!==1||m!==1)do if(c--,m--,0>m||R[c]!==V[m]){var J=`
`+R[c].replace(" at new "," at ");return s.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",s.displayName)),J}while(1<=c&&0<=m);break}}}finally{vl=!1,Error.prepareStackTrace=i}return(i=s?s.displayName||s.name:"")?Ks(i):""}function Wa(s,n){switch(s.tag){case 26:case 27:case 5:return Ks(s.type);case 16:return Ks("Lazy");case 13:return s.child!==n&&n!==null?Ks("Suspense Fallback"):Ks("Suspense");case 19:return Ks("SuspenseList");case 0:case 15:return An(s.type,!1);case 11:return An(s.type.render,!1);case 1:return An(s.type,!0);case 31:return Ks("Activity");default:return""}}function es(s){try{var n="",i=null;do n+=Wa(s,i),i=s,s=s.return;while(s);return n}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Ut=Object.prototype.hasOwnProperty,Za=t.unstable_scheduleCallback,vi=t.unstable_cancelCallback,ws=t.unstable_shouldYield,Mn=t.unstable_requestPaint,Ss=t.unstable_now,wu=t.unstable_getCurrentPriorityLevel,jl=t.unstable_ImmediatePriority,Jo=t.unstable_UserBlockingPriority,bl=t.unstable_NormalPriority,ji=t.unstable_LowPriority,Ja=t.unstable_IdlePriority,ec=t.log,_n=t.unstable_setDisableYieldValue,Nl=null,Cs=null;function ba(s){if(typeof ec=="function"&&_n(s),Cs&&typeof Cs.setStrictMode=="function")try{Cs.setStrictMode(Nl,s)}catch{}}var ps=Math.clz32?Math.clz32:Pa,Su=Math.log,bi=Math.LN2;function Pa(s){return s>>>=0,s===0?32:31-(Su(s)/bi|0)|0}var ur=256,mr=262144,wl=4194304;function Ua(s){var n=s&42;if(n!==0)return n;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ee(s,n,i){var c=s.pendingLanes;if(c===0)return 0;var m=0,f=s.suspendedLanes,w=s.pingedLanes;s=s.warmLanes;var k=c&134217727;return k!==0?(c=k&~f,c!==0?m=Ua(c):(w&=k,w!==0?m=Ua(w):i||(i=k&~s,i!==0&&(m=Ua(i))))):(k=c&~f,k!==0?m=Ua(k):w!==0?m=Ua(w):i||(i=c&~s,i!==0&&(m=Ua(i)))),m===0?0:n!==0&&n!==m&&(n&f)===0&&(f=m&-m,i=n&-n,f>=i||f===32&&(i&4194048)!==0)?n:m}function wt(s,n){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&n)===0}function ts(s,n){switch(s){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ys(){var s=wl;return wl<<=1,(wl&62914560)===0&&(wl=4194304),s}function Tn(s){for(var n=[],i=0;31>i;i++)n.push(s);return n}function Dt(s,n){s.pendingLanes|=n,n!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Ds(s,n,i,c,m,f){var w=s.pendingLanes;s.pendingLanes=i,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=i,s.entangledLanes&=i,s.errorRecoveryDisabledLanes&=i,s.shellSuspendCounter=0;var k=s.entanglements,R=s.expirationTimes,V=s.hiddenUpdates;for(i=w&~i;0<i;){var J=31-ps(i),ae=1<<J;k[J]=0,R[J]=-1;var B=V[J];if(B!==null)for(V[J]=null,J=0;J<B.length;J++){var Y=B[J];Y!==null&&(Y.lane&=-536870913)}i&=~ae}c!==0&&Sl(s,c,0),f!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=f&~(w&~n))}function Sl(s,n,i){s.pendingLanes|=n,s.suspendedLanes&=~n;var c=31-ps(n);s.entangledLanes|=n,s.entanglements[c]=s.entanglements[c]|1073741824|i&261930}function Es(s,n){var i=s.entangledLanes|=n;for(s=s.entanglements;i;){var c=31-ps(i),m=1<<c;m&n|s[c]&n&&(s[c]|=n),i&=~m}}function Os(s,n){var i=n&-n;return i=(i&42)!==0?1:hr(i),(i&(s.suspendedLanes|n))!==0?0:i}function hr(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Na(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Cu(){var s=X.p;return s!==0?s:(s=window.event,s===void 0?32:ay(s.type))}function vf(s,n){var i=X.p;try{return X.p=s,n()}finally{X.p=i}}var Rn=Math.random().toString(36).slice(2),ds="__reactFiber$"+Rn,zs="__reactProps$"+Rn,xr="__reactContainer$"+Rn,ku="__reactEvents$"+Rn,RN="__reactListeners$"+Rn,DN="__reactHandles$"+Rn,jf="__reactResources$"+Rn,Ni="__reactMarker$"+Rn;function Au(s){delete s[ds],delete s[zs],delete s[ku],delete s[RN],delete s[DN]}function fr(s){var n=s[ds];if(n)return n;for(var i=s.parentNode;i;){if(n=i[xr]||i[ds]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(s=Ip(s);s!==null;){if(i=s[ds])return i;s=Ip(s)}return n}s=i,i=s.parentNode}return null}function gr(s){if(s=s[ds]||s[xr]){var n=s.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return s}return null}function wi(s){var n=s.tag;if(n===5||n===26||n===27||n===6)return s.stateNode;throw Error(r(33))}function pr(s){var n=s[jf];return n||(n=s[jf]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ss(s){s[Ni]=!0}var bf=new Set,Nf={};function Cl(s,n){yr(s,n),yr(s+"Capture",n)}function yr(s,n){for(Nf[s]=n,s=0;s<n.length;s++)bf.add(n[s])}var EN=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wf={},Sf={};function ON(s){return Ut.call(Sf,s)?!0:Ut.call(wf,s)?!1:EN.test(s)?Sf[s]=!0:(wf[s]=!0,!1)}function tc(s,n,i){if(ON(n))if(i===null)s.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":s.removeAttribute(n);return;case"boolean":var c=n.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){s.removeAttribute(n);return}}s.setAttribute(n,""+i)}}function sc(s,n,i){if(i===null)s.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(n);return}s.setAttribute(n,""+i)}}function en(s,n,i,c){if(c===null)s.removeAttribute(i);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(i);return}s.setAttributeNS(n,i,""+c)}}function na(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Cf(s){var n=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function zN(s,n,i){var c=Object.getOwnPropertyDescriptor(s.constructor.prototype,n);if(!s.hasOwnProperty(n)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,f=c.set;return Object.defineProperty(s,n,{configurable:!0,get:function(){return m.call(this)},set:function(w){i=""+w,f.call(this,w)}}),Object.defineProperty(s,n,{enumerable:c.enumerable}),{getValue:function(){return i},setValue:function(w){i=""+w},stopTracking:function(){s._valueTracker=null,delete s[n]}}}}function Mu(s){if(!s._valueTracker){var n=Cf(s)?"checked":"value";s._valueTracker=zN(s,n,""+s[n])}}function kf(s){if(!s)return!1;var n=s._valueTracker;if(!n)return!0;var i=n.getValue(),c="";return s&&(c=Cf(s)?s.checked?"true":"false":s.value),s=c,s!==i?(n.setValue(s),!0):!1}function ac(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var LN=/[\n"\\]/g;function la(s){return s.replace(LN,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function _u(s,n,i,c,m,f,w,k){s.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?s.type=w:s.removeAttribute("type"),n!=null?w==="number"?(n===0&&s.value===""||s.value!=n)&&(s.value=""+na(n)):s.value!==""+na(n)&&(s.value=""+na(n)):w!=="submit"&&w!=="reset"||s.removeAttribute("value"),n!=null?Tu(s,w,na(n)):i!=null?Tu(s,w,na(i)):c!=null&&s.removeAttribute("value"),m==null&&f!=null&&(s.defaultChecked=!!f),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?s.name=""+na(k):s.removeAttribute("name")}function Af(s,n,i,c,m,f,w,k){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(s.type=f),n!=null||i!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Mu(s);return}i=i!=null?""+na(i):"",n=n!=null?""+na(n):i,k||n===s.value||(s.value=n),s.defaultValue=n}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,s.checked=k?s.checked:!!c,s.defaultChecked=!!c,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(s.name=w),Mu(s)}function Tu(s,n,i){n==="number"&&ac(s.ownerDocument)===s||s.defaultValue===""+i||(s.defaultValue=""+i)}function vr(s,n,i,c){if(s=s.options,n){n={};for(var m=0;m<i.length;m++)n["$"+i[m]]=!0;for(i=0;i<s.length;i++)m=n.hasOwnProperty("$"+s[i].value),s[i].selected!==m&&(s[i].selected=m),m&&c&&(s[i].defaultSelected=!0)}else{for(i=""+na(i),n=null,m=0;m<s.length;m++){if(s[m].value===i){s[m].selected=!0,c&&(s[m].defaultSelected=!0);return}n!==null||s[m].disabled||(n=s[m])}n!==null&&(n.selected=!0)}}function Mf(s,n,i){if(n!=null&&(n=""+na(n),n!==s.value&&(s.value=n),i==null)){s.defaultValue!==n&&(s.defaultValue=n);return}s.defaultValue=i!=null?""+na(i):""}function _f(s,n,i,c){if(n==null){if(c!=null){if(i!=null)throw Error(r(92));if(me(c)){if(1<c.length)throw Error(r(93));c=c[0]}i=c}i==null&&(i=""),n=i}i=na(n),s.defaultValue=i,c=s.textContent,c===i&&c!==""&&c!==null&&(s.value=c),Mu(s)}function jr(s,n){if(n){var i=s.firstChild;if(i&&i===s.lastChild&&i.nodeType===3){i.nodeValue=n;return}}s.textContent=n}var qN=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tf(s,n,i){var c=n.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?c?s.setProperty(n,""):n==="float"?s.cssFloat="":s[n]="":c?s.setProperty(n,i):typeof i!="number"||i===0||qN.has(n)?n==="float"?s.cssFloat=i:s[n]=(""+i).trim():s[n]=i+"px"}function Rf(s,n,i){if(n!=null&&typeof n!="object")throw Error(r(62));if(s=s.style,i!=null){for(var c in i)!i.hasOwnProperty(c)||n!=null&&n.hasOwnProperty(c)||(c.indexOf("--")===0?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="");for(var m in n)c=n[m],n.hasOwnProperty(m)&&i[m]!==c&&Tf(s,m,c)}else for(var f in n)n.hasOwnProperty(f)&&Tf(s,f,n[f])}function Ru(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var FN=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),PN=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function nc(s){return PN.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function tn(){}var Du=null;function Eu(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var br=null,Nr=null;function Df(s){var n=gr(s);if(n&&(s=n.stateNode)){var i=s[zs]||null;e:switch(s=n.stateNode,n.type){case"input":if(_u(s,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),n=i.name,i.type==="radio"&&n!=null){for(i=s;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+la(""+n)+'"][type="radio"]'),n=0;n<i.length;n++){var c=i[n];if(c!==s&&c.form===s.form){var m=c[zs]||null;if(!m)throw Error(r(90));_u(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(n=0;n<i.length;n++)c=i[n],c.form===s.form&&kf(c)}break e;case"textarea":Mf(s,i.value,i.defaultValue);break e;case"select":n=i.value,n!=null&&vr(s,!!i.multiple,n,!1)}}}var Ou=!1;function Ef(s,n,i){if(Ou)return s(n,i);Ou=!0;try{var c=s(n);return c}finally{if(Ou=!1,(br!==null||Nr!==null)&&($c(),br&&(n=br,s=Nr,Nr=br=null,Df(n),s)))for(n=0;n<s.length;n++)Df(s[n])}}function Si(s,n){var i=s.stateNode;if(i===null)return null;var c=i[zs]||null;if(c===null)return null;i=c[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(s=s.type,c=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!c;break e;default:s=!1}if(s)return null;if(i&&typeof i!="function")throw Error(r(231,n,typeof i));return i}var sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zu=!1;if(sn)try{var Ci={};Object.defineProperty(Ci,"passive",{get:function(){zu=!0}}),window.addEventListener("test",Ci,Ci),window.removeEventListener("test",Ci,Ci)}catch{zu=!1}var Dn=null,Lu=null,lc=null;function Of(){if(lc)return lc;var s,n=Lu,i=n.length,c,m="value"in Dn?Dn.value:Dn.textContent,f=m.length;for(s=0;s<i&&n[s]===m[s];s++);var w=i-s;for(c=1;c<=w&&n[i-c]===m[f-c];c++);return lc=m.slice(s,1<c?1-c:void 0)}function rc(s){var n=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&n===13&&(s=13)):s=n,s===10&&(s=13),32<=s||s===13?s:0}function ic(){return!0}function zf(){return!1}function Ls(s){function n(i,c,m,f,w){this._reactName=i,this._targetInst=m,this.type=c,this.nativeEvent=f,this.target=w,this.currentTarget=null;for(var k in s)s.hasOwnProperty(k)&&(i=s[k],this[k]=i?i(f):f[k]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ic:zf,this.isPropagationStopped=zf,this}return p(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=ic)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=ic)},persist:function(){},isPersistent:ic}),n}var kl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oc=Ls(kl),ki=p({},kl,{view:0,detail:0}),UN=Ls(ki),qu,Fu,Ai,cc=p({},ki,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Uu,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ai&&(Ai&&s.type==="mousemove"?(qu=s.screenX-Ai.screenX,Fu=s.screenY-Ai.screenY):Fu=qu=0,Ai=s),qu)},movementY:function(s){return"movementY"in s?s.movementY:Fu}}),Lf=Ls(cc),IN=p({},cc,{dataTransfer:0}),VN=Ls(IN),HN=p({},ki,{relatedTarget:0}),Pu=Ls(HN),BN=p({},kl,{animationName:0,elapsedTime:0,pseudoElement:0}),$N=Ls(BN),KN=p({},kl,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),QN=Ls(KN),GN=p({},kl,{data:0}),qf=Ls(GN),YN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},XN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},WN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ZN(s){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(s):(s=WN[s])?!!n[s]:!1}function Uu(){return ZN}var JN=p({},ki,{key:function(s){if(s.key){var n=YN[s.key]||s.key;if(n!=="Unidentified")return n}return s.type==="keypress"?(s=rc(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?XN[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Uu,charCode:function(s){return s.type==="keypress"?rc(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?rc(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),e1=Ls(JN),t1=p({},cc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ff=Ls(t1),s1=p({},ki,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Uu}),a1=Ls(s1),n1=p({},kl,{propertyName:0,elapsedTime:0,pseudoElement:0}),l1=Ls(n1),r1=p({},cc,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),i1=Ls(r1),o1=p({},kl,{newState:0,oldState:0}),c1=Ls(o1),d1=[9,13,27,32],Iu=sn&&"CompositionEvent"in window,Mi=null;sn&&"documentMode"in document&&(Mi=document.documentMode);var u1=sn&&"TextEvent"in window&&!Mi,Pf=sn&&(!Iu||Mi&&8<Mi&&11>=Mi),Uf=" ",If=!1;function Vf(s,n){switch(s){case"keyup":return d1.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hf(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var wr=!1;function m1(s,n){switch(s){case"compositionend":return Hf(n);case"keypress":return n.which!==32?null:(If=!0,Uf);case"textInput":return s=n.data,s===Uf&&If?null:s;default:return null}}function h1(s,n){if(wr)return s==="compositionend"||!Iu&&Vf(s,n)?(s=Of(),lc=Lu=Dn=null,wr=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Pf&&n.locale!=="ko"?null:n.data;default:return null}}var x1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bf(s){var n=s&&s.nodeName&&s.nodeName.toLowerCase();return n==="input"?!!x1[s.type]:n==="textarea"}function $f(s,n,i,c){br?Nr?Nr.push(c):Nr=[c]:br=c,n=Zc(n,"onChange"),0<n.length&&(i=new oc("onChange","change",null,i,c),s.push({event:i,listeners:n}))}var _i=null,Ti=null;function f1(s){Ap(s,0)}function dc(s){var n=wi(s);if(kf(n))return s}function Kf(s,n){if(s==="change")return n}var Qf=!1;if(sn){var Vu;if(sn){var Hu="oninput"in document;if(!Hu){var Gf=document.createElement("div");Gf.setAttribute("oninput","return;"),Hu=typeof Gf.oninput=="function"}Vu=Hu}else Vu=!1;Qf=Vu&&(!document.documentMode||9<document.documentMode)}function Yf(){_i&&(_i.detachEvent("onpropertychange",Xf),Ti=_i=null)}function Xf(s){if(s.propertyName==="value"&&dc(Ti)){var n=[];$f(n,Ti,s,Eu(s)),Ef(f1,n)}}function g1(s,n,i){s==="focusin"?(Yf(),_i=n,Ti=i,_i.attachEvent("onpropertychange",Xf)):s==="focusout"&&Yf()}function p1(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return dc(Ti)}function y1(s,n){if(s==="click")return dc(n)}function v1(s,n){if(s==="input"||s==="change")return dc(n)}function j1(s,n){return s===n&&(s!==0||1/s===1/n)||s!==s&&n!==n}var Qs=typeof Object.is=="function"?Object.is:j1;function Ri(s,n){if(Qs(s,n))return!0;if(typeof s!="object"||s===null||typeof n!="object"||n===null)return!1;var i=Object.keys(s),c=Object.keys(n);if(i.length!==c.length)return!1;for(c=0;c<i.length;c++){var m=i[c];if(!Ut.call(n,m)||!Qs(s[m],n[m]))return!1}return!0}function Wf(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Zf(s,n){var i=Wf(s);s=0;for(var c;i;){if(i.nodeType===3){if(c=s+i.textContent.length,s<=n&&c>=n)return{node:i,offset:n-s};s=c}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Wf(i)}}function Jf(s,n){return s&&n?s===n?!0:s&&s.nodeType===3?!1:n&&n.nodeType===3?Jf(s,n.parentNode):"contains"in s?s.contains(n):s.compareDocumentPosition?!!(s.compareDocumentPosition(n)&16):!1:!1}function e0(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var n=ac(s.document);n instanceof s.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)s=n.contentWindow;else break;n=ac(s.document)}return n}function Bu(s){var n=s&&s.nodeName&&s.nodeName.toLowerCase();return n&&(n==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||n==="textarea"||s.contentEditable==="true")}var b1=sn&&"documentMode"in document&&11>=document.documentMode,Sr=null,$u=null,Di=null,Ku=!1;function t0(s,n,i){var c=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Ku||Sr==null||Sr!==ac(c)||(c=Sr,"selectionStart"in c&&Bu(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Di&&Ri(Di,c)||(Di=c,c=Zc($u,"onSelect"),0<c.length&&(n=new oc("onSelect","select",null,n,i),s.push({event:n,listeners:c}),n.target=Sr)))}function Al(s,n){var i={};return i[s.toLowerCase()]=n.toLowerCase(),i["Webkit"+s]="webkit"+n,i["Moz"+s]="moz"+n,i}var Cr={animationend:Al("Animation","AnimationEnd"),animationiteration:Al("Animation","AnimationIteration"),animationstart:Al("Animation","AnimationStart"),transitionrun:Al("Transition","TransitionRun"),transitionstart:Al("Transition","TransitionStart"),transitioncancel:Al("Transition","TransitionCancel"),transitionend:Al("Transition","TransitionEnd")},Qu={},s0={};sn&&(s0=document.createElement("div").style,"AnimationEvent"in window||(delete Cr.animationend.animation,delete Cr.animationiteration.animation,delete Cr.animationstart.animation),"TransitionEvent"in window||delete Cr.transitionend.transition);function Ml(s){if(Qu[s])return Qu[s];if(!Cr[s])return s;var n=Cr[s],i;for(i in n)if(n.hasOwnProperty(i)&&i in s0)return Qu[s]=n[i];return s}var a0=Ml("animationend"),n0=Ml("animationiteration"),l0=Ml("animationstart"),N1=Ml("transitionrun"),w1=Ml("transitionstart"),S1=Ml("transitioncancel"),r0=Ml("transitionend"),i0=new Map,Gu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gu.push("scrollEnd");function wa(s,n){i0.set(s,n),Cl(n,[s])}var uc=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},ra=[],kr=0,Yu=0;function mc(){for(var s=kr,n=Yu=kr=0;n<s;){var i=ra[n];ra[n++]=null;var c=ra[n];ra[n++]=null;var m=ra[n];ra[n++]=null;var f=ra[n];if(ra[n++]=null,c!==null&&m!==null){var w=c.pending;w===null?m.next=m:(m.next=w.next,w.next=m),c.pending=m}f!==0&&o0(i,m,f)}}function hc(s,n,i,c){ra[kr++]=s,ra[kr++]=n,ra[kr++]=i,ra[kr++]=c,Yu|=c,s.lanes|=c,s=s.alternate,s!==null&&(s.lanes|=c)}function Xu(s,n,i,c){return hc(s,n,i,c),xc(s)}function _l(s,n){return hc(s,null,null,n),xc(s)}function o0(s,n,i){s.lanes|=i;var c=s.alternate;c!==null&&(c.lanes|=i);for(var m=!1,f=s.return;f!==null;)f.childLanes|=i,c=f.alternate,c!==null&&(c.childLanes|=i),f.tag===22&&(s=f.stateNode,s===null||s._visibility&1||(m=!0)),s=f,f=f.return;return s.tag===3?(f=s.stateNode,m&&n!==null&&(m=31-ps(i),s=f.hiddenUpdates,c=s[m],c===null?s[m]=[n]:c.push(n),n.lane=i|536870912),f):null}function xc(s){if(50<eo)throw eo=0,lh=null,Error(r(185));for(var n=s.return;n!==null;)s=n,n=s.return;return s.tag===3?s.stateNode:null}var Ar={};function C1(s,n,i,c){this.tag=s,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gs(s,n,i,c){return new C1(s,n,i,c)}function Wu(s){return s=s.prototype,!(!s||!s.isReactComponent)}function an(s,n){var i=s.alternate;return i===null?(i=Gs(s.tag,n,s.key,s.mode),i.elementType=s.elementType,i.type=s.type,i.stateNode=s.stateNode,i.alternate=s,s.alternate=i):(i.pendingProps=n,i.type=s.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=s.flags&65011712,i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,n=s.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=s.sibling,i.index=s.index,i.ref=s.ref,i.refCleanup=s.refCleanup,i}function c0(s,n){s.flags&=65011714;var i=s.alternate;return i===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,n=i.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),s}function fc(s,n,i,c,m,f){var w=0;if(c=s,typeof s=="function")Wu(s)&&(w=1);else if(typeof s=="string")w=Tw(s,i,ge.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case K:return s=Gs(31,i,n,m),s.elementType=K,s.lanes=f,s;case C:return Tl(i.children,m,f,n);case S:w=8,m|=24;break;case _:return s=Gs(12,i,n,m|2),s.elementType=_,s.lanes=f,s;case H:return s=Gs(13,i,n,m),s.elementType=H,s.lanes=f,s;case I:return s=Gs(19,i,n,m),s.elementType=I,s.lanes=f,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case A:w=10;break e;case E:w=9;break e;case M:w=11;break e;case W:w=14;break e;case Q:w=16,c=null;break e}w=29,i=Error(r(130,s===null?"null":typeof s,"")),c=null}return n=Gs(w,i,n,m),n.elementType=s,n.type=c,n.lanes=f,n}function Tl(s,n,i,c){return s=Gs(7,s,c,n),s.lanes=i,s}function Zu(s,n,i){return s=Gs(6,s,null,n),s.lanes=i,s}function d0(s){var n=Gs(18,null,null,0);return n.stateNode=s,n}function Ju(s,n,i){return n=Gs(4,s.children!==null?s.children:[],s.key,n),n.lanes=i,n.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},n}var u0=new WeakMap;function ia(s,n){if(typeof s=="object"&&s!==null){var i=u0.get(s);return i!==void 0?i:(n={value:s,source:n,stack:es(n)},u0.set(s,n),n)}return{value:s,source:n,stack:es(n)}}var Mr=[],_r=0,gc=null,Ei=0,oa=[],ca=0,En=null,Ia=1,Va="";function nn(s,n){Mr[_r++]=Ei,Mr[_r++]=gc,gc=s,Ei=n}function m0(s,n,i){oa[ca++]=Ia,oa[ca++]=Va,oa[ca++]=En,En=s;var c=Ia;s=Va;var m=32-ps(c)-1;c&=~(1<<m),i+=1;var f=32-ps(n)+m;if(30<f){var w=m-m%5;f=(c&(1<<w)-1).toString(32),c>>=w,m-=w,Ia=1<<32-ps(n)+m|i<<m|c,Va=f+s}else Ia=1<<f|i<<m|c,Va=s}function em(s){s.return!==null&&(nn(s,1),m0(s,1,0))}function tm(s){for(;s===gc;)gc=Mr[--_r],Mr[_r]=null,Ei=Mr[--_r],Mr[_r]=null;for(;s===En;)En=oa[--ca],oa[ca]=null,Va=oa[--ca],oa[ca]=null,Ia=oa[--ca],oa[ca]=null}function h0(s,n){oa[ca++]=Ia,oa[ca++]=Va,oa[ca++]=En,Ia=n.id,Va=n.overflow,En=s}var us=null,yt=null,$e=!1,On=null,da=!1,sm=Error(r(519));function zn(s){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Oi(ia(n,s)),sm}function x0(s){var n=s.stateNode,i=s.type,c=s.memoizedProps;switch(n[ds]=s,n[zs]=c,i){case"dialog":Ve("cancel",n),Ve("close",n);break;case"iframe":case"object":case"embed":Ve("load",n);break;case"video":case"audio":for(i=0;i<so.length;i++)Ve(so[i],n);break;case"source":Ve("error",n);break;case"img":case"image":case"link":Ve("error",n),Ve("load",n);break;case"details":Ve("toggle",n);break;case"input":Ve("invalid",n),Af(n,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Ve("invalid",n);break;case"textarea":Ve("invalid",n),_f(n,c.value,c.defaultValue,c.children)}i=c.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||n.textContent===""+i||c.suppressHydrationWarning===!0||Rp(n.textContent,i)?(c.popover!=null&&(Ve("beforetoggle",n),Ve("toggle",n)),c.onScroll!=null&&Ve("scroll",n),c.onScrollEnd!=null&&Ve("scrollend",n),c.onClick!=null&&(n.onclick=tn),n=!0):n=!1,n||zn(s,!0)}function f0(s){for(us=s.return;us;)switch(us.tag){case 5:case 31:case 13:da=!1;return;case 27:case 3:da=!0;return;default:us=us.return}}function Tr(s){if(s!==us)return!1;if(!$e)return f0(s),$e=!0,!1;var n=s.tag,i;if((i=n!==3&&n!==27)&&((i=n===5)&&(i=s.type,i=!(i!=="form"&&i!=="button")||jh(s.type,s.memoizedProps)),i=!i),i&&yt&&zn(s),f0(s),n===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));yt=Up(s)}else if(n===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));yt=Up(s)}else n===27?(n=yt,Yn(s.type)?(s=Ch,Ch=null,yt=s):yt=n):yt=us?ma(s.stateNode.nextSibling):null;return!0}function Rl(){yt=us=null,$e=!1}function am(){var s=On;return s!==null&&(Us===null?Us=s:Us.push.apply(Us,s),On=null),s}function Oi(s){On===null?On=[s]:On.push(s)}var nm=fe(null),Dl=null,ln=null;function Ln(s,n,i){ne(nm,n._currentValue),n._currentValue=i}function rn(s){s._currentValue=nm.current,Te(nm)}function lm(s,n,i){for(;s!==null;){var c=s.alternate;if((s.childLanes&n)!==n?(s.childLanes|=n,c!==null&&(c.childLanes|=n)):c!==null&&(c.childLanes&n)!==n&&(c.childLanes|=n),s===i)break;s=s.return}}function rm(s,n,i,c){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var f=m.dependencies;if(f!==null){var w=m.child;f=f.firstContext;e:for(;f!==null;){var k=f;f=m;for(var R=0;R<n.length;R++)if(k.context===n[R]){f.lanes|=i,k=f.alternate,k!==null&&(k.lanes|=i),lm(f.return,i,s),c||(w=null);break e}f=k.next}}else if(m.tag===18){if(w=m.return,w===null)throw Error(r(341));w.lanes|=i,f=w.alternate,f!==null&&(f.lanes|=i),lm(w,i,s),w=null}else w=m.child;if(w!==null)w.return=m;else for(w=m;w!==null;){if(w===s){w=null;break}if(m=w.sibling,m!==null){m.return=w.return,w=m;break}w=w.return}m=w}}function Rr(s,n,i,c){s=null;for(var m=n,f=!1;m!==null;){if(!f){if((m.flags&524288)!==0)f=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var w=m.alternate;if(w===null)throw Error(r(387));if(w=w.memoizedProps,w!==null){var k=m.type;Qs(m.pendingProps.value,w.value)||(s!==null?s.push(k):s=[k])}}else if(m===Ze.current){if(w=m.alternate,w===null)throw Error(r(387));w.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(io):s=[io])}m=m.return}s!==null&&rm(n,s,i,c),n.flags|=262144}function pc(s){for(s=s.firstContext;s!==null;){if(!Qs(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function El(s){Dl=s,ln=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function ms(s){return g0(Dl,s)}function yc(s,n){return Dl===null&&El(s),g0(s,n)}function g0(s,n){var i=n._currentValue;if(n={context:n,memoizedValue:i,next:null},ln===null){if(s===null)throw Error(r(308));ln=n,s.dependencies={lanes:0,firstContext:n},s.flags|=524288}else ln=ln.next=n;return i}var k1=typeof AbortController<"u"?AbortController:function(){var s=[],n=this.signal={aborted:!1,addEventListener:function(i,c){s.push(c)}};this.abort=function(){n.aborted=!0,s.forEach(function(i){return i()})}},A1=t.unstable_scheduleCallback,M1=t.unstable_NormalPriority,Bt={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function im(){return{controller:new k1,data:new Map,refCount:0}}function zi(s){s.refCount--,s.refCount===0&&A1(M1,function(){s.controller.abort()})}var Li=null,om=0,Dr=0,Er=null;function _1(s,n){if(Li===null){var i=Li=[];om=0,Dr=uh(),Er={status:"pending",value:void 0,then:function(c){i.push(c)}}}return om++,n.then(p0,p0),n}function p0(){if(--om===0&&Li!==null){Er!==null&&(Er.status="fulfilled");var s=Li;Li=null,Dr=0,Er=null;for(var n=0;n<s.length;n++)(0,s[n])()}}function T1(s,n){var i=[],c={status:"pending",value:null,reason:null,then:function(m){i.push(m)}};return s.then(function(){c.status="fulfilled",c.value=n;for(var m=0;m<i.length;m++)(0,i[m])(n)},function(m){for(c.status="rejected",c.reason=m,m=0;m<i.length;m++)(0,i[m])(void 0)}),c}var y0=D.S;D.S=function(s,n){tp=Ss(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&_1(s,n),y0!==null&&y0(s,n)};var Ol=fe(null);function cm(){var s=Ol.current;return s!==null?s:ht.pooledCache}function vc(s,n){n===null?ne(Ol,Ol.current):ne(Ol,n.pool)}function v0(){var s=cm();return s===null?null:{parent:Bt._currentValue,pool:s}}var Or=Error(r(460)),dm=Error(r(474)),jc=Error(r(542)),bc={then:function(){}};function j0(s){return s=s.status,s==="fulfilled"||s==="rejected"}function b0(s,n,i){switch(i=s[i],i===void 0?s.push(n):i!==n&&(n.then(tn,tn),n=i),n.status){case"fulfilled":return n.value;case"rejected":throw s=n.reason,w0(s),s;default:if(typeof n.status=="string")n.then(tn,tn);else{if(s=ht,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=n,s.status="pending",s.then(function(c){if(n.status==="pending"){var m=n;m.status="fulfilled",m.value=c}},function(c){if(n.status==="pending"){var m=n;m.status="rejected",m.reason=c}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw s=n.reason,w0(s),s}throw Ll=n,Or}}function zl(s){try{var n=s._init;return n(s._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(Ll=i,Or):i}}var Ll=null;function N0(){if(Ll===null)throw Error(r(459));var s=Ll;return Ll=null,s}function w0(s){if(s===Or||s===jc)throw Error(r(483))}var zr=null,qi=0;function Nc(s){var n=qi;return qi+=1,zr===null&&(zr=[]),b0(zr,s,n)}function Fi(s,n){n=n.props.ref,s.ref=n!==void 0?n:null}function wc(s,n){throw n.$$typeof===j?Error(r(525)):(s=Object.prototype.toString.call(n),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":s)))}function S0(s){function n(L,O){if(s){var U=L.deletions;U===null?(L.deletions=[O],L.flags|=16):U.push(O)}}function i(L,O){if(!s)return null;for(;O!==null;)n(L,O),O=O.sibling;return null}function c(L){for(var O=new Map;L!==null;)L.key!==null?O.set(L.key,L):O.set(L.index,L),L=L.sibling;return O}function m(L,O){return L=an(L,O),L.index=0,L.sibling=null,L}function f(L,O,U){return L.index=U,s?(U=L.alternate,U!==null?(U=U.index,U<O?(L.flags|=67108866,O):U):(L.flags|=67108866,O)):(L.flags|=1048576,O)}function w(L){return s&&L.alternate===null&&(L.flags|=67108866),L}function k(L,O,U,se){return O===null||O.tag!==6?(O=Zu(U,L.mode,se),O.return=L,O):(O=m(O,U),O.return=L,O)}function R(L,O,U,se){var we=U.type;return we===C?J(L,O,U.props.children,se,U.key):O!==null&&(O.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===Q&&zl(we)===O.type)?(O=m(O,U.props),Fi(O,U),O.return=L,O):(O=fc(U.type,U.key,U.props,null,L.mode,se),Fi(O,U),O.return=L,O)}function V(L,O,U,se){return O===null||O.tag!==4||O.stateNode.containerInfo!==U.containerInfo||O.stateNode.implementation!==U.implementation?(O=Ju(U,L.mode,se),O.return=L,O):(O=m(O,U.children||[]),O.return=L,O)}function J(L,O,U,se,we){return O===null||O.tag!==7?(O=Tl(U,L.mode,se,we),O.return=L,O):(O=m(O,U),O.return=L,O)}function ae(L,O,U){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Zu(""+O,L.mode,U),O.return=L,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case N:return U=fc(O.type,O.key,O.props,null,L.mode,U),Fi(U,O),U.return=L,U;case v:return O=Ju(O,L.mode,U),O.return=L,O;case Q:return O=zl(O),ae(L,O,U)}if(me(O)||re(O))return O=Tl(O,L.mode,U,null),O.return=L,O;if(typeof O.then=="function")return ae(L,Nc(O),U);if(O.$$typeof===A)return ae(L,yc(L,O),U);wc(L,O)}return null}function B(L,O,U,se){var we=O!==null?O.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return we!==null?null:k(L,O,""+U,se);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case N:return U.key===we?R(L,O,U,se):null;case v:return U.key===we?V(L,O,U,se):null;case Q:return U=zl(U),B(L,O,U,se)}if(me(U)||re(U))return we!==null?null:J(L,O,U,se,null);if(typeof U.then=="function")return B(L,O,Nc(U),se);if(U.$$typeof===A)return B(L,O,yc(L,U),se);wc(L,U)}return null}function Y(L,O,U,se,we){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return L=L.get(U)||null,k(O,L,""+se,we);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case N:return L=L.get(se.key===null?U:se.key)||null,R(O,L,se,we);case v:return L=L.get(se.key===null?U:se.key)||null,V(O,L,se,we);case Q:return se=zl(se),Y(L,O,U,se,we)}if(me(se)||re(se))return L=L.get(U)||null,J(O,L,se,we,null);if(typeof se.then=="function")return Y(L,O,U,Nc(se),we);if(se.$$typeof===A)return Y(L,O,U,yc(O,se),we);wc(O,se)}return null}function pe(L,O,U,se){for(var we=null,Je=null,Ne=O,qe=O=0,Be=null;Ne!==null&&qe<U.length;qe++){Ne.index>qe?(Be=Ne,Ne=null):Be=Ne.sibling;var et=B(L,Ne,U[qe],se);if(et===null){Ne===null&&(Ne=Be);break}s&&Ne&&et.alternate===null&&n(L,Ne),O=f(et,O,qe),Je===null?we=et:Je.sibling=et,Je=et,Ne=Be}if(qe===U.length)return i(L,Ne),$e&&nn(L,qe),we;if(Ne===null){for(;qe<U.length;qe++)Ne=ae(L,U[qe],se),Ne!==null&&(O=f(Ne,O,qe),Je===null?we=Ne:Je.sibling=Ne,Je=Ne);return $e&&nn(L,qe),we}for(Ne=c(Ne);qe<U.length;qe++)Be=Y(Ne,L,qe,U[qe],se),Be!==null&&(s&&Be.alternate!==null&&Ne.delete(Be.key===null?qe:Be.key),O=f(Be,O,qe),Je===null?we=Be:Je.sibling=Be,Je=Be);return s&&Ne.forEach(function(el){return n(L,el)}),$e&&nn(L,qe),we}function Ce(L,O,U,se){if(U==null)throw Error(r(151));for(var we=null,Je=null,Ne=O,qe=O=0,Be=null,et=U.next();Ne!==null&&!et.done;qe++,et=U.next()){Ne.index>qe?(Be=Ne,Ne=null):Be=Ne.sibling;var el=B(L,Ne,et.value,se);if(el===null){Ne===null&&(Ne=Be);break}s&&Ne&&el.alternate===null&&n(L,Ne),O=f(el,O,qe),Je===null?we=el:Je.sibling=el,Je=el,Ne=Be}if(et.done)return i(L,Ne),$e&&nn(L,qe),we;if(Ne===null){for(;!et.done;qe++,et=U.next())et=ae(L,et.value,se),et!==null&&(O=f(et,O,qe),Je===null?we=et:Je.sibling=et,Je=et);return $e&&nn(L,qe),we}for(Ne=c(Ne);!et.done;qe++,et=U.next())et=Y(Ne,L,qe,et.value,se),et!==null&&(s&&et.alternate!==null&&Ne.delete(et.key===null?qe:et.key),O=f(et,O,qe),Je===null?we=et:Je.sibling=et,Je=et);return s&&Ne.forEach(function(Iw){return n(L,Iw)}),$e&&nn(L,qe),we}function dt(L,O,U,se){if(typeof U=="object"&&U!==null&&U.type===C&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case N:e:{for(var we=U.key;O!==null;){if(O.key===we){if(we=U.type,we===C){if(O.tag===7){i(L,O.sibling),se=m(O,U.props.children),se.return=L,L=se;break e}}else if(O.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===Q&&zl(we)===O.type){i(L,O.sibling),se=m(O,U.props),Fi(se,U),se.return=L,L=se;break e}i(L,O);break}else n(L,O);O=O.sibling}U.type===C?(se=Tl(U.props.children,L.mode,se,U.key),se.return=L,L=se):(se=fc(U.type,U.key,U.props,null,L.mode,se),Fi(se,U),se.return=L,L=se)}return w(L);case v:e:{for(we=U.key;O!==null;){if(O.key===we)if(O.tag===4&&O.stateNode.containerInfo===U.containerInfo&&O.stateNode.implementation===U.implementation){i(L,O.sibling),se=m(O,U.children||[]),se.return=L,L=se;break e}else{i(L,O);break}else n(L,O);O=O.sibling}se=Ju(U,L.mode,se),se.return=L,L=se}return w(L);case Q:return U=zl(U),dt(L,O,U,se)}if(me(U))return pe(L,O,U,se);if(re(U)){if(we=re(U),typeof we!="function")throw Error(r(150));return U=we.call(U),Ce(L,O,U,se)}if(typeof U.then=="function")return dt(L,O,Nc(U),se);if(U.$$typeof===A)return dt(L,O,yc(L,U),se);wc(L,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,O!==null&&O.tag===6?(i(L,O.sibling),se=m(O,U),se.return=L,L=se):(i(L,O),se=Zu(U,L.mode,se),se.return=L,L=se),w(L)):i(L,O)}return function(L,O,U,se){try{qi=0;var we=dt(L,O,U,se);return zr=null,we}catch(Ne){if(Ne===Or||Ne===jc)throw Ne;var Je=Gs(29,Ne,null,L.mode);return Je.lanes=se,Je.return=L,Je}finally{}}}var ql=S0(!0),C0=S0(!1),qn=!1;function um(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mm(s,n){s=s.updateQueue,n.updateQueue===s&&(n.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Fn(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Pn(s,n,i){var c=s.updateQueue;if(c===null)return null;if(c=c.shared,(tt&2)!==0){var m=c.pending;return m===null?n.next=n:(n.next=m.next,m.next=n),c.pending=n,n=xc(s),o0(s,null,i),n}return hc(s,c,n,i),xc(s)}function Pi(s,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194048)!==0)){var c=n.lanes;c&=s.pendingLanes,i|=c,n.lanes=i,Es(s,i)}}function hm(s,n){var i=s.updateQueue,c=s.alternate;if(c!==null&&(c=c.updateQueue,i===c)){var m=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var w={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};f===null?m=f=w:f=f.next=w,i=i.next}while(i!==null);f===null?m=f=n:f=f.next=n}else m=f=n;i={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:f,shared:c.shared,callbacks:c.callbacks},s.updateQueue=i;return}s=i.lastBaseUpdate,s===null?i.firstBaseUpdate=n:s.next=n,i.lastBaseUpdate=n}var xm=!1;function Ui(){if(xm){var s=Er;if(s!==null)throw s}}function Ii(s,n,i,c){xm=!1;var m=s.updateQueue;qn=!1;var f=m.firstBaseUpdate,w=m.lastBaseUpdate,k=m.shared.pending;if(k!==null){m.shared.pending=null;var R=k,V=R.next;R.next=null,w===null?f=V:w.next=V,w=R;var J=s.alternate;J!==null&&(J=J.updateQueue,k=J.lastBaseUpdate,k!==w&&(k===null?J.firstBaseUpdate=V:k.next=V,J.lastBaseUpdate=R))}if(f!==null){var ae=m.baseState;w=0,J=V=R=null,k=f;do{var B=k.lane&-536870913,Y=B!==k.lane;if(Y?(He&B)===B:(c&B)===B){B!==0&&B===Dr&&(xm=!0),J!==null&&(J=J.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var pe=s,Ce=k;B=n;var dt=i;switch(Ce.tag){case 1:if(pe=Ce.payload,typeof pe=="function"){ae=pe.call(dt,ae,B);break e}ae=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=Ce.payload,B=typeof pe=="function"?pe.call(dt,ae,B):pe,B==null)break e;ae=p({},ae,B);break e;case 2:qn=!0}}B=k.callback,B!==null&&(s.flags|=64,Y&&(s.flags|=8192),Y=m.callbacks,Y===null?m.callbacks=[B]:Y.push(B))}else Y={lane:B,tag:k.tag,payload:k.payload,callback:k.callback,next:null},J===null?(V=J=Y,R=ae):J=J.next=Y,w|=B;if(k=k.next,k===null){if(k=m.shared.pending,k===null)break;Y=k,k=Y.next,Y.next=null,m.lastBaseUpdate=Y,m.shared.pending=null}}while(!0);J===null&&(R=ae),m.baseState=R,m.firstBaseUpdate=V,m.lastBaseUpdate=J,f===null&&(m.shared.lanes=0),Bn|=w,s.lanes=w,s.memoizedState=ae}}function k0(s,n){if(typeof s!="function")throw Error(r(191,s));s.call(n)}function A0(s,n){var i=s.callbacks;if(i!==null)for(s.callbacks=null,s=0;s<i.length;s++)k0(i[s],n)}var Lr=fe(null),Sc=fe(0);function M0(s,n){s=gn,ne(Sc,s),ne(Lr,n),gn=s|n.baseLanes}function fm(){ne(Sc,gn),ne(Lr,Lr.current)}function gm(){gn=Sc.current,Te(Lr),Te(Sc)}var Ys=fe(null),ua=null;function Un(s){var n=s.alternate;ne(It,It.current&1),ne(Ys,s),ua===null&&(n===null||Lr.current!==null||n.memoizedState!==null)&&(ua=s)}function pm(s){ne(It,It.current),ne(Ys,s),ua===null&&(ua=s)}function _0(s){s.tag===22?(ne(It,It.current),ne(Ys,s),ua===null&&(ua=s)):In()}function In(){ne(It,It.current),ne(Ys,Ys.current)}function Xs(s){Te(Ys),ua===s&&(ua=null),Te(It)}var It=fe(0);function Cc(s){for(var n=s;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||wh(i)||Sh(i)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break;for(;n.sibling===null;){if(n.return===null||n.return===s)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var on=0,ze=null,ot=null,$t=null,kc=!1,qr=!1,Fl=!1,Ac=0,Vi=0,Fr=null,R1=0;function zt(){throw Error(r(321))}function ym(s,n){if(n===null)return!1;for(var i=0;i<n.length&&i<s.length;i++)if(!Qs(s[i],n[i]))return!1;return!0}function vm(s,n,i,c,m,f){return on=f,ze=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,D.H=s===null||s.memoizedState===null?mg:Om,Fl=!1,f=i(c,m),Fl=!1,qr&&(f=R0(n,i,c,m)),T0(s),f}function T0(s){D.H=$i;var n=ot!==null&&ot.next!==null;if(on=0,$t=ot=ze=null,kc=!1,Vi=0,Fr=null,n)throw Error(r(300));s===null||Kt||(s=s.dependencies,s!==null&&pc(s)&&(Kt=!0))}function R0(s,n,i,c){ze=s;var m=0;do{if(qr&&(Fr=null),Vi=0,qr=!1,25<=m)throw Error(r(301));if(m+=1,$t=ot=null,s.updateQueue!=null){var f=s.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}D.H=hg,f=n(i,c)}while(qr);return f}function D1(){var s=D.H,n=s.useState()[0];return n=typeof n.then=="function"?Hi(n):n,s=s.useState()[0],(ot!==null?ot.memoizedState:null)!==s&&(ze.flags|=1024),n}function jm(){var s=Ac!==0;return Ac=0,s}function bm(s,n,i){n.updateQueue=s.updateQueue,n.flags&=-2053,s.lanes&=~i}function Nm(s){if(kc){for(s=s.memoizedState;s!==null;){var n=s.queue;n!==null&&(n.pending=null),s=s.next}kc=!1}on=0,$t=ot=ze=null,qr=!1,Vi=Ac=0,Fr=null}function ks(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?ze.memoizedState=$t=s:$t=$t.next=s,$t}function Vt(){if(ot===null){var s=ze.alternate;s=s!==null?s.memoizedState:null}else s=ot.next;var n=$t===null?ze.memoizedState:$t.next;if(n!==null)$t=n,ot=s;else{if(s===null)throw ze.alternate===null?Error(r(467)):Error(r(310));ot=s,s={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},$t===null?ze.memoizedState=$t=s:$t=$t.next=s}return $t}function Mc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hi(s){var n=Vi;return Vi+=1,Fr===null&&(Fr=[]),s=b0(Fr,s,n),n=ze,($t===null?n.memoizedState:$t.next)===null&&(n=n.alternate,D.H=n===null||n.memoizedState===null?mg:Om),s}function _c(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Hi(s);if(s.$$typeof===A)return ms(s)}throw Error(r(438,String(s)))}function wm(s){var n=null,i=ze.updateQueue;if(i!==null&&(n=i.memoCache),n==null){var c=ze.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(n={data:c.data.map(function(m){return m.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),i===null&&(i=Mc(),ze.updateQueue=i),i.memoCache=n,i=n.data[n.index],i===void 0)for(i=n.data[n.index]=Array(s),c=0;c<s;c++)i[c]=q;return n.index++,i}function cn(s,n){return typeof n=="function"?n(s):n}function Tc(s){var n=Vt();return Sm(n,ot,s)}function Sm(s,n,i){var c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=i;var m=s.baseQueue,f=c.pending;if(f!==null){if(m!==null){var w=m.next;m.next=f.next,f.next=w}n.baseQueue=m=f,c.pending=null}if(f=s.baseState,m===null)s.memoizedState=f;else{n=m.next;var k=w=null,R=null,V=n,J=!1;do{var ae=V.lane&-536870913;if(ae!==V.lane?(He&ae)===ae:(on&ae)===ae){var B=V.revertLane;if(B===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),ae===Dr&&(J=!0);else if((on&B)===B){V=V.next,B===Dr&&(J=!0);continue}else ae={lane:0,revertLane:V.revertLane,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},R===null?(k=R=ae,w=f):R=R.next=ae,ze.lanes|=B,Bn|=B;ae=V.action,Fl&&i(f,ae),f=V.hasEagerState?V.eagerState:i(f,ae)}else B={lane:ae,revertLane:V.revertLane,gesture:V.gesture,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},R===null?(k=R=B,w=f):R=R.next=B,ze.lanes|=ae,Bn|=ae;V=V.next}while(V!==null&&V!==n);if(R===null?w=f:R.next=k,!Qs(f,s.memoizedState)&&(Kt=!0,J&&(i=Er,i!==null)))throw i;s.memoizedState=f,s.baseState=w,s.baseQueue=R,c.lastRenderedState=f}return m===null&&(c.lanes=0),[s.memoizedState,c.dispatch]}function Cm(s){var n=Vt(),i=n.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=s;var c=i.dispatch,m=i.pending,f=n.memoizedState;if(m!==null){i.pending=null;var w=m=m.next;do f=s(f,w.action),w=w.next;while(w!==m);Qs(f,n.memoizedState)||(Kt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),i.lastRenderedState=f}return[f,c]}function D0(s,n,i){var c=ze,m=Vt(),f=$e;if(f){if(i===void 0)throw Error(r(407));i=i()}else i=n();var w=!Qs((ot||m).memoizedState,i);if(w&&(m.memoizedState=i,Kt=!0),m=m.queue,Mm(z0.bind(null,c,m,s),[s]),m.getSnapshot!==n||w||$t!==null&&$t.memoizedState.tag&1){if(c.flags|=2048,Pr(9,{destroy:void 0},O0.bind(null,c,m,i,n),null),ht===null)throw Error(r(349));f||(on&127)!==0||E0(c,n,i)}return i}function E0(s,n,i){s.flags|=16384,s={getSnapshot:n,value:i},n=ze.updateQueue,n===null?(n=Mc(),ze.updateQueue=n,n.stores=[s]):(i=n.stores,i===null?n.stores=[s]:i.push(s))}function O0(s,n,i,c){n.value=i,n.getSnapshot=c,L0(n)&&q0(s)}function z0(s,n,i){return i(function(){L0(n)&&q0(s)})}function L0(s){var n=s.getSnapshot;s=s.value;try{var i=n();return!Qs(s,i)}catch{return!0}}function q0(s){var n=_l(s,2);n!==null&&Is(n,s,2)}function km(s){var n=ks();if(typeof s=="function"){var i=s;if(s=i(),Fl){ba(!0);try{i()}finally{ba(!1)}}}return n.memoizedState=n.baseState=s,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cn,lastRenderedState:s},n}function F0(s,n,i,c){return s.baseState=i,Sm(s,ot,typeof c=="function"?c:cn)}function E1(s,n,i,c,m){if(Ec(s))throw Error(r(485));if(s=n.action,s!==null){var f={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){f.listeners.push(w)}};D.T!==null?i(!0):f.isTransition=!1,c(f),i=n.pending,i===null?(f.next=n.pending=f,P0(n,f)):(f.next=i.next,n.pending=i.next=f)}}function P0(s,n){var i=n.action,c=n.payload,m=s.state;if(n.isTransition){var f=D.T,w={};D.T=w;try{var k=i(m,c),R=D.S;R!==null&&R(w,k),U0(s,n,k)}catch(V){Am(s,n,V)}finally{f!==null&&w.types!==null&&(f.types=w.types),D.T=f}}else try{f=i(m,c),U0(s,n,f)}catch(V){Am(s,n,V)}}function U0(s,n,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(c){I0(s,n,c)},function(c){return Am(s,n,c)}):I0(s,n,i)}function I0(s,n,i){n.status="fulfilled",n.value=i,V0(n),s.state=i,n=s.pending,n!==null&&(i=n.next,i===n?s.pending=null:(i=i.next,n.next=i,P0(s,i)))}function Am(s,n,i){var c=s.pending;if(s.pending=null,c!==null){c=c.next;do n.status="rejected",n.reason=i,V0(n),n=n.next;while(n!==c)}s.action=null}function V0(s){s=s.listeners;for(var n=0;n<s.length;n++)(0,s[n])()}function H0(s,n){return n}function B0(s,n){if($e){var i=ht.formState;if(i!==null){e:{var c=ze;if($e){if(yt){t:{for(var m=yt,f=da;m.nodeType!==8;){if(!f){m=null;break t}if(m=ma(m.nextSibling),m===null){m=null;break t}}f=m.data,m=f==="F!"||f==="F"?m:null}if(m){yt=ma(m.nextSibling),c=m.data==="F!";break e}}zn(c)}c=!1}c&&(n=i[0])}}return i=ks(),i.memoizedState=i.baseState=n,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:H0,lastRenderedState:n},i.queue=c,i=cg.bind(null,ze,c),c.dispatch=i,c=km(!1),f=Em.bind(null,ze,!1,c.queue),c=ks(),m={state:n,dispatch:null,action:s,pending:null},c.queue=m,i=E1.bind(null,ze,m,f,i),m.dispatch=i,c.memoizedState=s,[n,i,!1]}function $0(s){var n=Vt();return K0(n,ot,s)}function K0(s,n,i){if(n=Sm(s,n,H0)[0],s=Tc(cn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var c=Hi(n)}catch(w){throw w===Or?jc:w}else c=n;n=Vt();var m=n.queue,f=m.dispatch;return i!==n.memoizedState&&(ze.flags|=2048,Pr(9,{destroy:void 0},O1.bind(null,m,i),null)),[c,f,s]}function O1(s,n){s.action=n}function Q0(s){var n=Vt(),i=ot;if(i!==null)return K0(n,i,s);Vt(),n=n.memoizedState,i=Vt();var c=i.queue.dispatch;return i.memoizedState=s,[n,c,!1]}function Pr(s,n,i,c){return s={tag:s,create:i,deps:c,inst:n,next:null},n=ze.updateQueue,n===null&&(n=Mc(),ze.updateQueue=n),i=n.lastEffect,i===null?n.lastEffect=s.next=s:(c=i.next,i.next=s,s.next=c,n.lastEffect=s),s}function G0(){return Vt().memoizedState}function Rc(s,n,i,c){var m=ks();ze.flags|=s,m.memoizedState=Pr(1|n,{destroy:void 0},i,c===void 0?null:c)}function Dc(s,n,i,c){var m=Vt();c=c===void 0?null:c;var f=m.memoizedState.inst;ot!==null&&c!==null&&ym(c,ot.memoizedState.deps)?m.memoizedState=Pr(n,f,i,c):(ze.flags|=s,m.memoizedState=Pr(1|n,f,i,c))}function Y0(s,n){Rc(8390656,8,s,n)}function Mm(s,n){Dc(2048,8,s,n)}function z1(s){ze.flags|=4;var n=ze.updateQueue;if(n===null)n=Mc(),ze.updateQueue=n,n.events=[s];else{var i=n.events;i===null?n.events=[s]:i.push(s)}}function X0(s){var n=Vt().memoizedState;return z1({ref:n,nextImpl:s}),function(){if((tt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function W0(s,n){return Dc(4,2,s,n)}function Z0(s,n){return Dc(4,4,s,n)}function J0(s,n){if(typeof n=="function"){s=s();var i=n(s);return function(){typeof i=="function"?i():n(null)}}if(n!=null)return s=s(),n.current=s,function(){n.current=null}}function eg(s,n,i){i=i!=null?i.concat([s]):null,Dc(4,4,J0.bind(null,n,s),i)}function _m(){}function tg(s,n){var i=Vt();n=n===void 0?null:n;var c=i.memoizedState;return n!==null&&ym(n,c[1])?c[0]:(i.memoizedState=[s,n],s)}function sg(s,n){var i=Vt();n=n===void 0?null:n;var c=i.memoizedState;if(n!==null&&ym(n,c[1]))return c[0];if(c=s(),Fl){ba(!0);try{s()}finally{ba(!1)}}return i.memoizedState=[c,n],c}function Tm(s,n,i){return i===void 0||(on&1073741824)!==0&&(He&261930)===0?s.memoizedState=n:(s.memoizedState=i,s=ap(),ze.lanes|=s,Bn|=s,i)}function ag(s,n,i,c){return Qs(i,n)?i:Lr.current!==null?(s=Tm(s,i,c),Qs(s,n)||(Kt=!0),s):(on&42)===0||(on&1073741824)!==0&&(He&261930)===0?(Kt=!0,s.memoizedState=i):(s=ap(),ze.lanes|=s,Bn|=s,n)}function ng(s,n,i,c,m){var f=X.p;X.p=f!==0&&8>f?f:8;var w=D.T,k={};D.T=k,Em(s,!1,n,i);try{var R=m(),V=D.S;if(V!==null&&V(k,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var J=T1(R,c);Bi(s,n,J,Js(s))}else Bi(s,n,c,Js(s))}catch(ae){Bi(s,n,{then:function(){},status:"rejected",reason:ae},Js())}finally{X.p=f,w!==null&&k.types!==null&&(w.types=k.types),D.T=w}}function L1(){}function Rm(s,n,i,c){if(s.tag!==5)throw Error(r(476));var m=lg(s).queue;ng(s,m,n,Z,i===null?L1:function(){return rg(s),i(c)})}function lg(s){var n=s.memoizedState;if(n!==null)return n;n={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cn,lastRenderedState:Z},next:null};var i={};return n.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cn,lastRenderedState:i},next:null},s.memoizedState=n,s=s.alternate,s!==null&&(s.memoizedState=n),n}function rg(s){var n=lg(s);n.next===null&&(n=s.alternate.memoizedState),Bi(s,n.next.queue,{},Js())}function Dm(){return ms(io)}function ig(){return Vt().memoizedState}function og(){return Vt().memoizedState}function q1(s){for(var n=s.return;n!==null;){switch(n.tag){case 24:case 3:var i=Js();s=Fn(i);var c=Pn(n,s,i);c!==null&&(Is(c,n,i),Pi(c,n,i)),n={cache:im()},s.payload=n;return}n=n.return}}function F1(s,n,i){var c=Js();i={lane:c,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Ec(s)?dg(n,i):(i=Xu(s,n,i,c),i!==null&&(Is(i,s,c),ug(i,n,c)))}function cg(s,n,i){var c=Js();Bi(s,n,i,c)}function Bi(s,n,i,c){var m={lane:c,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(Ec(s))dg(n,m);else{var f=s.alternate;if(s.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var w=n.lastRenderedState,k=f(w,i);if(m.hasEagerState=!0,m.eagerState=k,Qs(k,w))return hc(s,n,m,0),ht===null&&mc(),!1}catch{}finally{}if(i=Xu(s,n,m,c),i!==null)return Is(i,s,c),ug(i,n,c),!0}return!1}function Em(s,n,i,c){if(c={lane:2,revertLane:uh(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Ec(s)){if(n)throw Error(r(479))}else n=Xu(s,i,c,2),n!==null&&Is(n,s,2)}function Ec(s){var n=s.alternate;return s===ze||n!==null&&n===ze}function dg(s,n){qr=kc=!0;var i=s.pending;i===null?n.next=n:(n.next=i.next,i.next=n),s.pending=n}function ug(s,n,i){if((i&4194048)!==0){var c=n.lanes;c&=s.pendingLanes,i|=c,n.lanes=i,Es(s,i)}}var $i={readContext:ms,use:_c,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useLayoutEffect:zt,useInsertionEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useSyncExternalStore:zt,useId:zt,useHostTransitionStatus:zt,useFormState:zt,useActionState:zt,useOptimistic:zt,useMemoCache:zt,useCacheRefresh:zt};$i.useEffectEvent=zt;var mg={readContext:ms,use:_c,useCallback:function(s,n){return ks().memoizedState=[s,n===void 0?null:n],s},useContext:ms,useEffect:Y0,useImperativeHandle:function(s,n,i){i=i!=null?i.concat([s]):null,Rc(4194308,4,J0.bind(null,n,s),i)},useLayoutEffect:function(s,n){return Rc(4194308,4,s,n)},useInsertionEffect:function(s,n){Rc(4,2,s,n)},useMemo:function(s,n){var i=ks();n=n===void 0?null:n;var c=s();if(Fl){ba(!0);try{s()}finally{ba(!1)}}return i.memoizedState=[c,n],c},useReducer:function(s,n,i){var c=ks();if(i!==void 0){var m=i(n);if(Fl){ba(!0);try{i(n)}finally{ba(!1)}}}else m=n;return c.memoizedState=c.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},c.queue=s,s=s.dispatch=F1.bind(null,ze,s),[c.memoizedState,s]},useRef:function(s){var n=ks();return s={current:s},n.memoizedState=s},useState:function(s){s=km(s);var n=s.queue,i=cg.bind(null,ze,n);return n.dispatch=i,[s.memoizedState,i]},useDebugValue:_m,useDeferredValue:function(s,n){var i=ks();return Tm(i,s,n)},useTransition:function(){var s=km(!1);return s=ng.bind(null,ze,s.queue,!0,!1),ks().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,n,i){var c=ze,m=ks();if($e){if(i===void 0)throw Error(r(407));i=i()}else{if(i=n(),ht===null)throw Error(r(349));(He&127)!==0||E0(c,n,i)}m.memoizedState=i;var f={value:i,getSnapshot:n};return m.queue=f,Y0(z0.bind(null,c,f,s),[s]),c.flags|=2048,Pr(9,{destroy:void 0},O0.bind(null,c,f,i,n),null),i},useId:function(){var s=ks(),n=ht.identifierPrefix;if($e){var i=Va,c=Ia;i=(c&~(1<<32-ps(c)-1)).toString(32)+i,n="_"+n+"R_"+i,i=Ac++,0<i&&(n+="H"+i.toString(32)),n+="_"}else i=R1++,n="_"+n+"r_"+i.toString(32)+"_";return s.memoizedState=n},useHostTransitionStatus:Dm,useFormState:B0,useActionState:B0,useOptimistic:function(s){var n=ks();n.memoizedState=n.baseState=s;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=i,n=Em.bind(null,ze,!0,i),i.dispatch=n,[s,n]},useMemoCache:wm,useCacheRefresh:function(){return ks().memoizedState=q1.bind(null,ze)},useEffectEvent:function(s){var n=ks(),i={impl:s};return n.memoizedState=i,function(){if((tt&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}},Om={readContext:ms,use:_c,useCallback:tg,useContext:ms,useEffect:Mm,useImperativeHandle:eg,useInsertionEffect:W0,useLayoutEffect:Z0,useMemo:sg,useReducer:Tc,useRef:G0,useState:function(){return Tc(cn)},useDebugValue:_m,useDeferredValue:function(s,n){var i=Vt();return ag(i,ot.memoizedState,s,n)},useTransition:function(){var s=Tc(cn)[0],n=Vt().memoizedState;return[typeof s=="boolean"?s:Hi(s),n]},useSyncExternalStore:D0,useId:ig,useHostTransitionStatus:Dm,useFormState:$0,useActionState:$0,useOptimistic:function(s,n){var i=Vt();return F0(i,ot,s,n)},useMemoCache:wm,useCacheRefresh:og};Om.useEffectEvent=X0;var hg={readContext:ms,use:_c,useCallback:tg,useContext:ms,useEffect:Mm,useImperativeHandle:eg,useInsertionEffect:W0,useLayoutEffect:Z0,useMemo:sg,useReducer:Cm,useRef:G0,useState:function(){return Cm(cn)},useDebugValue:_m,useDeferredValue:function(s,n){var i=Vt();return ot===null?Tm(i,s,n):ag(i,ot.memoizedState,s,n)},useTransition:function(){var s=Cm(cn)[0],n=Vt().memoizedState;return[typeof s=="boolean"?s:Hi(s),n]},useSyncExternalStore:D0,useId:ig,useHostTransitionStatus:Dm,useFormState:Q0,useActionState:Q0,useOptimistic:function(s,n){var i=Vt();return ot!==null?F0(i,ot,s,n):(i.baseState=s,[s,i.queue.dispatch])},useMemoCache:wm,useCacheRefresh:og};hg.useEffectEvent=X0;function zm(s,n,i,c){n=s.memoizedState,i=i(c,n),i=i==null?n:p({},n,i),s.memoizedState=i,s.lanes===0&&(s.updateQueue.baseState=i)}var Lm={enqueueSetState:function(s,n,i){s=s._reactInternals;var c=Js(),m=Fn(c);m.payload=n,i!=null&&(m.callback=i),n=Pn(s,m,c),n!==null&&(Is(n,s,c),Pi(n,s,c))},enqueueReplaceState:function(s,n,i){s=s._reactInternals;var c=Js(),m=Fn(c);m.tag=1,m.payload=n,i!=null&&(m.callback=i),n=Pn(s,m,c),n!==null&&(Is(n,s,c),Pi(n,s,c))},enqueueForceUpdate:function(s,n){s=s._reactInternals;var i=Js(),c=Fn(i);c.tag=2,n!=null&&(c.callback=n),n=Pn(s,c,i),n!==null&&(Is(n,s,i),Pi(n,s,i))}};function xg(s,n,i,c,m,f,w){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(c,f,w):n.prototype&&n.prototype.isPureReactComponent?!Ri(i,c)||!Ri(m,f):!0}function fg(s,n,i,c){s=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,c),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,c),n.state!==s&&Lm.enqueueReplaceState(n,n.state,null)}function Pl(s,n){var i=n;if("ref"in n){i={};for(var c in n)c!=="ref"&&(i[c]=n[c])}if(s=s.defaultProps){i===n&&(i=p({},i));for(var m in s)i[m]===void 0&&(i[m]=s[m])}return i}function gg(s){uc(s)}function pg(s){console.error(s)}function yg(s){uc(s)}function Oc(s,n){try{var i=s.onUncaughtError;i(n.value,{componentStack:n.stack})}catch(c){setTimeout(function(){throw c})}}function vg(s,n,i){try{var c=s.onCaughtError;c(i.value,{componentStack:i.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function qm(s,n,i){return i=Fn(i),i.tag=3,i.payload={element:null},i.callback=function(){Oc(s,n)},i}function jg(s){return s=Fn(s),s.tag=3,s}function bg(s,n,i,c){var m=i.type.getDerivedStateFromError;if(typeof m=="function"){var f=c.value;s.payload=function(){return m(f)},s.callback=function(){vg(n,i,c)}}var w=i.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(s.callback=function(){vg(n,i,c),typeof m!="function"&&($n===null?$n=new Set([this]):$n.add(this));var k=c.stack;this.componentDidCatch(c.value,{componentStack:k!==null?k:""})})}function P1(s,n,i,c,m){if(i.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(n=i.alternate,n!==null&&Rr(n,i,m,!0),i=Ys.current,i!==null){switch(i.tag){case 31:case 13:return ua===null?Kc():i.alternate===null&&Lt===0&&(Lt=3),i.flags&=-257,i.flags|=65536,i.lanes=m,c===bc?i.flags|=16384:(n=i.updateQueue,n===null?i.updateQueue=new Set([c]):n.add(c),oh(s,c,m)),!1;case 22:return i.flags|=65536,c===bc?i.flags|=16384:(n=i.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([c])},i.updateQueue=n):(i=n.retryQueue,i===null?n.retryQueue=new Set([c]):i.add(c)),oh(s,c,m)),!1}throw Error(r(435,i.tag))}return oh(s,c,m),Kc(),!1}if($e)return n=Ys.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=m,c!==sm&&(s=Error(r(422),{cause:c}),Oi(ia(s,i)))):(c!==sm&&(n=Error(r(423),{cause:c}),Oi(ia(n,i))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,c=ia(c,i),m=qm(s.stateNode,c,m),hm(s,m),Lt!==4&&(Lt=2)),!1;var f=Error(r(520),{cause:c});if(f=ia(f,i),Ji===null?Ji=[f]:Ji.push(f),Lt!==4&&(Lt=2),n===null)return!0;c=ia(c,i),i=n;do{switch(i.tag){case 3:return i.flags|=65536,s=m&-m,i.lanes|=s,s=qm(i.stateNode,c,s),hm(i,s),!1;case 1:if(n=i.type,f=i.stateNode,(i.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&($n===null||!$n.has(f))))return i.flags|=65536,m&=-m,i.lanes|=m,m=jg(m),bg(m,s,i,c),hm(i,m),!1}i=i.return}while(i!==null);return!1}var Fm=Error(r(461)),Kt=!1;function hs(s,n,i,c){n.child=s===null?C0(n,null,i,c):ql(n,s.child,i,c)}function Ng(s,n,i,c,m){i=i.render;var f=n.ref;if("ref"in c){var w={};for(var k in c)k!=="ref"&&(w[k]=c[k])}else w=c;return El(n),c=vm(s,n,i,w,f,m),k=jm(),s!==null&&!Kt?(bm(s,n,m),dn(s,n,m)):($e&&k&&em(n),n.flags|=1,hs(s,n,c,m),n.child)}function wg(s,n,i,c,m){if(s===null){var f=i.type;return typeof f=="function"&&!Wu(f)&&f.defaultProps===void 0&&i.compare===null?(n.tag=15,n.type=f,Sg(s,n,f,c,m)):(s=fc(i.type,null,c,n,n.mode,m),s.ref=n.ref,s.return=n,n.child=s)}if(f=s.child,!Km(s,m)){var w=f.memoizedProps;if(i=i.compare,i=i!==null?i:Ri,i(w,c)&&s.ref===n.ref)return dn(s,n,m)}return n.flags|=1,s=an(f,c),s.ref=n.ref,s.return=n,n.child=s}function Sg(s,n,i,c,m){if(s!==null){var f=s.memoizedProps;if(Ri(f,c)&&s.ref===n.ref)if(Kt=!1,n.pendingProps=c=f,Km(s,m))(s.flags&131072)!==0&&(Kt=!0);else return n.lanes=s.lanes,dn(s,n,m)}return Pm(s,n,i,c,m)}function Cg(s,n,i,c){var m=c.children,f=s!==null?s.memoizedState:null;if(s===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|i:i,s!==null){for(c=n.child=s.child,m=0;c!==null;)m=m|c.lanes|c.childLanes,c=c.sibling;c=m&~f}else c=0,n.child=null;return kg(s,n,f,i,c)}if((i&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},s!==null&&vc(n,f!==null?f.cachePool:null),f!==null?M0(n,f):fm(),_0(n);else return c=n.lanes=536870912,kg(s,n,f!==null?f.baseLanes|i:i,i,c)}else f!==null?(vc(n,f.cachePool),M0(n,f),In(),n.memoizedState=null):(s!==null&&vc(n,null),fm(),In());return hs(s,n,m,i),n.child}function Ki(s,n){return s!==null&&s.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function kg(s,n,i,c,m){var f=cm();return f=f===null?null:{parent:Bt._currentValue,pool:f},n.memoizedState={baseLanes:i,cachePool:f},s!==null&&vc(n,null),fm(),_0(n),s!==null&&Rr(s,n,c,!0),n.childLanes=m,null}function zc(s,n){return n=qc({mode:n.mode,children:n.children},s.mode),n.ref=s.ref,s.child=n,n.return=s,n}function Ag(s,n,i){return ql(n,s.child,null,i),s=zc(n,n.pendingProps),s.flags|=2,Xs(n),n.memoizedState=null,s}function U1(s,n,i){var c=n.pendingProps,m=(n.flags&128)!==0;if(n.flags&=-129,s===null){if($e){if(c.mode==="hidden")return s=zc(n,c),n.lanes=536870912,Ki(null,s);if(pm(n),(s=yt)?(s=Pp(s,da),s=s!==null&&s.data==="&"?s:null,s!==null&&(n.memoizedState={dehydrated:s,treeContext:En!==null?{id:Ia,overflow:Va}:null,retryLane:536870912,hydrationErrors:null},i=d0(s),i.return=n,n.child=i,us=n,yt=null)):s=null,s===null)throw zn(n);return n.lanes=536870912,null}return zc(n,c)}var f=s.memoizedState;if(f!==null){var w=f.dehydrated;if(pm(n),m)if(n.flags&256)n.flags&=-257,n=Ag(s,n,i);else if(n.memoizedState!==null)n.child=s.child,n.flags|=128,n=null;else throw Error(r(558));else if(Kt||Rr(s,n,i,!1),m=(i&s.childLanes)!==0,Kt||m){if(c=ht,c!==null&&(w=Os(c,i),w!==0&&w!==f.retryLane))throw f.retryLane=w,_l(s,w),Is(c,s,w),Fm;Kc(),n=Ag(s,n,i)}else s=f.treeContext,yt=ma(w.nextSibling),us=n,$e=!0,On=null,da=!1,s!==null&&h0(n,s),n=zc(n,c),n.flags|=4096;return n}return s=an(s.child,{mode:c.mode,children:c.children}),s.ref=n.ref,n.child=s,s.return=n,s}function Lc(s,n){var i=n.ref;if(i===null)s!==null&&s.ref!==null&&(n.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(r(284));(s===null||s.ref!==i)&&(n.flags|=4194816)}}function Pm(s,n,i,c,m){return El(n),i=vm(s,n,i,c,void 0,m),c=jm(),s!==null&&!Kt?(bm(s,n,m),dn(s,n,m)):($e&&c&&em(n),n.flags|=1,hs(s,n,i,m),n.child)}function Mg(s,n,i,c,m,f){return El(n),n.updateQueue=null,i=R0(n,c,i,m),T0(s),c=jm(),s!==null&&!Kt?(bm(s,n,f),dn(s,n,f)):($e&&c&&em(n),n.flags|=1,hs(s,n,i,f),n.child)}function _g(s,n,i,c,m){if(El(n),n.stateNode===null){var f=Ar,w=i.contextType;typeof w=="object"&&w!==null&&(f=ms(w)),f=new i(c,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Lm,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=c,f.state=n.memoizedState,f.refs={},um(n),w=i.contextType,f.context=typeof w=="object"&&w!==null?ms(w):Ar,f.state=n.memoizedState,w=i.getDerivedStateFromProps,typeof w=="function"&&(zm(n,i,w,c),f.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(w=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),w!==f.state&&Lm.enqueueReplaceState(f,f.state,null),Ii(n,c,f,m),Ui(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),c=!0}else if(s===null){f=n.stateNode;var k=n.memoizedProps,R=Pl(i,k);f.props=R;var V=f.context,J=i.contextType;w=Ar,typeof J=="object"&&J!==null&&(w=ms(J));var ae=i.getDerivedStateFromProps;J=typeof ae=="function"||typeof f.getSnapshotBeforeUpdate=="function",k=n.pendingProps!==k,J||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(k||V!==w)&&fg(n,f,c,w),qn=!1;var B=n.memoizedState;f.state=B,Ii(n,c,f,m),Ui(),V=n.memoizedState,k||B!==V||qn?(typeof ae=="function"&&(zm(n,i,ae,c),V=n.memoizedState),(R=qn||xg(n,i,R,c,B,V,w))?(J||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=c,n.memoizedState=V),f.props=c,f.state=V,f.context=w,c=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),c=!1)}else{f=n.stateNode,mm(s,n),w=n.memoizedProps,J=Pl(i,w),f.props=J,ae=n.pendingProps,B=f.context,V=i.contextType,R=Ar,typeof V=="object"&&V!==null&&(R=ms(V)),k=i.getDerivedStateFromProps,(V=typeof k=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(w!==ae||B!==R)&&fg(n,f,c,R),qn=!1,B=n.memoizedState,f.state=B,Ii(n,c,f,m),Ui();var Y=n.memoizedState;w!==ae||B!==Y||qn||s!==null&&s.dependencies!==null&&pc(s.dependencies)?(typeof k=="function"&&(zm(n,i,k,c),Y=n.memoizedState),(J=qn||xg(n,i,J,c,B,Y,R)||s!==null&&s.dependencies!==null&&pc(s.dependencies))?(V||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(c,Y,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(c,Y,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||w===s.memoizedProps&&B===s.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||w===s.memoizedProps&&B===s.memoizedState||(n.flags|=1024),n.memoizedProps=c,n.memoizedState=Y),f.props=c,f.state=Y,f.context=R,c=J):(typeof f.componentDidUpdate!="function"||w===s.memoizedProps&&B===s.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||w===s.memoizedProps&&B===s.memoizedState||(n.flags|=1024),c=!1)}return f=c,Lc(s,n),c=(n.flags&128)!==0,f||c?(f=n.stateNode,i=c&&typeof i.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,s!==null&&c?(n.child=ql(n,s.child,null,m),n.child=ql(n,null,i,m)):hs(s,n,i,m),n.memoizedState=f.state,s=n.child):s=dn(s,n,m),s}function Tg(s,n,i,c){return Rl(),n.flags|=256,hs(s,n,i,c),n.child}var Um={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Im(s){return{baseLanes:s,cachePool:v0()}}function Vm(s,n,i){return s=s!==null?s.childLanes&~i:0,n&&(s|=Zs),s}function Rg(s,n,i){var c=n.pendingProps,m=!1,f=(n.flags&128)!==0,w;if((w=f)||(w=s!==null&&s.memoizedState===null?!1:(It.current&2)!==0),w&&(m=!0,n.flags&=-129),w=(n.flags&32)!==0,n.flags&=-33,s===null){if($e){if(m?Un(n):In(),(s=yt)?(s=Pp(s,da),s=s!==null&&s.data!=="&"?s:null,s!==null&&(n.memoizedState={dehydrated:s,treeContext:En!==null?{id:Ia,overflow:Va}:null,retryLane:536870912,hydrationErrors:null},i=d0(s),i.return=n,n.child=i,us=n,yt=null)):s=null,s===null)throw zn(n);return Sh(s)?n.lanes=32:n.lanes=536870912,null}var k=c.children;return c=c.fallback,m?(In(),m=n.mode,k=qc({mode:"hidden",children:k},m),c=Tl(c,m,i,null),k.return=n,c.return=n,k.sibling=c,n.child=k,c=n.child,c.memoizedState=Im(i),c.childLanes=Vm(s,w,i),n.memoizedState=Um,Ki(null,c)):(Un(n),Hm(n,k))}var R=s.memoizedState;if(R!==null&&(k=R.dehydrated,k!==null)){if(f)n.flags&256?(Un(n),n.flags&=-257,n=Bm(s,n,i)):n.memoizedState!==null?(In(),n.child=s.child,n.flags|=128,n=null):(In(),k=c.fallback,m=n.mode,c=qc({mode:"visible",children:c.children},m),k=Tl(k,m,i,null),k.flags|=2,c.return=n,k.return=n,c.sibling=k,n.child=c,ql(n,s.child,null,i),c=n.child,c.memoizedState=Im(i),c.childLanes=Vm(s,w,i),n.memoizedState=Um,n=Ki(null,c));else if(Un(n),Sh(k)){if(w=k.nextSibling&&k.nextSibling.dataset,w)var V=w.dgst;w=V,c=Error(r(419)),c.stack="",c.digest=w,Oi({value:c,source:null,stack:null}),n=Bm(s,n,i)}else if(Kt||Rr(s,n,i,!1),w=(i&s.childLanes)!==0,Kt||w){if(w=ht,w!==null&&(c=Os(w,i),c!==0&&c!==R.retryLane))throw R.retryLane=c,_l(s,c),Is(w,s,c),Fm;wh(k)||Kc(),n=Bm(s,n,i)}else wh(k)?(n.flags|=192,n.child=s.child,n=null):(s=R.treeContext,yt=ma(k.nextSibling),us=n,$e=!0,On=null,da=!1,s!==null&&h0(n,s),n=Hm(n,c.children),n.flags|=4096);return n}return m?(In(),k=c.fallback,m=n.mode,R=s.child,V=R.sibling,c=an(R,{mode:"hidden",children:c.children}),c.subtreeFlags=R.subtreeFlags&65011712,V!==null?k=an(V,k):(k=Tl(k,m,i,null),k.flags|=2),k.return=n,c.return=n,c.sibling=k,n.child=c,Ki(null,c),c=n.child,k=s.child.memoizedState,k===null?k=Im(i):(m=k.cachePool,m!==null?(R=Bt._currentValue,m=m.parent!==R?{parent:R,pool:R}:m):m=v0(),k={baseLanes:k.baseLanes|i,cachePool:m}),c.memoizedState=k,c.childLanes=Vm(s,w,i),n.memoizedState=Um,Ki(s.child,c)):(Un(n),i=s.child,s=i.sibling,i=an(i,{mode:"visible",children:c.children}),i.return=n,i.sibling=null,s!==null&&(w=n.deletions,w===null?(n.deletions=[s],n.flags|=16):w.push(s)),n.child=i,n.memoizedState=null,i)}function Hm(s,n){return n=qc({mode:"visible",children:n},s.mode),n.return=s,s.child=n}function qc(s,n){return s=Gs(22,s,null,n),s.lanes=0,s}function Bm(s,n,i){return ql(n,s.child,null,i),s=Hm(n,n.pendingProps.children),s.flags|=2,n.memoizedState=null,s}function Dg(s,n,i){s.lanes|=n;var c=s.alternate;c!==null&&(c.lanes|=n),lm(s.return,n,i)}function $m(s,n,i,c,m,f){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:c,tail:i,tailMode:m,treeForkCount:f}:(w.isBackwards=n,w.rendering=null,w.renderingStartTime=0,w.last=c,w.tail=i,w.tailMode=m,w.treeForkCount=f)}function Eg(s,n,i){var c=n.pendingProps,m=c.revealOrder,f=c.tail;c=c.children;var w=It.current,k=(w&2)!==0;if(k?(w=w&1|2,n.flags|=128):w&=1,ne(It,w),hs(s,n,c,i),c=$e?Ei:0,!k&&s!==null&&(s.flags&128)!==0)e:for(s=n.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Dg(s,i,n);else if(s.tag===19)Dg(s,i,n);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(m){case"forwards":for(i=n.child,m=null;i!==null;)s=i.alternate,s!==null&&Cc(s)===null&&(m=i),i=i.sibling;i=m,i===null?(m=n.child,n.child=null):(m=i.sibling,i.sibling=null),$m(n,!1,m,i,f,c);break;case"backwards":case"unstable_legacy-backwards":for(i=null,m=n.child,n.child=null;m!==null;){if(s=m.alternate,s!==null&&Cc(s)===null){n.child=m;break}s=m.sibling,m.sibling=i,i=m,m=s}$m(n,!0,i,null,f,c);break;case"together":$m(n,!1,null,null,void 0,c);break;default:n.memoizedState=null}return n.child}function dn(s,n,i){if(s!==null&&(n.dependencies=s.dependencies),Bn|=n.lanes,(i&n.childLanes)===0)if(s!==null){if(Rr(s,n,i,!1),(i&n.childLanes)===0)return null}else return null;if(s!==null&&n.child!==s.child)throw Error(r(153));if(n.child!==null){for(s=n.child,i=an(s,s.pendingProps),n.child=i,i.return=n;s.sibling!==null;)s=s.sibling,i=i.sibling=an(s,s.pendingProps),i.return=n;i.sibling=null}return n.child}function Km(s,n){return(s.lanes&n)!==0?!0:(s=s.dependencies,!!(s!==null&&pc(s)))}function I1(s,n,i){switch(n.tag){case 3:Qe(n,n.stateNode.containerInfo),Ln(n,Bt,s.memoizedState.cache),Rl();break;case 27:case 5:bs(n);break;case 4:Qe(n,n.stateNode.containerInfo);break;case 10:Ln(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,pm(n),null;break;case 13:var c=n.memoizedState;if(c!==null)return c.dehydrated!==null?(Un(n),n.flags|=128,null):(i&n.child.childLanes)!==0?Rg(s,n,i):(Un(n),s=dn(s,n,i),s!==null?s.sibling:null);Un(n);break;case 19:var m=(s.flags&128)!==0;if(c=(i&n.childLanes)!==0,c||(Rr(s,n,i,!1),c=(i&n.childLanes)!==0),m){if(c)return Eg(s,n,i);n.flags|=128}if(m=n.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ne(It,It.current),c)break;return null;case 22:return n.lanes=0,Cg(s,n,i,n.pendingProps);case 24:Ln(n,Bt,s.memoizedState.cache)}return dn(s,n,i)}function Og(s,n,i){if(s!==null)if(s.memoizedProps!==n.pendingProps)Kt=!0;else{if(!Km(s,i)&&(n.flags&128)===0)return Kt=!1,I1(s,n,i);Kt=(s.flags&131072)!==0}else Kt=!1,$e&&(n.flags&1048576)!==0&&m0(n,Ei,n.index);switch(n.lanes=0,n.tag){case 16:e:{var c=n.pendingProps;if(s=zl(n.elementType),n.type=s,typeof s=="function")Wu(s)?(c=Pl(s,c),n.tag=1,n=_g(null,n,s,c,i)):(n.tag=0,n=Pm(null,n,s,c,i));else{if(s!=null){var m=s.$$typeof;if(m===M){n.tag=11,n=Ng(null,n,s,c,i);break e}else if(m===W){n.tag=14,n=wg(null,n,s,c,i);break e}}throw n=xe(s)||s,Error(r(306,n,""))}}return n;case 0:return Pm(s,n,n.type,n.pendingProps,i);case 1:return c=n.type,m=Pl(c,n.pendingProps),_g(s,n,c,m,i);case 3:e:{if(Qe(n,n.stateNode.containerInfo),s===null)throw Error(r(387));c=n.pendingProps;var f=n.memoizedState;m=f.element,mm(s,n),Ii(n,c,null,i);var w=n.memoizedState;if(c=w.cache,Ln(n,Bt,c),c!==f.cache&&rm(n,[Bt],i,!0),Ui(),c=w.element,f.isDehydrated)if(f={element:c,isDehydrated:!1,cache:w.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Tg(s,n,c,i);break e}else if(c!==m){m=ia(Error(r(424)),n),Oi(m),n=Tg(s,n,c,i);break e}else{switch(s=n.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(yt=ma(s.firstChild),us=n,$e=!0,On=null,da=!0,i=C0(n,null,c,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(Rl(),c===m){n=dn(s,n,i);break e}hs(s,n,c,i)}n=n.child}return n;case 26:return Lc(s,n),s===null?(i=$p(n.type,null,n.pendingProps,null))?n.memoizedState=i:$e||(i=n.type,s=n.pendingProps,c=Jc(gt.current).createElement(i),c[ds]=n,c[zs]=s,xs(c,i,s),ss(c),n.stateNode=c):n.memoizedState=$p(n.type,s.memoizedProps,n.pendingProps,s.memoizedState),null;case 27:return bs(n),s===null&&$e&&(c=n.stateNode=Vp(n.type,n.pendingProps,gt.current),us=n,da=!0,m=yt,Yn(n.type)?(Ch=m,yt=ma(c.firstChild)):yt=m),hs(s,n,n.pendingProps.children,i),Lc(s,n),s===null&&(n.flags|=4194304),n.child;case 5:return s===null&&$e&&((m=c=yt)&&(c=pw(c,n.type,n.pendingProps,da),c!==null?(n.stateNode=c,us=n,yt=ma(c.firstChild),da=!1,m=!0):m=!1),m||zn(n)),bs(n),m=n.type,f=n.pendingProps,w=s!==null?s.memoizedProps:null,c=f.children,jh(m,f)?c=null:w!==null&&jh(m,w)&&(n.flags|=32),n.memoizedState!==null&&(m=vm(s,n,D1,null,null,i),io._currentValue=m),Lc(s,n),hs(s,n,c,i),n.child;case 6:return s===null&&$e&&((s=i=yt)&&(i=yw(i,n.pendingProps,da),i!==null?(n.stateNode=i,us=n,yt=null,s=!0):s=!1),s||zn(n)),null;case 13:return Rg(s,n,i);case 4:return Qe(n,n.stateNode.containerInfo),c=n.pendingProps,s===null?n.child=ql(n,null,c,i):hs(s,n,c,i),n.child;case 11:return Ng(s,n,n.type,n.pendingProps,i);case 7:return hs(s,n,n.pendingProps,i),n.child;case 8:return hs(s,n,n.pendingProps.children,i),n.child;case 12:return hs(s,n,n.pendingProps.children,i),n.child;case 10:return c=n.pendingProps,Ln(n,n.type,c.value),hs(s,n,c.children,i),n.child;case 9:return m=n.type._context,c=n.pendingProps.children,El(n),m=ms(m),c=c(m),n.flags|=1,hs(s,n,c,i),n.child;case 14:return wg(s,n,n.type,n.pendingProps,i);case 15:return Sg(s,n,n.type,n.pendingProps,i);case 19:return Eg(s,n,i);case 31:return U1(s,n,i);case 22:return Cg(s,n,i,n.pendingProps);case 24:return El(n),c=ms(Bt),s===null?(m=cm(),m===null&&(m=ht,f=im(),m.pooledCache=f,f.refCount++,f!==null&&(m.pooledCacheLanes|=i),m=f),n.memoizedState={parent:c,cache:m},um(n),Ln(n,Bt,m)):((s.lanes&i)!==0&&(mm(s,n),Ii(n,null,null,i),Ui()),m=s.memoizedState,f=n.memoizedState,m.parent!==c?(m={parent:c,cache:c},n.memoizedState=m,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=m),Ln(n,Bt,c)):(c=f.cache,Ln(n,Bt,c),c!==m.cache&&rm(n,[Bt],i,!0))),hs(s,n,n.pendingProps.children,i),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function un(s){s.flags|=4}function Qm(s,n,i,c,m){if((n=(s.mode&32)!==0)&&(n=!1),n){if(s.flags|=16777216,(m&335544128)===m)if(s.stateNode.complete)s.flags|=8192;else if(ip())s.flags|=8192;else throw Ll=bc,dm}else s.flags&=-16777217}function zg(s,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!Xp(n))if(ip())s.flags|=8192;else throw Ll=bc,dm}function Fc(s,n){n!==null&&(s.flags|=4),s.flags&16384&&(n=s.tag!==22?ys():536870912,s.lanes|=n,Hr|=n)}function Qi(s,n){if(!$e)switch(s.tailMode){case"hidden":n=s.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?s.tail=null:i.sibling=null;break;case"collapsed":i=s.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?n||s.tail===null?s.tail=null:s.tail.sibling=null:c.sibling=null}}function vt(s){var n=s.alternate!==null&&s.alternate.child===s.child,i=0,c=0;if(n)for(var m=s.child;m!==null;)i|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)i|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=c,s.childLanes=i,n}function V1(s,n,i){var c=n.pendingProps;switch(tm(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(n),null;case 1:return vt(n),null;case 3:return i=n.stateNode,c=null,s!==null&&(c=s.memoizedState.cache),n.memoizedState.cache!==c&&(n.flags|=2048),rn(Bt),Ht(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(s===null||s.child===null)&&(Tr(n)?un(n):s===null||s.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,am())),vt(n),null;case 26:var m=n.type,f=n.memoizedState;return s===null?(un(n),f!==null?(vt(n),zg(n,f)):(vt(n),Qm(n,m,null,c,i))):f?f!==s.memoizedState?(un(n),vt(n),zg(n,f)):(vt(n),n.flags&=-16777217):(s=s.memoizedProps,s!==c&&un(n),vt(n),Qm(n,m,s,c,i)),null;case 27:if(Ns(n),i=gt.current,m=n.type,s!==null&&n.stateNode!=null)s.memoizedProps!==c&&un(n);else{if(!c){if(n.stateNode===null)throw Error(r(166));return vt(n),null}s=ge.current,Tr(n)?x0(n):(s=Vp(m,c,i),n.stateNode=s,un(n))}return vt(n),null;case 5:if(Ns(n),m=n.type,s!==null&&n.stateNode!=null)s.memoizedProps!==c&&un(n);else{if(!c){if(n.stateNode===null)throw Error(r(166));return vt(n),null}if(f=ge.current,Tr(n))x0(n);else{var w=Jc(gt.current);switch(f){case 1:f=w.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:f=w.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":f=w.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":f=w.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":f=w.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof c.is=="string"?w.createElement("select",{is:c.is}):w.createElement("select"),c.multiple?f.multiple=!0:c.size&&(f.size=c.size);break;default:f=typeof c.is=="string"?w.createElement(m,{is:c.is}):w.createElement(m)}}f[ds]=n,f[zs]=c;e:for(w=n.child;w!==null;){if(w.tag===5||w.tag===6)f.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===n)break e;for(;w.sibling===null;){if(w.return===null||w.return===n)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}n.stateNode=f;e:switch(xs(f,m,c),m){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&un(n)}}return vt(n),Qm(n,n.type,s===null?null:s.memoizedProps,n.pendingProps,i),null;case 6:if(s&&n.stateNode!=null)s.memoizedProps!==c&&un(n);else{if(typeof c!="string"&&n.stateNode===null)throw Error(r(166));if(s=gt.current,Tr(n)){if(s=n.stateNode,i=n.memoizedProps,c=null,m=us,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}s[ds]=n,s=!!(s.nodeValue===i||c!==null&&c.suppressHydrationWarning===!0||Rp(s.nodeValue,i)),s||zn(n,!0)}else s=Jc(s).createTextNode(c),s[ds]=n,n.stateNode=s}return vt(n),null;case 31:if(i=n.memoizedState,s===null||s.memoizedState!==null){if(c=Tr(n),i!==null){if(s===null){if(!c)throw Error(r(318));if(s=n.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[ds]=n}else Rl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;vt(n),s=!1}else i=am(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=i),s=!0;if(!s)return n.flags&256?(Xs(n),n):(Xs(n),null);if((n.flags&128)!==0)throw Error(r(558))}return vt(n),null;case 13:if(c=n.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=Tr(n),c!==null&&c.dehydrated!==null){if(s===null){if(!m)throw Error(r(318));if(m=n.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[ds]=n}else Rl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;vt(n),m=!1}else m=am(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),m=!0;if(!m)return n.flags&256?(Xs(n),n):(Xs(n),null)}return Xs(n),(n.flags&128)!==0?(n.lanes=i,n):(i=c!==null,s=s!==null&&s.memoizedState!==null,i&&(c=n.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool),f=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(f=c.memoizedState.cachePool.pool),f!==m&&(c.flags|=2048)),i!==s&&i&&(n.child.flags|=8192),Fc(n,n.updateQueue),vt(n),null);case 4:return Ht(),s===null&&fh(n.stateNode.containerInfo),vt(n),null;case 10:return rn(n.type),vt(n),null;case 19:if(Te(It),c=n.memoizedState,c===null)return vt(n),null;if(m=(n.flags&128)!==0,f=c.rendering,f===null)if(m)Qi(c,!1);else{if(Lt!==0||s!==null&&(s.flags&128)!==0)for(s=n.child;s!==null;){if(f=Cc(s),f!==null){for(n.flags|=128,Qi(c,!1),s=f.updateQueue,n.updateQueue=s,Fc(n,s),n.subtreeFlags=0,s=i,i=n.child;i!==null;)c0(i,s),i=i.sibling;return ne(It,It.current&1|2),$e&&nn(n,c.treeForkCount),n.child}s=s.sibling}c.tail!==null&&Ss()>Hc&&(n.flags|=128,m=!0,Qi(c,!1),n.lanes=4194304)}else{if(!m)if(s=Cc(f),s!==null){if(n.flags|=128,m=!0,s=s.updateQueue,n.updateQueue=s,Fc(n,s),Qi(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!$e)return vt(n),null}else 2*Ss()-c.renderingStartTime>Hc&&i!==536870912&&(n.flags|=128,m=!0,Qi(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(s=c.last,s!==null?s.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(s=c.tail,c.rendering=s,c.tail=s.sibling,c.renderingStartTime=Ss(),s.sibling=null,i=It.current,ne(It,m?i&1|2:i&1),$e&&nn(n,c.treeForkCount),s):(vt(n),null);case 22:case 23:return Xs(n),gm(),c=n.memoizedState!==null,s!==null?s.memoizedState!==null!==c&&(n.flags|=8192):c&&(n.flags|=8192),c?(i&536870912)!==0&&(n.flags&128)===0&&(vt(n),n.subtreeFlags&6&&(n.flags|=8192)):vt(n),i=n.updateQueue,i!==null&&Fc(n,i.retryQueue),i=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),c=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),c!==i&&(n.flags|=2048),s!==null&&Te(Ol),null;case 24:return i=null,s!==null&&(i=s.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),rn(Bt),vt(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function H1(s,n){switch(tm(n),n.tag){case 1:return s=n.flags,s&65536?(n.flags=s&-65537|128,n):null;case 3:return rn(Bt),Ht(),s=n.flags,(s&65536)!==0&&(s&128)===0?(n.flags=s&-65537|128,n):null;case 26:case 27:case 5:return Ns(n),null;case 31:if(n.memoizedState!==null){if(Xs(n),n.alternate===null)throw Error(r(340));Rl()}return s=n.flags,s&65536?(n.flags=s&-65537|128,n):null;case 13:if(Xs(n),s=n.memoizedState,s!==null&&s.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Rl()}return s=n.flags,s&65536?(n.flags=s&-65537|128,n):null;case 19:return Te(It),null;case 4:return Ht(),null;case 10:return rn(n.type),null;case 22:case 23:return Xs(n),gm(),s!==null&&Te(Ol),s=n.flags,s&65536?(n.flags=s&-65537|128,n):null;case 24:return rn(Bt),null;case 25:return null;default:return null}}function Lg(s,n){switch(tm(n),n.tag){case 3:rn(Bt),Ht();break;case 26:case 27:case 5:Ns(n);break;case 4:Ht();break;case 31:n.memoizedState!==null&&Xs(n);break;case 13:Xs(n);break;case 19:Te(It);break;case 10:rn(n.type);break;case 22:case 23:Xs(n),gm(),s!==null&&Te(Ol);break;case 24:rn(Bt)}}function Gi(s,n){try{var i=n.updateQueue,c=i!==null?i.lastEffect:null;if(c!==null){var m=c.next;i=m;do{if((i.tag&s)===s){c=void 0;var f=i.create,w=i.inst;c=f(),w.destroy=c}i=i.next}while(i!==m)}}catch(k){nt(n,n.return,k)}}function Vn(s,n,i){try{var c=n.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var f=m.next;c=f;do{if((c.tag&s)===s){var w=c.inst,k=w.destroy;if(k!==void 0){w.destroy=void 0,m=n;var R=i,V=k;try{V()}catch(J){nt(m,R,J)}}}c=c.next}while(c!==f)}}catch(J){nt(n,n.return,J)}}function qg(s){var n=s.updateQueue;if(n!==null){var i=s.stateNode;try{A0(n,i)}catch(c){nt(s,s.return,c)}}}function Fg(s,n,i){i.props=Pl(s.type,s.memoizedProps),i.state=s.memoizedState;try{i.componentWillUnmount()}catch(c){nt(s,n,c)}}function Yi(s,n){try{var i=s.ref;if(i!==null){switch(s.tag){case 26:case 27:case 5:var c=s.stateNode;break;case 30:c=s.stateNode;break;default:c=s.stateNode}typeof i=="function"?s.refCleanup=i(c):i.current=c}}catch(m){nt(s,n,m)}}function Ha(s,n){var i=s.ref,c=s.refCleanup;if(i!==null)if(typeof c=="function")try{c()}catch(m){nt(s,n,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(m){nt(s,n,m)}else i.current=null}function Pg(s){var n=s.type,i=s.memoizedProps,c=s.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":i.autoFocus&&c.focus();break e;case"img":i.src?c.src=i.src:i.srcSet&&(c.srcset=i.srcSet)}}catch(m){nt(s,s.return,m)}}function Gm(s,n,i){try{var c=s.stateNode;uw(c,s.type,i,n),c[zs]=n}catch(m){nt(s,s.return,m)}}function Ug(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Yn(s.type)||s.tag===4}function Ym(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Ug(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Yn(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Xm(s,n,i){var c=s.tag;if(c===5||c===6)s=s.stateNode,n?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(s,n):(n=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,n.appendChild(s),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=tn));else if(c!==4&&(c===27&&Yn(s.type)&&(i=s.stateNode,n=null),s=s.child,s!==null))for(Xm(s,n,i),s=s.sibling;s!==null;)Xm(s,n,i),s=s.sibling}function Pc(s,n,i){var c=s.tag;if(c===5||c===6)s=s.stateNode,n?i.insertBefore(s,n):i.appendChild(s);else if(c!==4&&(c===27&&Yn(s.type)&&(i=s.stateNode),s=s.child,s!==null))for(Pc(s,n,i),s=s.sibling;s!==null;)Pc(s,n,i),s=s.sibling}function Ig(s){var n=s.stateNode,i=s.memoizedProps;try{for(var c=s.type,m=n.attributes;m.length;)n.removeAttributeNode(m[0]);xs(n,c,i),n[ds]=s,n[zs]=i}catch(f){nt(s,s.return,f)}}var mn=!1,Qt=!1,Wm=!1,Vg=typeof WeakSet=="function"?WeakSet:Set,as=null;function B1(s,n){if(s=s.containerInfo,yh=rd,s=e0(s),Bu(s)){if("selectionStart"in s)var i={start:s.selectionStart,end:s.selectionEnd};else e:{i=(i=s.ownerDocument)&&i.defaultView||window;var c=i.getSelection&&i.getSelection();if(c&&c.rangeCount!==0){i=c.anchorNode;var m=c.anchorOffset,f=c.focusNode;c=c.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break e}var w=0,k=-1,R=-1,V=0,J=0,ae=s,B=null;t:for(;;){for(var Y;ae!==i||m!==0&&ae.nodeType!==3||(k=w+m),ae!==f||c!==0&&ae.nodeType!==3||(R=w+c),ae.nodeType===3&&(w+=ae.nodeValue.length),(Y=ae.firstChild)!==null;)B=ae,ae=Y;for(;;){if(ae===s)break t;if(B===i&&++V===m&&(k=w),B===f&&++J===c&&(R=w),(Y=ae.nextSibling)!==null)break;ae=B,B=ae.parentNode}ae=Y}i=k===-1||R===-1?null:{start:k,end:R}}else i=null}i=i||{start:0,end:0}}else i=null;for(vh={focusedElem:s,selectionRange:i},rd=!1,as=n;as!==null;)if(n=as,s=n.child,(n.subtreeFlags&1028)!==0&&s!==null)s.return=n,as=s;else for(;as!==null;){switch(n=as,f=n.alternate,s=n.flags,n.tag){case 0:if((s&4)!==0&&(s=n.updateQueue,s=s!==null?s.events:null,s!==null))for(i=0;i<s.length;i++)m=s[i],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&f!==null){s=void 0,i=n,m=f.memoizedProps,f=f.memoizedState,c=i.stateNode;try{var pe=Pl(i.type,m);s=c.getSnapshotBeforeUpdate(pe,f),c.__reactInternalSnapshotBeforeUpdate=s}catch(Ce){nt(i,i.return,Ce)}}break;case 3:if((s&1024)!==0){if(s=n.stateNode.containerInfo,i=s.nodeType,i===9)Nh(s);else if(i===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Nh(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=n.sibling,s!==null){s.return=n.return,as=s;break}as=n.return}}function Hg(s,n,i){var c=i.flags;switch(i.tag){case 0:case 11:case 15:xn(s,i),c&4&&Gi(5,i);break;case 1:if(xn(s,i),c&4)if(s=i.stateNode,n===null)try{s.componentDidMount()}catch(w){nt(i,i.return,w)}else{var m=Pl(i.type,n.memoizedProps);n=n.memoizedState;try{s.componentDidUpdate(m,n,s.__reactInternalSnapshotBeforeUpdate)}catch(w){nt(i,i.return,w)}}c&64&&qg(i),c&512&&Yi(i,i.return);break;case 3:if(xn(s,i),c&64&&(s=i.updateQueue,s!==null)){if(n=null,i.child!==null)switch(i.child.tag){case 27:case 5:n=i.child.stateNode;break;case 1:n=i.child.stateNode}try{A0(s,n)}catch(w){nt(i,i.return,w)}}break;case 27:n===null&&c&4&&Ig(i);case 26:case 5:xn(s,i),n===null&&c&4&&Pg(i),c&512&&Yi(i,i.return);break;case 12:xn(s,i);break;case 31:xn(s,i),c&4&&Kg(s,i);break;case 13:xn(s,i),c&4&&Qg(s,i),c&64&&(s=i.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(i=J1.bind(null,i),vw(s,i))));break;case 22:if(c=i.memoizedState!==null||mn,!c){n=n!==null&&n.memoizedState!==null||Qt,m=mn;var f=Qt;mn=c,(Qt=n)&&!f?fn(s,i,(i.subtreeFlags&8772)!==0):xn(s,i),mn=m,Qt=f}break;case 30:break;default:xn(s,i)}}function Bg(s){var n=s.alternate;n!==null&&(s.alternate=null,Bg(n)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(n=s.stateNode,n!==null&&Au(n)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var St=null,qs=!1;function hn(s,n,i){for(i=i.child;i!==null;)$g(s,n,i),i=i.sibling}function $g(s,n,i){if(Cs&&typeof Cs.onCommitFiberUnmount=="function")try{Cs.onCommitFiberUnmount(Nl,i)}catch{}switch(i.tag){case 26:Qt||Ha(i,n),hn(s,n,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Qt||Ha(i,n);var c=St,m=qs;Yn(i.type)&&(St=i.stateNode,qs=!1),hn(s,n,i),no(i.stateNode),St=c,qs=m;break;case 5:Qt||Ha(i,n);case 6:if(c=St,m=qs,St=null,hn(s,n,i),St=c,qs=m,St!==null)if(qs)try{(St.nodeType===9?St.body:St.nodeName==="HTML"?St.ownerDocument.body:St).removeChild(i.stateNode)}catch(f){nt(i,n,f)}else try{St.removeChild(i.stateNode)}catch(f){nt(i,n,f)}break;case 18:St!==null&&(qs?(s=St,qp(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.stateNode),Wr(s)):qp(St,i.stateNode));break;case 4:c=St,m=qs,St=i.stateNode.containerInfo,qs=!0,hn(s,n,i),St=c,qs=m;break;case 0:case 11:case 14:case 15:Vn(2,i,n),Qt||Vn(4,i,n),hn(s,n,i);break;case 1:Qt||(Ha(i,n),c=i.stateNode,typeof c.componentWillUnmount=="function"&&Fg(i,n,c)),hn(s,n,i);break;case 21:hn(s,n,i);break;case 22:Qt=(c=Qt)||i.memoizedState!==null,hn(s,n,i),Qt=c;break;default:hn(s,n,i)}}function Kg(s,n){if(n.memoizedState===null&&(s=n.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Wr(s)}catch(i){nt(n,n.return,i)}}}function Qg(s,n){if(n.memoizedState===null&&(s=n.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Wr(s)}catch(i){nt(n,n.return,i)}}function $1(s){switch(s.tag){case 31:case 13:case 19:var n=s.stateNode;return n===null&&(n=s.stateNode=new Vg),n;case 22:return s=s.stateNode,n=s._retryCache,n===null&&(n=s._retryCache=new Vg),n;default:throw Error(r(435,s.tag))}}function Uc(s,n){var i=$1(s);n.forEach(function(c){if(!i.has(c)){i.add(c);var m=ew.bind(null,s,c);c.then(m,m)}})}function Fs(s,n){var i=n.deletions;if(i!==null)for(var c=0;c<i.length;c++){var m=i[c],f=s,w=n,k=w;e:for(;k!==null;){switch(k.tag){case 27:if(Yn(k.type)){St=k.stateNode,qs=!1;break e}break;case 5:St=k.stateNode,qs=!1;break e;case 3:case 4:St=k.stateNode.containerInfo,qs=!0;break e}k=k.return}if(St===null)throw Error(r(160));$g(f,w,m),St=null,qs=!1,f=m.alternate,f!==null&&(f.return=null),m.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Gg(n,s),n=n.sibling}var Sa=null;function Gg(s,n){var i=s.alternate,c=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Fs(n,s),Ps(s),c&4&&(Vn(3,s,s.return),Gi(3,s),Vn(5,s,s.return));break;case 1:Fs(n,s),Ps(s),c&512&&(Qt||i===null||Ha(i,i.return)),c&64&&mn&&(s=s.updateQueue,s!==null&&(c=s.callbacks,c!==null&&(i=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=i===null?c:i.concat(c))));break;case 26:var m=Sa;if(Fs(n,s),Ps(s),c&512&&(Qt||i===null||Ha(i,i.return)),c&4){var f=i!==null?i.memoizedState:null;if(c=s.memoizedState,i===null)if(c===null)if(s.stateNode===null){e:{c=s.type,i=s.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":f=m.getElementsByTagName("title")[0],(!f||f[Ni]||f[ds]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=m.createElement(c),m.head.insertBefore(f,m.querySelector("head > title"))),xs(f,c,i),f[ds]=s,ss(f),c=f;break e;case"link":var w=Gp("link","href",m).get(c+(i.href||""));if(w){for(var k=0;k<w.length;k++)if(f=w[k],f.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&f.getAttribute("rel")===(i.rel==null?null:i.rel)&&f.getAttribute("title")===(i.title==null?null:i.title)&&f.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){w.splice(k,1);break t}}f=m.createElement(c),xs(f,c,i),m.head.appendChild(f);break;case"meta":if(w=Gp("meta","content",m).get(c+(i.content||""))){for(k=0;k<w.length;k++)if(f=w[k],f.getAttribute("content")===(i.content==null?null:""+i.content)&&f.getAttribute("name")===(i.name==null?null:i.name)&&f.getAttribute("property")===(i.property==null?null:i.property)&&f.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&f.getAttribute("charset")===(i.charSet==null?null:i.charSet)){w.splice(k,1);break t}}f=m.createElement(c),xs(f,c,i),m.head.appendChild(f);break;default:throw Error(r(468,c))}f[ds]=s,ss(f),c=f}s.stateNode=c}else Yp(m,s.type,s.stateNode);else s.stateNode=Qp(m,c,s.memoizedProps);else f!==c?(f===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):f.count--,c===null?Yp(m,s.type,s.stateNode):Qp(m,c,s.memoizedProps)):c===null&&s.stateNode!==null&&Gm(s,s.memoizedProps,i.memoizedProps)}break;case 27:Fs(n,s),Ps(s),c&512&&(Qt||i===null||Ha(i,i.return)),i!==null&&c&4&&Gm(s,s.memoizedProps,i.memoizedProps);break;case 5:if(Fs(n,s),Ps(s),c&512&&(Qt||i===null||Ha(i,i.return)),s.flags&32){m=s.stateNode;try{jr(m,"")}catch(pe){nt(s,s.return,pe)}}c&4&&s.stateNode!=null&&(m=s.memoizedProps,Gm(s,m,i!==null?i.memoizedProps:m)),c&1024&&(Wm=!0);break;case 6:if(Fs(n,s),Ps(s),c&4){if(s.stateNode===null)throw Error(r(162));c=s.memoizedProps,i=s.stateNode;try{i.nodeValue=c}catch(pe){nt(s,s.return,pe)}}break;case 3:if(sd=null,m=Sa,Sa=ed(n.containerInfo),Fs(n,s),Sa=m,Ps(s),c&4&&i!==null&&i.memoizedState.isDehydrated)try{Wr(n.containerInfo)}catch(pe){nt(s,s.return,pe)}Wm&&(Wm=!1,Yg(s));break;case 4:c=Sa,Sa=ed(s.stateNode.containerInfo),Fs(n,s),Ps(s),Sa=c;break;case 12:Fs(n,s),Ps(s);break;case 31:Fs(n,s),Ps(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Uc(s,c)));break;case 13:Fs(n,s),Ps(s),s.child.flags&8192&&s.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Vc=Ss()),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Uc(s,c)));break;case 22:m=s.memoizedState!==null;var R=i!==null&&i.memoizedState!==null,V=mn,J=Qt;if(mn=V||m,Qt=J||R,Fs(n,s),Qt=J,mn=V,Ps(s),c&8192)e:for(n=s.stateNode,n._visibility=m?n._visibility&-2:n._visibility|1,m&&(i===null||R||mn||Qt||Ul(s)),i=null,n=s;;){if(n.tag===5||n.tag===26){if(i===null){R=i=n;try{if(f=R.stateNode,m)w=f.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{k=R.stateNode;var ae=R.memoizedProps.style,B=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;k.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(pe){nt(R,R.return,pe)}}}else if(n.tag===6){if(i===null){R=n;try{R.stateNode.nodeValue=m?"":R.memoizedProps}catch(pe){nt(R,R.return,pe)}}}else if(n.tag===18){if(i===null){R=n;try{var Y=R.stateNode;m?Fp(Y,!0):Fp(R.stateNode,!1)}catch(pe){nt(R,R.return,pe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===s)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;i===n&&(i=null),n=n.return}i===n&&(i=null),n.sibling.return=n.return,n=n.sibling}c&4&&(c=s.updateQueue,c!==null&&(i=c.retryQueue,i!==null&&(c.retryQueue=null,Uc(s,i))));break;case 19:Fs(n,s),Ps(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Uc(s,c)));break;case 30:break;case 21:break;default:Fs(n,s),Ps(s)}}function Ps(s){var n=s.flags;if(n&2){try{for(var i,c=s.return;c!==null;){if(Ug(c)){i=c;break}c=c.return}if(i==null)throw Error(r(160));switch(i.tag){case 27:var m=i.stateNode,f=Ym(s);Pc(s,f,m);break;case 5:var w=i.stateNode;i.flags&32&&(jr(w,""),i.flags&=-33);var k=Ym(s);Pc(s,k,w);break;case 3:case 4:var R=i.stateNode.containerInfo,V=Ym(s);Xm(s,V,R);break;default:throw Error(r(161))}}catch(J){nt(s,s.return,J)}s.flags&=-3}n&4096&&(s.flags&=-4097)}function Yg(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var n=s;Yg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),s=s.sibling}}function xn(s,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Hg(s,n.alternate,n),n=n.sibling}function Ul(s){for(s=s.child;s!==null;){var n=s;switch(n.tag){case 0:case 11:case 14:case 15:Vn(4,n,n.return),Ul(n);break;case 1:Ha(n,n.return);var i=n.stateNode;typeof i.componentWillUnmount=="function"&&Fg(n,n.return,i),Ul(n);break;case 27:no(n.stateNode);case 26:case 5:Ha(n,n.return),Ul(n);break;case 22:n.memoizedState===null&&Ul(n);break;case 30:Ul(n);break;default:Ul(n)}s=s.sibling}}function fn(s,n,i){for(i=i&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var c=n.alternate,m=s,f=n,w=f.flags;switch(f.tag){case 0:case 11:case 15:fn(m,f,i),Gi(4,f);break;case 1:if(fn(m,f,i),c=f,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(V){nt(c,c.return,V)}if(c=f,m=c.updateQueue,m!==null){var k=c.stateNode;try{var R=m.shared.hiddenCallbacks;if(R!==null)for(m.shared.hiddenCallbacks=null,m=0;m<R.length;m++)k0(R[m],k)}catch(V){nt(c,c.return,V)}}i&&w&64&&qg(f),Yi(f,f.return);break;case 27:Ig(f);case 26:case 5:fn(m,f,i),i&&c===null&&w&4&&Pg(f),Yi(f,f.return);break;case 12:fn(m,f,i);break;case 31:fn(m,f,i),i&&w&4&&Kg(m,f);break;case 13:fn(m,f,i),i&&w&4&&Qg(m,f);break;case 22:f.memoizedState===null&&fn(m,f,i),Yi(f,f.return);break;case 30:break;default:fn(m,f,i)}n=n.sibling}}function Zm(s,n){var i=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),s=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==i&&(s!=null&&s.refCount++,i!=null&&zi(i))}function Jm(s,n){s=null,n.alternate!==null&&(s=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==s&&(n.refCount++,s!=null&&zi(s))}function Ca(s,n,i,c){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Xg(s,n,i,c),n=n.sibling}function Xg(s,n,i,c){var m=n.flags;switch(n.tag){case 0:case 11:case 15:Ca(s,n,i,c),m&2048&&Gi(9,n);break;case 1:Ca(s,n,i,c);break;case 3:Ca(s,n,i,c),m&2048&&(s=null,n.alternate!==null&&(s=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==s&&(n.refCount++,s!=null&&zi(s)));break;case 12:if(m&2048){Ca(s,n,i,c),s=n.stateNode;try{var f=n.memoizedProps,w=f.id,k=f.onPostCommit;typeof k=="function"&&k(w,n.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(R){nt(n,n.return,R)}}else Ca(s,n,i,c);break;case 31:Ca(s,n,i,c);break;case 13:Ca(s,n,i,c);break;case 23:break;case 22:f=n.stateNode,w=n.alternate,n.memoizedState!==null?f._visibility&2?Ca(s,n,i,c):Xi(s,n):f._visibility&2?Ca(s,n,i,c):(f._visibility|=2,Ur(s,n,i,c,(n.subtreeFlags&10256)!==0||!1)),m&2048&&Zm(w,n);break;case 24:Ca(s,n,i,c),m&2048&&Jm(n.alternate,n);break;default:Ca(s,n,i,c)}}function Ur(s,n,i,c,m){for(m=m&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=s,w=n,k=i,R=c,V=w.flags;switch(w.tag){case 0:case 11:case 15:Ur(f,w,k,R,m),Gi(8,w);break;case 23:break;case 22:var J=w.stateNode;w.memoizedState!==null?J._visibility&2?Ur(f,w,k,R,m):Xi(f,w):(J._visibility|=2,Ur(f,w,k,R,m)),m&&V&2048&&Zm(w.alternate,w);break;case 24:Ur(f,w,k,R,m),m&&V&2048&&Jm(w.alternate,w);break;default:Ur(f,w,k,R,m)}n=n.sibling}}function Xi(s,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var i=s,c=n,m=c.flags;switch(c.tag){case 22:Xi(i,c),m&2048&&Zm(c.alternate,c);break;case 24:Xi(i,c),m&2048&&Jm(c.alternate,c);break;default:Xi(i,c)}n=n.sibling}}var Wi=8192;function Ir(s,n,i){if(s.subtreeFlags&Wi)for(s=s.child;s!==null;)Wg(s,n,i),s=s.sibling}function Wg(s,n,i){switch(s.tag){case 26:Ir(s,n,i),s.flags&Wi&&s.memoizedState!==null&&Rw(i,Sa,s.memoizedState,s.memoizedProps);break;case 5:Ir(s,n,i);break;case 3:case 4:var c=Sa;Sa=ed(s.stateNode.containerInfo),Ir(s,n,i),Sa=c;break;case 22:s.memoizedState===null&&(c=s.alternate,c!==null&&c.memoizedState!==null?(c=Wi,Wi=16777216,Ir(s,n,i),Wi=c):Ir(s,n,i));break;default:Ir(s,n,i)}}function Zg(s){var n=s.alternate;if(n!==null&&(s=n.child,s!==null)){n.child=null;do n=s.sibling,s.sibling=null,s=n;while(s!==null)}}function Zi(s){var n=s.deletions;if((s.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var c=n[i];as=c,ep(c,s)}Zg(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Jg(s),s=s.sibling}function Jg(s){switch(s.tag){case 0:case 11:case 15:Zi(s),s.flags&2048&&Vn(9,s,s.return);break;case 3:Zi(s);break;case 12:Zi(s);break;case 22:var n=s.stateNode;s.memoizedState!==null&&n._visibility&2&&(s.return===null||s.return.tag!==13)?(n._visibility&=-3,Ic(s)):Zi(s);break;default:Zi(s)}}function Ic(s){var n=s.deletions;if((s.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var c=n[i];as=c,ep(c,s)}Zg(s)}for(s=s.child;s!==null;){switch(n=s,n.tag){case 0:case 11:case 15:Vn(8,n,n.return),Ic(n);break;case 22:i=n.stateNode,i._visibility&2&&(i._visibility&=-3,Ic(n));break;default:Ic(n)}s=s.sibling}}function ep(s,n){for(;as!==null;){var i=as;switch(i.tag){case 0:case 11:case 15:Vn(8,i,n);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var c=i.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:zi(i.memoizedState.cache)}if(c=i.child,c!==null)c.return=i,as=c;else e:for(i=s;as!==null;){c=as;var m=c.sibling,f=c.return;if(Bg(c),c===i){as=null;break e}if(m!==null){m.return=f,as=m;break e}as=f}}}var K1={getCacheForType:function(s){var n=ms(Bt),i=n.data.get(s);return i===void 0&&(i=s(),n.data.set(s,i)),i},cacheSignal:function(){return ms(Bt).controller.signal}},Q1=typeof WeakMap=="function"?WeakMap:Map,tt=0,ht=null,Ie=null,He=0,at=0,Ws=null,Hn=!1,Vr=!1,eh=!1,gn=0,Lt=0,Bn=0,Il=0,th=0,Zs=0,Hr=0,Ji=null,Us=null,sh=!1,Vc=0,tp=0,Hc=1/0,Bc=null,$n=null,Xt=0,Kn=null,Br=null,pn=0,ah=0,nh=null,sp=null,eo=0,lh=null;function Js(){return(tt&2)!==0&&He!==0?He&-He:D.T!==null?uh():Cu()}function ap(){if(Zs===0)if((He&536870912)===0||$e){var s=mr;mr<<=1,(mr&3932160)===0&&(mr=262144),Zs=s}else Zs=536870912;return s=Ys.current,s!==null&&(s.flags|=32),Zs}function Is(s,n,i){(s===ht&&(at===2||at===9)||s.cancelPendingCommit!==null)&&($r(s,0),Qn(s,He,Zs,!1)),Dt(s,i),((tt&2)===0||s!==ht)&&(s===ht&&((tt&2)===0&&(Il|=i),Lt===4&&Qn(s,He,Zs,!1)),Ba(s))}function np(s,n,i){if((tt&6)!==0)throw Error(r(327));var c=!i&&(n&127)===0&&(n&s.expiredLanes)===0||wt(s,n),m=c?X1(s,n):ih(s,n,!0),f=c;do{if(m===0){Vr&&!c&&Qn(s,n,0,!1);break}else{if(i=s.current.alternate,f&&!G1(i)){m=ih(s,n,!1),f=!1;continue}if(m===2){if(f=n,s.errorRecoveryDisabledLanes&f)var w=0;else w=s.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){n=w;e:{var k=s;m=Ji;var R=k.current.memoizedState.isDehydrated;if(R&&($r(k,w).flags|=256),w=ih(k,w,!1),w!==2){if(eh&&!R){k.errorRecoveryDisabledLanes|=f,Il|=f,m=4;break e}f=Us,Us=m,f!==null&&(Us===null?Us=f:Us.push.apply(Us,f))}m=w}if(f=!1,m!==2)continue}}if(m===1){$r(s,0),Qn(s,n,0,!0);break}e:{switch(c=s,f=m,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Qn(c,n,Zs,!Hn);break e;case 2:Us=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(m=Vc+300-Ss(),10<m)){if(Qn(c,n,Zs,!Hn),Ee(c,0,!0)!==0)break e;pn=n,c.timeoutHandle=zp(lp.bind(null,c,i,Us,Bc,sh,n,Zs,Il,Hr,Hn,f,"Throttled",-0,0),m);break e}lp(c,i,Us,Bc,sh,n,Zs,Il,Hr,Hn,f,null,-0,0)}}break}while(!0);Ba(s)}function lp(s,n,i,c,m,f,w,k,R,V,J,ae,B,Y){if(s.timeoutHandle=-1,ae=n.subtreeFlags,ae&8192||(ae&16785408)===16785408){ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:tn},Wg(n,f,ae);var pe=(f&62914560)===f?Vc-Ss():(f&4194048)===f?tp-Ss():0;if(pe=Dw(ae,pe),pe!==null){pn=f,s.cancelPendingCommit=pe(hp.bind(null,s,n,f,i,c,m,w,k,R,J,ae,null,B,Y)),Qn(s,f,w,!V);return}}hp(s,n,f,i,c,m,w,k,R)}function G1(s){for(var n=s;;){var i=n.tag;if((i===0||i===11||i===15)&&n.flags&16384&&(i=n.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var c=0;c<i.length;c++){var m=i[c],f=m.getSnapshot;m=m.value;try{if(!Qs(f(),m))return!1}catch{return!1}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===s)break;for(;n.sibling===null;){if(n.return===null||n.return===s)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Qn(s,n,i,c){n&=~th,n&=~Il,s.suspendedLanes|=n,s.pingedLanes&=~n,c&&(s.warmLanes|=n),c=s.expirationTimes;for(var m=n;0<m;){var f=31-ps(m),w=1<<f;c[f]=-1,m&=~w}i!==0&&Sl(s,i,n)}function $c(){return(tt&6)===0?(to(0),!1):!0}function rh(){if(Ie!==null){if(at===0)var s=Ie.return;else s=Ie,ln=Dl=null,Nm(s),zr=null,qi=0,s=Ie;for(;s!==null;)Lg(s.alternate,s),s=s.return;Ie=null}}function $r(s,n){var i=s.timeoutHandle;i!==-1&&(s.timeoutHandle=-1,xw(i)),i=s.cancelPendingCommit,i!==null&&(s.cancelPendingCommit=null,i()),pn=0,rh(),ht=s,Ie=i=an(s.current,null),He=n,at=0,Ws=null,Hn=!1,Vr=wt(s,n),eh=!1,Hr=Zs=th=Il=Bn=Lt=0,Us=Ji=null,sh=!1,(n&8)!==0&&(n|=n&32);var c=s.entangledLanes;if(c!==0)for(s=s.entanglements,c&=n;0<c;){var m=31-ps(c),f=1<<m;n|=s[m],c&=~f}return gn=n,mc(),i}function rp(s,n){ze=null,D.H=$i,n===Or||n===jc?(n=N0(),at=3):n===dm?(n=N0(),at=4):at=n===Fm?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Ws=n,Ie===null&&(Lt=1,Oc(s,ia(n,s.current)))}function ip(){var s=Ys.current;return s===null?!0:(He&4194048)===He?ua===null:(He&62914560)===He||(He&536870912)!==0?s===ua:!1}function op(){var s=D.H;return D.H=$i,s===null?$i:s}function cp(){var s=D.A;return D.A=K1,s}function Kc(){Lt=4,Hn||(He&4194048)!==He&&Ys.current!==null||(Vr=!0),(Bn&134217727)===0&&(Il&134217727)===0||ht===null||Qn(ht,He,Zs,!1)}function ih(s,n,i){var c=tt;tt|=2;var m=op(),f=cp();(ht!==s||He!==n)&&(Bc=null,$r(s,n)),n=!1;var w=Lt;e:do try{if(at!==0&&Ie!==null){var k=Ie,R=Ws;switch(at){case 8:rh(),w=6;break e;case 3:case 2:case 9:case 6:Ys.current===null&&(n=!0);var V=at;if(at=0,Ws=null,Kr(s,k,R,V),i&&Vr){w=0;break e}break;default:V=at,at=0,Ws=null,Kr(s,k,R,V)}}Y1(),w=Lt;break}catch(J){rp(s,J)}while(!0);return n&&s.shellSuspendCounter++,ln=Dl=null,tt=c,D.H=m,D.A=f,Ie===null&&(ht=null,He=0,mc()),w}function Y1(){for(;Ie!==null;)dp(Ie)}function X1(s,n){var i=tt;tt|=2;var c=op(),m=cp();ht!==s||He!==n?(Bc=null,Hc=Ss()+500,$r(s,n)):Vr=wt(s,n);e:do try{if(at!==0&&Ie!==null){n=Ie;var f=Ws;t:switch(at){case 1:at=0,Ws=null,Kr(s,n,f,1);break;case 2:case 9:if(j0(f)){at=0,Ws=null,up(n);break}n=function(){at!==2&&at!==9||ht!==s||(at=7),Ba(s)},f.then(n,n);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:j0(f)?(at=0,Ws=null,up(n)):(at=0,Ws=null,Kr(s,n,f,7));break;case 5:var w=null;switch(Ie.tag){case 26:w=Ie.memoizedState;case 5:case 27:var k=Ie;if(w?Xp(w):k.stateNode.complete){at=0,Ws=null;var R=k.sibling;if(R!==null)Ie=R;else{var V=k.return;V!==null?(Ie=V,Qc(V)):Ie=null}break t}}at=0,Ws=null,Kr(s,n,f,5);break;case 6:at=0,Ws=null,Kr(s,n,f,6);break;case 8:rh(),Lt=6;break e;default:throw Error(r(462))}}W1();break}catch(J){rp(s,J)}while(!0);return ln=Dl=null,D.H=c,D.A=m,tt=i,Ie!==null?0:(ht=null,He=0,mc(),Lt)}function W1(){for(;Ie!==null&&!ws();)dp(Ie)}function dp(s){var n=Og(s.alternate,s,gn);s.memoizedProps=s.pendingProps,n===null?Qc(s):Ie=n}function up(s){var n=s,i=n.alternate;switch(n.tag){case 15:case 0:n=Mg(i,n,n.pendingProps,n.type,void 0,He);break;case 11:n=Mg(i,n,n.pendingProps,n.type.render,n.ref,He);break;case 5:Nm(n);default:Lg(i,n),n=Ie=c0(n,gn),n=Og(i,n,gn)}s.memoizedProps=s.pendingProps,n===null?Qc(s):Ie=n}function Kr(s,n,i,c){ln=Dl=null,Nm(n),zr=null,qi=0;var m=n.return;try{if(P1(s,m,n,i,He)){Lt=1,Oc(s,ia(i,s.current)),Ie=null;return}}catch(f){if(m!==null)throw Ie=m,f;Lt=1,Oc(s,ia(i,s.current)),Ie=null;return}n.flags&32768?($e||c===1?s=!0:Vr||(He&536870912)!==0?s=!1:(Hn=s=!0,(c===2||c===9||c===3||c===6)&&(c=Ys.current,c!==null&&c.tag===13&&(c.flags|=16384))),mp(n,s)):Qc(n)}function Qc(s){var n=s;do{if((n.flags&32768)!==0){mp(n,Hn);return}s=n.return;var i=V1(n.alternate,n,gn);if(i!==null){Ie=i;return}if(n=n.sibling,n!==null){Ie=n;return}Ie=n=s}while(n!==null);Lt===0&&(Lt=5)}function mp(s,n){do{var i=H1(s.alternate,s);if(i!==null){i.flags&=32767,Ie=i;return}if(i=s.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!n&&(s=s.sibling,s!==null)){Ie=s;return}Ie=s=i}while(s!==null);Lt=6,Ie=null}function hp(s,n,i,c,m,f,w,k,R){s.cancelPendingCommit=null;do Gc();while(Xt!==0);if((tt&6)!==0)throw Error(r(327));if(n!==null){if(n===s.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Yu,Ds(s,i,f,w,k,R),s===ht&&(Ie=ht=null,He=0),Br=n,Kn=s,pn=i,ah=f,nh=m,sp=c,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,tw(bl,function(){return yp(),null})):(s.callbackNode=null,s.callbackPriority=0),c=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||c){c=D.T,D.T=null,m=X.p,X.p=2,w=tt,tt|=4;try{B1(s,n,i)}finally{tt=w,X.p=m,D.T=c}}Xt=1,xp(),fp(),gp()}}function xp(){if(Xt===1){Xt=0;var s=Kn,n=Br,i=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||i){i=D.T,D.T=null;var c=X.p;X.p=2;var m=tt;tt|=4;try{Gg(n,s);var f=vh,w=e0(s.containerInfo),k=f.focusedElem,R=f.selectionRange;if(w!==k&&k&&k.ownerDocument&&Jf(k.ownerDocument.documentElement,k)){if(R!==null&&Bu(k)){var V=R.start,J=R.end;if(J===void 0&&(J=V),"selectionStart"in k)k.selectionStart=V,k.selectionEnd=Math.min(J,k.value.length);else{var ae=k.ownerDocument||document,B=ae&&ae.defaultView||window;if(B.getSelection){var Y=B.getSelection(),pe=k.textContent.length,Ce=Math.min(R.start,pe),dt=R.end===void 0?Ce:Math.min(R.end,pe);!Y.extend&&Ce>dt&&(w=dt,dt=Ce,Ce=w);var L=Zf(k,Ce),O=Zf(k,dt);if(L&&O&&(Y.rangeCount!==1||Y.anchorNode!==L.node||Y.anchorOffset!==L.offset||Y.focusNode!==O.node||Y.focusOffset!==O.offset)){var U=ae.createRange();U.setStart(L.node,L.offset),Y.removeAllRanges(),Ce>dt?(Y.addRange(U),Y.extend(O.node,O.offset)):(U.setEnd(O.node,O.offset),Y.addRange(U))}}}}for(ae=[],Y=k;Y=Y.parentNode;)Y.nodeType===1&&ae.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<ae.length;k++){var se=ae[k];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}rd=!!yh,vh=yh=null}finally{tt=m,X.p=c,D.T=i}}s.current=n,Xt=2}}function fp(){if(Xt===2){Xt=0;var s=Kn,n=Br,i=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||i){i=D.T,D.T=null;var c=X.p;X.p=2;var m=tt;tt|=4;try{Hg(s,n.alternate,n)}finally{tt=m,X.p=c,D.T=i}}Xt=3}}function gp(){if(Xt===4||Xt===3){Xt=0,Mn();var s=Kn,n=Br,i=pn,c=sp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Xt=5:(Xt=0,Br=Kn=null,pp(s,s.pendingLanes));var m=s.pendingLanes;if(m===0&&($n=null),Na(i),n=n.stateNode,Cs&&typeof Cs.onCommitFiberRoot=="function")try{Cs.onCommitFiberRoot(Nl,n,void 0,(n.current.flags&128)===128)}catch{}if(c!==null){n=D.T,m=X.p,X.p=2,D.T=null;try{for(var f=s.onRecoverableError,w=0;w<c.length;w++){var k=c[w];f(k.value,{componentStack:k.stack})}}finally{D.T=n,X.p=m}}(pn&3)!==0&&Gc(),Ba(s),m=s.pendingLanes,(i&261930)!==0&&(m&42)!==0?s===lh?eo++:(eo=0,lh=s):eo=0,to(0)}}function pp(s,n){(s.pooledCacheLanes&=n)===0&&(n=s.pooledCache,n!=null&&(s.pooledCache=null,zi(n)))}function Gc(){return xp(),fp(),gp(),yp()}function yp(){if(Xt!==5)return!1;var s=Kn,n=ah;ah=0;var i=Na(pn),c=D.T,m=X.p;try{X.p=32>i?32:i,D.T=null,i=nh,nh=null;var f=Kn,w=pn;if(Xt=0,Br=Kn=null,pn=0,(tt&6)!==0)throw Error(r(331));var k=tt;if(tt|=4,Jg(f.current),Xg(f,f.current,w,i),tt=k,to(0,!1),Cs&&typeof Cs.onPostCommitFiberRoot=="function")try{Cs.onPostCommitFiberRoot(Nl,f)}catch{}return!0}finally{X.p=m,D.T=c,pp(s,n)}}function vp(s,n,i){n=ia(i,n),n=qm(s.stateNode,n,2),s=Pn(s,n,2),s!==null&&(Dt(s,2),Ba(s))}function nt(s,n,i){if(s.tag===3)vp(s,s,i);else for(;n!==null;){if(n.tag===3){vp(n,s,i);break}else if(n.tag===1){var c=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&($n===null||!$n.has(c))){s=ia(i,s),i=jg(2),c=Pn(n,i,2),c!==null&&(bg(i,c,n,s),Dt(c,2),Ba(c));break}}n=n.return}}function oh(s,n,i){var c=s.pingCache;if(c===null){c=s.pingCache=new Q1;var m=new Set;c.set(n,m)}else m=c.get(n),m===void 0&&(m=new Set,c.set(n,m));m.has(i)||(eh=!0,m.add(i),s=Z1.bind(null,s,n,i),n.then(s,s))}function Z1(s,n,i){var c=s.pingCache;c!==null&&c.delete(n),s.pingedLanes|=s.suspendedLanes&i,s.warmLanes&=~i,ht===s&&(He&i)===i&&(Lt===4||Lt===3&&(He&62914560)===He&&300>Ss()-Vc?(tt&2)===0&&$r(s,0):th|=i,Hr===He&&(Hr=0)),Ba(s)}function jp(s,n){n===0&&(n=ys()),s=_l(s,n),s!==null&&(Dt(s,n),Ba(s))}function J1(s){var n=s.memoizedState,i=0;n!==null&&(i=n.retryLane),jp(s,i)}function ew(s,n){var i=0;switch(s.tag){case 31:case 13:var c=s.stateNode,m=s.memoizedState;m!==null&&(i=m.retryLane);break;case 19:c=s.stateNode;break;case 22:c=s.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(n),jp(s,i)}function tw(s,n){return Za(s,n)}var Yc=null,Qr=null,ch=!1,Xc=!1,dh=!1,Gn=0;function Ba(s){s!==Qr&&s.next===null&&(Qr===null?Yc=Qr=s:Qr=Qr.next=s),Xc=!0,ch||(ch=!0,aw())}function to(s,n){if(!dh&&Xc){dh=!0;do for(var i=!1,c=Yc;c!==null;){if(s!==0){var m=c.pendingLanes;if(m===0)var f=0;else{var w=c.suspendedLanes,k=c.pingedLanes;f=(1<<31-ps(42|s)+1)-1,f&=m&~(w&~k),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(i=!0,Sp(c,f))}else f=He,f=Ee(c,c===ht?f:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(f&3)===0||wt(c,f)||(i=!0,Sp(c,f));c=c.next}while(i);dh=!1}}function sw(){bp()}function bp(){Xc=ch=!1;var s=0;Gn!==0&&hw()&&(s=Gn);for(var n=Ss(),i=null,c=Yc;c!==null;){var m=c.next,f=Np(c,n);f===0?(c.next=null,i===null?Yc=m:i.next=m,m===null&&(Qr=i)):(i=c,(s!==0||(f&3)!==0)&&(Xc=!0)),c=m}Xt!==0&&Xt!==5||to(s),Gn!==0&&(Gn=0)}function Np(s,n){for(var i=s.suspendedLanes,c=s.pingedLanes,m=s.expirationTimes,f=s.pendingLanes&-62914561;0<f;){var w=31-ps(f),k=1<<w,R=m[w];R===-1?((k&i)===0||(k&c)!==0)&&(m[w]=ts(k,n)):R<=n&&(s.expiredLanes|=k),f&=~k}if(n=ht,i=He,i=Ee(s,s===n?i:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c=s.callbackNode,i===0||s===n&&(at===2||at===9)||s.cancelPendingCommit!==null)return c!==null&&c!==null&&vi(c),s.callbackNode=null,s.callbackPriority=0;if((i&3)===0||wt(s,i)){if(n=i&-i,n===s.callbackPriority)return n;switch(c!==null&&vi(c),Na(i)){case 2:case 8:i=Jo;break;case 32:i=bl;break;case 268435456:i=Ja;break;default:i=bl}return c=wp.bind(null,s),i=Za(i,c),s.callbackPriority=n,s.callbackNode=i,n}return c!==null&&c!==null&&vi(c),s.callbackPriority=2,s.callbackNode=null,2}function wp(s,n){if(Xt!==0&&Xt!==5)return s.callbackNode=null,s.callbackPriority=0,null;var i=s.callbackNode;if(Gc()&&s.callbackNode!==i)return null;var c=He;return c=Ee(s,s===ht?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c===0?null:(np(s,c,n),Np(s,Ss()),s.callbackNode!=null&&s.callbackNode===i?wp.bind(null,s):null)}function Sp(s,n){if(Gc())return null;np(s,n,!0)}function aw(){fw(function(){(tt&6)!==0?Za(jl,sw):bp()})}function uh(){if(Gn===0){var s=Dr;s===0&&(s=ur,ur<<=1,(ur&261888)===0&&(ur=256)),Gn=s}return Gn}function Cp(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:nc(""+s)}function kp(s,n){var i=n.ownerDocument.createElement("input");return i.name=n.name,i.value=n.value,s.id&&i.setAttribute("form",s.id),n.parentNode.insertBefore(i,n),s=new FormData(s),i.parentNode.removeChild(i),s}function nw(s,n,i,c,m){if(n==="submit"&&i&&i.stateNode===m){var f=Cp((m[zs]||null).action),w=c.submitter;w&&(n=(n=w[zs]||null)?Cp(n.formAction):w.getAttribute("formAction"),n!==null&&(f=n,w=null));var k=new oc("action","action",null,c,m);s.push({event:k,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Gn!==0){var R=w?kp(m,w):new FormData(m);Rm(i,{pending:!0,data:R,method:m.method,action:f},null,R)}}else typeof f=="function"&&(k.preventDefault(),R=w?kp(m,w):new FormData(m),Rm(i,{pending:!0,data:R,method:m.method,action:f},f,R))},currentTarget:m}]})}}for(var mh=0;mh<Gu.length;mh++){var hh=Gu[mh],lw=hh.toLowerCase(),rw=hh[0].toUpperCase()+hh.slice(1);wa(lw,"on"+rw)}wa(a0,"onAnimationEnd"),wa(n0,"onAnimationIteration"),wa(l0,"onAnimationStart"),wa("dblclick","onDoubleClick"),wa("focusin","onFocus"),wa("focusout","onBlur"),wa(N1,"onTransitionRun"),wa(w1,"onTransitionStart"),wa(S1,"onTransitionCancel"),wa(r0,"onTransitionEnd"),yr("onMouseEnter",["mouseout","mouseover"]),yr("onMouseLeave",["mouseout","mouseover"]),yr("onPointerEnter",["pointerout","pointerover"]),yr("onPointerLeave",["pointerout","pointerover"]),Cl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Cl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Cl("onBeforeInput",["compositionend","keypress","textInput","paste"]),Cl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Cl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Cl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var so="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(so));function Ap(s,n){n=(n&4)!==0;for(var i=0;i<s.length;i++){var c=s[i],m=c.event;c=c.listeners;e:{var f=void 0;if(n)for(var w=c.length-1;0<=w;w--){var k=c[w],R=k.instance,V=k.currentTarget;if(k=k.listener,R!==f&&m.isPropagationStopped())break e;f=k,m.currentTarget=V;try{f(m)}catch(J){uc(J)}m.currentTarget=null,f=R}else for(w=0;w<c.length;w++){if(k=c[w],R=k.instance,V=k.currentTarget,k=k.listener,R!==f&&m.isPropagationStopped())break e;f=k,m.currentTarget=V;try{f(m)}catch(J){uc(J)}m.currentTarget=null,f=R}}}}function Ve(s,n){var i=n[ku];i===void 0&&(i=n[ku]=new Set);var c=s+"__bubble";i.has(c)||(Mp(n,s,2,!1),i.add(c))}function xh(s,n,i){var c=0;n&&(c|=4),Mp(i,s,c,n)}var Wc="_reactListening"+Math.random().toString(36).slice(2);function fh(s){if(!s[Wc]){s[Wc]=!0,bf.forEach(function(i){i!=="selectionchange"&&(iw.has(i)||xh(i,!1,s),xh(i,!0,s))});var n=s.nodeType===9?s:s.ownerDocument;n===null||n[Wc]||(n[Wc]=!0,xh("selectionchange",!1,n))}}function Mp(s,n,i,c){switch(ay(n)){case 2:var m=zw;break;case 8:m=Lw;break;default:m=Th}i=m.bind(null,n,i,s),m=void 0,!zu||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(m=!0),c?m!==void 0?s.addEventListener(n,i,{capture:!0,passive:m}):s.addEventListener(n,i,!0):m!==void 0?s.addEventListener(n,i,{passive:m}):s.addEventListener(n,i,!1)}function gh(s,n,i,c,m){var f=c;if((n&1)===0&&(n&2)===0&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var k=c.stateNode.containerInfo;if(k===m)break;if(w===4)for(w=c.return;w!==null;){var R=w.tag;if((R===3||R===4)&&w.stateNode.containerInfo===m)return;w=w.return}for(;k!==null;){if(w=fr(k),w===null)return;if(R=w.tag,R===5||R===6||R===26||R===27){c=f=w;continue e}k=k.parentNode}}c=c.return}Ef(function(){var V=f,J=Eu(i),ae=[];e:{var B=i0.get(s);if(B!==void 0){var Y=oc,pe=s;switch(s){case"keypress":if(rc(i)===0)break e;case"keydown":case"keyup":Y=e1;break;case"focusin":pe="focus",Y=Pu;break;case"focusout":pe="blur",Y=Pu;break;case"beforeblur":case"afterblur":Y=Pu;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Lf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=VN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=a1;break;case a0:case n0:case l0:Y=$N;break;case r0:Y=l1;break;case"scroll":case"scrollend":Y=UN;break;case"wheel":Y=i1;break;case"copy":case"cut":case"paste":Y=QN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Ff;break;case"toggle":case"beforetoggle":Y=c1}var Ce=(n&4)!==0,dt=!Ce&&(s==="scroll"||s==="scrollend"),L=Ce?B!==null?B+"Capture":null:B;Ce=[];for(var O=V,U;O!==null;){var se=O;if(U=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||U===null||L===null||(se=Si(O,L),se!=null&&Ce.push(ao(O,se,U))),dt)break;O=O.return}0<Ce.length&&(B=new Y(B,pe,null,i,J),ae.push({event:B,listeners:Ce}))}}if((n&7)===0){e:{if(B=s==="mouseover"||s==="pointerover",Y=s==="mouseout"||s==="pointerout",B&&i!==Du&&(pe=i.relatedTarget||i.fromElement)&&(fr(pe)||pe[xr]))break e;if((Y||B)&&(B=J.window===J?J:(B=J.ownerDocument)?B.defaultView||B.parentWindow:window,Y?(pe=i.relatedTarget||i.toElement,Y=V,pe=pe?fr(pe):null,pe!==null&&(dt=d(pe),Ce=pe.tag,pe!==dt||Ce!==5&&Ce!==27&&Ce!==6)&&(pe=null)):(Y=null,pe=V),Y!==pe)){if(Ce=Lf,se="onMouseLeave",L="onMouseEnter",O="mouse",(s==="pointerout"||s==="pointerover")&&(Ce=Ff,se="onPointerLeave",L="onPointerEnter",O="pointer"),dt=Y==null?B:wi(Y),U=pe==null?B:wi(pe),B=new Ce(se,O+"leave",Y,i,J),B.target=dt,B.relatedTarget=U,se=null,fr(J)===V&&(Ce=new Ce(L,O+"enter",pe,i,J),Ce.target=U,Ce.relatedTarget=dt,se=Ce),dt=se,Y&&pe)t:{for(Ce=ow,L=Y,O=pe,U=0,se=L;se;se=Ce(se))U++;se=0;for(var we=O;we;we=Ce(we))se++;for(;0<U-se;)L=Ce(L),U--;for(;0<se-U;)O=Ce(O),se--;for(;U--;){if(L===O||O!==null&&L===O.alternate){Ce=L;break t}L=Ce(L),O=Ce(O)}Ce=null}else Ce=null;Y!==null&&_p(ae,B,Y,Ce,!1),pe!==null&&dt!==null&&_p(ae,dt,pe,Ce,!0)}}e:{if(B=V?wi(V):window,Y=B.nodeName&&B.nodeName.toLowerCase(),Y==="select"||Y==="input"&&B.type==="file")var Je=Kf;else if(Bf(B))if(Qf)Je=v1;else{Je=p1;var Ne=g1}else Y=B.nodeName,!Y||Y.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?V&&Ru(V.elementType)&&(Je=Kf):Je=y1;if(Je&&(Je=Je(s,V))){$f(ae,Je,i,J);break e}Ne&&Ne(s,B,V),s==="focusout"&&V&&B.type==="number"&&V.memoizedProps.value!=null&&Tu(B,"number",B.value)}switch(Ne=V?wi(V):window,s){case"focusin":(Bf(Ne)||Ne.contentEditable==="true")&&(Sr=Ne,$u=V,Di=null);break;case"focusout":Di=$u=Sr=null;break;case"mousedown":Ku=!0;break;case"contextmenu":case"mouseup":case"dragend":Ku=!1,t0(ae,i,J);break;case"selectionchange":if(b1)break;case"keydown":case"keyup":t0(ae,i,J)}var qe;if(Iu)e:{switch(s){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else wr?Vf(s,i)&&(Be="onCompositionEnd"):s==="keydown"&&i.keyCode===229&&(Be="onCompositionStart");Be&&(Pf&&i.locale!=="ko"&&(wr||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&wr&&(qe=Of()):(Dn=J,Lu="value"in Dn?Dn.value:Dn.textContent,wr=!0)),Ne=Zc(V,Be),0<Ne.length&&(Be=new qf(Be,s,null,i,J),ae.push({event:Be,listeners:Ne}),qe?Be.data=qe:(qe=Hf(i),qe!==null&&(Be.data=qe)))),(qe=u1?m1(s,i):h1(s,i))&&(Be=Zc(V,"onBeforeInput"),0<Be.length&&(Ne=new qf("onBeforeInput","beforeinput",null,i,J),ae.push({event:Ne,listeners:Be}),Ne.data=qe)),nw(ae,s,V,i,J)}Ap(ae,n)})}function ao(s,n,i){return{instance:s,listener:n,currentTarget:i}}function Zc(s,n){for(var i=n+"Capture",c=[];s!==null;){var m=s,f=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||f===null||(m=Si(s,i),m!=null&&c.unshift(ao(s,m,f)),m=Si(s,n),m!=null&&c.push(ao(s,m,f))),s.tag===3)return c;s=s.return}return[]}function ow(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function _p(s,n,i,c,m){for(var f=n._reactName,w=[];i!==null&&i!==c;){var k=i,R=k.alternate,V=k.stateNode;if(k=k.tag,R!==null&&R===c)break;k!==5&&k!==26&&k!==27||V===null||(R=V,m?(V=Si(i,f),V!=null&&w.unshift(ao(i,V,R))):m||(V=Si(i,f),V!=null&&w.push(ao(i,V,R)))),i=i.return}w.length!==0&&s.push({event:n,listeners:w})}var cw=/\r\n?/g,dw=/\u0000|\uFFFD/g;function Tp(s){return(typeof s=="string"?s:""+s).replace(cw,`
`).replace(dw,"")}function Rp(s,n){return n=Tp(n),Tp(s)===n}function ct(s,n,i,c,m,f){switch(i){case"children":typeof c=="string"?n==="body"||n==="textarea"&&c===""||jr(s,c):(typeof c=="number"||typeof c=="bigint")&&n!=="body"&&jr(s,""+c);break;case"className":sc(s,"class",c);break;case"tabIndex":sc(s,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":sc(s,i,c);break;case"style":Rf(s,c,f);break;case"data":if(n!=="object"){sc(s,"data",c);break}case"src":case"href":if(c===""&&(n!=="a"||i!=="href")){s.removeAttribute(i);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(i);break}c=nc(""+c),s.setAttribute(i,c);break;case"action":case"formAction":if(typeof c=="function"){s.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(i==="formAction"?(n!=="input"&&ct(s,n,"name",m.name,m,null),ct(s,n,"formEncType",m.formEncType,m,null),ct(s,n,"formMethod",m.formMethod,m,null),ct(s,n,"formTarget",m.formTarget,m,null)):(ct(s,n,"encType",m.encType,m,null),ct(s,n,"method",m.method,m,null),ct(s,n,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(i);break}c=nc(""+c),s.setAttribute(i,c);break;case"onClick":c!=null&&(s.onclick=tn);break;case"onScroll":c!=null&&Ve("scroll",s);break;case"onScrollEnd":c!=null&&Ve("scrollend",s);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(i=c.__html,i!=null){if(m.children!=null)throw Error(r(60));s.innerHTML=i}}break;case"multiple":s.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":s.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){s.removeAttribute("xlink:href");break}i=nc(""+c),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(i,""+c):s.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(i,""):s.removeAttribute(i);break;case"capture":case"download":c===!0?s.setAttribute(i,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(i,c):s.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?s.setAttribute(i,c):s.removeAttribute(i);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?s.removeAttribute(i):s.setAttribute(i,c);break;case"popover":Ve("beforetoggle",s),Ve("toggle",s),tc(s,"popover",c);break;case"xlinkActuate":en(s,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":en(s,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":en(s,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":en(s,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":en(s,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":en(s,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":en(s,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":en(s,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":en(s,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":tc(s,"is",c);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=FN.get(i)||i,tc(s,i,c))}}function ph(s,n,i,c,m,f){switch(i){case"style":Rf(s,c,f);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(i=c.__html,i!=null){if(m.children!=null)throw Error(r(60));s.innerHTML=i}}break;case"children":typeof c=="string"?jr(s,c):(typeof c=="number"||typeof c=="bigint")&&jr(s,""+c);break;case"onScroll":c!=null&&Ve("scroll",s);break;case"onScrollEnd":c!=null&&Ve("scrollend",s);break;case"onClick":c!=null&&(s.onclick=tn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Nf.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(m=i.endsWith("Capture"),n=i.slice(2,m?i.length-7:void 0),f=s[zs]||null,f=f!=null?f[i]:null,typeof f=="function"&&s.removeEventListener(n,f,m),typeof c=="function")){typeof f!="function"&&f!==null&&(i in s?s[i]=null:s.hasAttribute(i)&&s.removeAttribute(i)),s.addEventListener(n,c,m);break e}i in s?s[i]=c:c===!0?s.setAttribute(i,""):tc(s,i,c)}}}function xs(s,n,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",s),Ve("load",s);var c=!1,m=!1,f;for(f in i)if(i.hasOwnProperty(f)){var w=i[f];if(w!=null)switch(f){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ct(s,n,f,w,i,null)}}m&&ct(s,n,"srcSet",i.srcSet,i,null),c&&ct(s,n,"src",i.src,i,null);return;case"input":Ve("invalid",s);var k=f=w=m=null,R=null,V=null;for(c in i)if(i.hasOwnProperty(c)){var J=i[c];if(J!=null)switch(c){case"name":m=J;break;case"type":w=J;break;case"checked":R=J;break;case"defaultChecked":V=J;break;case"value":f=J;break;case"defaultValue":k=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,n));break;default:ct(s,n,c,J,i,null)}}Af(s,f,k,R,V,w,m,!1);return;case"select":Ve("invalid",s),c=w=f=null;for(m in i)if(i.hasOwnProperty(m)&&(k=i[m],k!=null))switch(m){case"value":f=k;break;case"defaultValue":w=k;break;case"multiple":c=k;default:ct(s,n,m,k,i,null)}n=f,i=w,s.multiple=!!c,n!=null?vr(s,!!c,n,!1):i!=null&&vr(s,!!c,i,!0);return;case"textarea":Ve("invalid",s),f=m=c=null;for(w in i)if(i.hasOwnProperty(w)&&(k=i[w],k!=null))switch(w){case"value":c=k;break;case"defaultValue":m=k;break;case"children":f=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(91));break;default:ct(s,n,w,k,i,null)}_f(s,c,m,f);return;case"option":for(R in i)if(i.hasOwnProperty(R)&&(c=i[R],c!=null))switch(R){case"selected":s.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:ct(s,n,R,c,i,null)}return;case"dialog":Ve("beforetoggle",s),Ve("toggle",s),Ve("cancel",s),Ve("close",s);break;case"iframe":case"object":Ve("load",s);break;case"video":case"audio":for(c=0;c<so.length;c++)Ve(so[c],s);break;case"image":Ve("error",s),Ve("load",s);break;case"details":Ve("toggle",s);break;case"embed":case"source":case"link":Ve("error",s),Ve("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(V in i)if(i.hasOwnProperty(V)&&(c=i[V],c!=null))switch(V){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ct(s,n,V,c,i,null)}return;default:if(Ru(n)){for(J in i)i.hasOwnProperty(J)&&(c=i[J],c!==void 0&&ph(s,n,J,c,i,void 0));return}}for(k in i)i.hasOwnProperty(k)&&(c=i[k],c!=null&&ct(s,n,k,c,i,null))}function uw(s,n,i,c){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,f=null,w=null,k=null,R=null,V=null,J=null;for(Y in i){var ae=i[Y];if(i.hasOwnProperty(Y)&&ae!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":R=ae;default:c.hasOwnProperty(Y)||ct(s,n,Y,null,c,ae)}}for(var B in c){var Y=c[B];if(ae=i[B],c.hasOwnProperty(B)&&(Y!=null||ae!=null))switch(B){case"type":f=Y;break;case"name":m=Y;break;case"checked":V=Y;break;case"defaultChecked":J=Y;break;case"value":w=Y;break;case"defaultValue":k=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,n));break;default:Y!==ae&&ct(s,n,B,Y,c,ae)}}_u(s,w,k,R,V,J,f,m);return;case"select":Y=w=k=B=null;for(f in i)if(R=i[f],i.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":Y=R;default:c.hasOwnProperty(f)||ct(s,n,f,null,c,R)}for(m in c)if(f=c[m],R=i[m],c.hasOwnProperty(m)&&(f!=null||R!=null))switch(m){case"value":B=f;break;case"defaultValue":k=f;break;case"multiple":w=f;default:f!==R&&ct(s,n,m,f,c,R)}n=k,i=w,c=Y,B!=null?vr(s,!!i,B,!1):!!c!=!!i&&(n!=null?vr(s,!!i,n,!0):vr(s,!!i,i?[]:"",!1));return;case"textarea":Y=B=null;for(k in i)if(m=i[k],i.hasOwnProperty(k)&&m!=null&&!c.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:ct(s,n,k,null,c,m)}for(w in c)if(m=c[w],f=i[w],c.hasOwnProperty(w)&&(m!=null||f!=null))switch(w){case"value":B=m;break;case"defaultValue":Y=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==f&&ct(s,n,w,m,c,f)}Mf(s,B,Y);return;case"option":for(var pe in i)if(B=i[pe],i.hasOwnProperty(pe)&&B!=null&&!c.hasOwnProperty(pe))switch(pe){case"selected":s.selected=!1;break;default:ct(s,n,pe,null,c,B)}for(R in c)if(B=c[R],Y=i[R],c.hasOwnProperty(R)&&B!==Y&&(B!=null||Y!=null))switch(R){case"selected":s.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:ct(s,n,R,B,c,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ce in i)B=i[Ce],i.hasOwnProperty(Ce)&&B!=null&&!c.hasOwnProperty(Ce)&&ct(s,n,Ce,null,c,B);for(V in c)if(B=c[V],Y=i[V],c.hasOwnProperty(V)&&B!==Y&&(B!=null||Y!=null))switch(V){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,n));break;default:ct(s,n,V,B,c,Y)}return;default:if(Ru(n)){for(var dt in i)B=i[dt],i.hasOwnProperty(dt)&&B!==void 0&&!c.hasOwnProperty(dt)&&ph(s,n,dt,void 0,c,B);for(J in c)B=c[J],Y=i[J],!c.hasOwnProperty(J)||B===Y||B===void 0&&Y===void 0||ph(s,n,J,B,c,Y);return}}for(var L in i)B=i[L],i.hasOwnProperty(L)&&B!=null&&!c.hasOwnProperty(L)&&ct(s,n,L,null,c,B);for(ae in c)B=c[ae],Y=i[ae],!c.hasOwnProperty(ae)||B===Y||B==null&&Y==null||ct(s,n,ae,B,c,Y)}function Dp(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function mw(){if(typeof performance.getEntriesByType=="function"){for(var s=0,n=0,i=performance.getEntriesByType("resource"),c=0;c<i.length;c++){var m=i[c],f=m.transferSize,w=m.initiatorType,k=m.duration;if(f&&k&&Dp(w)){for(w=0,k=m.responseEnd,c+=1;c<i.length;c++){var R=i[c],V=R.startTime;if(V>k)break;var J=R.transferSize,ae=R.initiatorType;J&&Dp(ae)&&(R=R.responseEnd,w+=J*(R<k?1:(k-V)/(R-V)))}if(--c,n+=8*(f+w)/(m.duration/1e3),s++,10<s)break}}if(0<s)return n/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var yh=null,vh=null;function Jc(s){return s.nodeType===9?s:s.ownerDocument}function Ep(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Op(s,n){if(s===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&n==="foreignObject"?0:s}function jh(s,n){return s==="textarea"||s==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var bh=null;function hw(){var s=window.event;return s&&s.type==="popstate"?s===bh?!1:(bh=s,!0):(bh=null,!1)}var zp=typeof setTimeout=="function"?setTimeout:void 0,xw=typeof clearTimeout=="function"?clearTimeout:void 0,Lp=typeof Promise=="function"?Promise:void 0,fw=typeof queueMicrotask=="function"?queueMicrotask:typeof Lp<"u"?function(s){return Lp.resolve(null).then(s).catch(gw)}:zp;function gw(s){setTimeout(function(){throw s})}function Yn(s){return s==="head"}function qp(s,n){var i=n,c=0;do{var m=i.nextSibling;if(s.removeChild(i),m&&m.nodeType===8)if(i=m.data,i==="/$"||i==="/&"){if(c===0){s.removeChild(m),Wr(n);return}c--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")c++;else if(i==="html")no(s.ownerDocument.documentElement);else if(i==="head"){i=s.ownerDocument.head,no(i);for(var f=i.firstChild;f;){var w=f.nextSibling,k=f.nodeName;f[Ni]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&f.rel.toLowerCase()==="stylesheet"||i.removeChild(f),f=w}}else i==="body"&&no(s.ownerDocument.body);i=m}while(i);Wr(n)}function Fp(s,n){var i=s;s=0;do{var c=i.nextSibling;if(i.nodeType===1?n?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(n?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),c&&c.nodeType===8)if(i=c.data,i==="/$"){if(s===0)break;s--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||s++;i=c}while(i)}function Nh(s){var n=s.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var i=n;switch(n=n.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Nh(i),Au(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}s.removeChild(i)}}function pw(s,n,i,c){for(;s.nodeType===1;){var m=i;if(s.nodeName.toLowerCase()!==n.toLowerCase()){if(!c&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(c){if(!s[Ni])switch(n){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(f=s.getAttribute("rel"),f==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(f!==m.rel||s.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(f=s.getAttribute("src"),(f!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&f&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(n==="input"&&s.type==="hidden"){var f=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===f)return s}else return s;if(s=ma(s.nextSibling),s===null)break}return null}function yw(s,n,i){if(n==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!i||(s=ma(s.nextSibling),s===null))return null;return s}function Pp(s,n){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!n||(s=ma(s.nextSibling),s===null))return null;return s}function wh(s){return s.data==="$?"||s.data==="$~"}function Sh(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function vw(s,n){var i=s.ownerDocument;if(s.data==="$~")s._reactRetry=n;else if(s.data!=="$?"||i.readyState!=="loading")n();else{var c=function(){n(),i.removeEventListener("DOMContentLoaded",c)};i.addEventListener("DOMContentLoaded",c),s._reactRetry=c}}function ma(s){for(;s!=null;s=s.nextSibling){var n=s.nodeType;if(n===1||n===3)break;if(n===8){if(n=s.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return s}var Ch=null;function Up(s){s=s.nextSibling;for(var n=0;s;){if(s.nodeType===8){var i=s.data;if(i==="/$"||i==="/&"){if(n===0)return ma(s.nextSibling);n--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||n++}s=s.nextSibling}return null}function Ip(s){s=s.previousSibling;for(var n=0;s;){if(s.nodeType===8){var i=s.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(n===0)return s;n--}else i!=="/$"&&i!=="/&"||n++}s=s.previousSibling}return null}function Vp(s,n,i){switch(n=Jc(i),s){case"html":if(s=n.documentElement,!s)throw Error(r(452));return s;case"head":if(s=n.head,!s)throw Error(r(453));return s;case"body":if(s=n.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function no(s){for(var n=s.attributes;n.length;)s.removeAttributeNode(n[0]);Au(s)}var ha=new Map,Hp=new Set;function ed(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var yn=X.d;X.d={f:jw,r:bw,D:Nw,C:ww,L:Sw,m:Cw,X:Aw,S:kw,M:Mw};function jw(){var s=yn.f(),n=$c();return s||n}function bw(s){var n=gr(s);n!==null&&n.tag===5&&n.type==="form"?rg(n):yn.r(s)}var Gr=typeof document>"u"?null:document;function Bp(s,n,i){var c=Gr;if(c&&typeof n=="string"&&n){var m=la(n);m='link[rel="'+s+'"][href="'+m+'"]',typeof i=="string"&&(m+='[crossorigin="'+i+'"]'),Hp.has(m)||(Hp.add(m),s={rel:s,crossOrigin:i,href:n},c.querySelector(m)===null&&(n=c.createElement("link"),xs(n,"link",s),ss(n),c.head.appendChild(n)))}}function Nw(s){yn.D(s),Bp("dns-prefetch",s,null)}function ww(s,n){yn.C(s,n),Bp("preconnect",s,n)}function Sw(s,n,i){yn.L(s,n,i);var c=Gr;if(c&&s&&n){var m='link[rel="preload"][as="'+la(n)+'"]';n==="image"&&i&&i.imageSrcSet?(m+='[imagesrcset="'+la(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(m+='[imagesizes="'+la(i.imageSizes)+'"]')):m+='[href="'+la(s)+'"]';var f=m;switch(n){case"style":f=Yr(s);break;case"script":f=Xr(s)}ha.has(f)||(s=p({rel:"preload",href:n==="image"&&i&&i.imageSrcSet?void 0:s,as:n},i),ha.set(f,s),c.querySelector(m)!==null||n==="style"&&c.querySelector(lo(f))||n==="script"&&c.querySelector(ro(f))||(n=c.createElement("link"),xs(n,"link",s),ss(n),c.head.appendChild(n)))}}function Cw(s,n){yn.m(s,n);var i=Gr;if(i&&s){var c=n&&typeof n.as=="string"?n.as:"script",m='link[rel="modulepreload"][as="'+la(c)+'"][href="'+la(s)+'"]',f=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Xr(s)}if(!ha.has(f)&&(s=p({rel:"modulepreload",href:s},n),ha.set(f,s),i.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(ro(f)))return}c=i.createElement("link"),xs(c,"link",s),ss(c),i.head.appendChild(c)}}}function kw(s,n,i){yn.S(s,n,i);var c=Gr;if(c&&s){var m=pr(c).hoistableStyles,f=Yr(s);n=n||"default";var w=m.get(f);if(!w){var k={loading:0,preload:null};if(w=c.querySelector(lo(f)))k.loading=5;else{s=p({rel:"stylesheet",href:s,"data-precedence":n},i),(i=ha.get(f))&&kh(s,i);var R=w=c.createElement("link");ss(R),xs(R,"link",s),R._p=new Promise(function(V,J){R.onload=V,R.onerror=J}),R.addEventListener("load",function(){k.loading|=1}),R.addEventListener("error",function(){k.loading|=2}),k.loading|=4,td(w,n,c)}w={type:"stylesheet",instance:w,count:1,state:k},m.set(f,w)}}}function Aw(s,n){yn.X(s,n);var i=Gr;if(i&&s){var c=pr(i).hoistableScripts,m=Xr(s),f=c.get(m);f||(f=i.querySelector(ro(m)),f||(s=p({src:s,async:!0},n),(n=ha.get(m))&&Ah(s,n),f=i.createElement("script"),ss(f),xs(f,"link",s),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},c.set(m,f))}}function Mw(s,n){yn.M(s,n);var i=Gr;if(i&&s){var c=pr(i).hoistableScripts,m=Xr(s),f=c.get(m);f||(f=i.querySelector(ro(m)),f||(s=p({src:s,async:!0,type:"module"},n),(n=ha.get(m))&&Ah(s,n),f=i.createElement("script"),ss(f),xs(f,"link",s),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},c.set(m,f))}}function $p(s,n,i,c){var m=(m=gt.current)?ed(m):null;if(!m)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(n=Yr(i.href),i=pr(m).hoistableStyles,c=i.get(n),c||(c={type:"style",instance:null,count:0,state:null},i.set(n,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){s=Yr(i.href);var f=pr(m).hoistableStyles,w=f.get(s);if(w||(m=m.ownerDocument||m,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(s,w),(f=m.querySelector(lo(s)))&&!f._p&&(w.instance=f,w.state.loading=5),ha.has(s)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},ha.set(s,i),f||_w(m,s,i,w.state))),n&&c===null)throw Error(r(528,""));return w}if(n&&c!==null)throw Error(r(529,""));return null;case"script":return n=i.async,i=i.src,typeof i=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Xr(i),i=pr(m).hoistableScripts,c=i.get(n),c||(c={type:"script",instance:null,count:0,state:null},i.set(n,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function Yr(s){return'href="'+la(s)+'"'}function lo(s){return'link[rel="stylesheet"]['+s+"]"}function Kp(s){return p({},s,{"data-precedence":s.precedence,precedence:null})}function _w(s,n,i,c){s.querySelector('link[rel="preload"][as="style"]['+n+"]")?c.loading=1:(n=s.createElement("link"),c.preload=n,n.addEventListener("load",function(){return c.loading|=1}),n.addEventListener("error",function(){return c.loading|=2}),xs(n,"link",i),ss(n),s.head.appendChild(n))}function Xr(s){return'[src="'+la(s)+'"]'}function ro(s){return"script[async]"+s}function Qp(s,n,i){if(n.count++,n.instance===null)switch(n.type){case"style":var c=s.querySelector('style[data-href~="'+la(i.href)+'"]');if(c)return n.instance=c,ss(c),c;var m=p({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return c=(s.ownerDocument||s).createElement("style"),ss(c),xs(c,"style",m),td(c,i.precedence,s),n.instance=c;case"stylesheet":m=Yr(i.href);var f=s.querySelector(lo(m));if(f)return n.state.loading|=4,n.instance=f,ss(f),f;c=Kp(i),(m=ha.get(m))&&kh(c,m),f=(s.ownerDocument||s).createElement("link"),ss(f);var w=f;return w._p=new Promise(function(k,R){w.onload=k,w.onerror=R}),xs(f,"link",c),n.state.loading|=4,td(f,i.precedence,s),n.instance=f;case"script":return f=Xr(i.src),(m=s.querySelector(ro(f)))?(n.instance=m,ss(m),m):(c=i,(m=ha.get(f))&&(c=p({},i),Ah(c,m)),s=s.ownerDocument||s,m=s.createElement("script"),ss(m),xs(m,"link",c),s.head.appendChild(m),n.instance=m);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(c=n.instance,n.state.loading|=4,td(c,i.precedence,s));return n.instance}function td(s,n,i){for(var c=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,f=m,w=0;w<c.length;w++){var k=c[w];if(k.dataset.precedence===n)f=k;else if(f!==m)break}f?f.parentNode.insertBefore(s,f.nextSibling):(n=i.nodeType===9?i.head:i,n.insertBefore(s,n.firstChild))}function kh(s,n){s.crossOrigin==null&&(s.crossOrigin=n.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=n.referrerPolicy),s.title==null&&(s.title=n.title)}function Ah(s,n){s.crossOrigin==null&&(s.crossOrigin=n.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=n.referrerPolicy),s.integrity==null&&(s.integrity=n.integrity)}var sd=null;function Gp(s,n,i){if(sd===null){var c=new Map,m=sd=new Map;m.set(i,c)}else m=sd,c=m.get(i),c||(c=new Map,m.set(i,c));if(c.has(s))return c;for(c.set(s,null),i=i.getElementsByTagName(s),m=0;m<i.length;m++){var f=i[m];if(!(f[Ni]||f[ds]||s==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var w=f.getAttribute(n)||"";w=s+w;var k=c.get(w);k?k.push(f):c.set(w,[f])}}return c}function Yp(s,n,i){s=s.ownerDocument||s,s.head.insertBefore(i,n==="title"?s.querySelector("head > title"):null)}function Tw(s,n,i){if(i===1||n.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return s=n.disabled,typeof n.precedence=="string"&&s==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Xp(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function Rw(s,n,i,c){if(i.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var m=Yr(c.href),f=n.querySelector(lo(m));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(s.count++,s=ad.bind(s),n.then(s,s)),i.state.loading|=4,i.instance=f,ss(f);return}f=n.ownerDocument||n,c=Kp(c),(m=ha.get(m))&&kh(c,m),f=f.createElement("link"),ss(f);var w=f;w._p=new Promise(function(k,R){w.onload=k,w.onerror=R}),xs(f,"link",c),i.instance=f}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(s.count++,i=ad.bind(s),n.addEventListener("load",i),n.addEventListener("error",i))}}var Mh=0;function Dw(s,n){return s.stylesheets&&s.count===0&&ld(s,s.stylesheets),0<s.count||0<s.imgCount?function(i){var c=setTimeout(function(){if(s.stylesheets&&ld(s,s.stylesheets),s.unsuspend){var f=s.unsuspend;s.unsuspend=null,f()}},6e4+n);0<s.imgBytes&&Mh===0&&(Mh=62500*mw());var m=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&ld(s,s.stylesheets),s.unsuspend)){var f=s.unsuspend;s.unsuspend=null,f()}},(s.imgBytes>Mh?50:800)+n);return s.unsuspend=i,function(){s.unsuspend=null,clearTimeout(c),clearTimeout(m)}}:null}function ad(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ld(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var nd=null;function ld(s,n){s.stylesheets=null,s.unsuspend!==null&&(s.count++,nd=new Map,n.forEach(Ew,s),nd=null,ad.call(s))}function Ew(s,n){if(!(n.state.loading&4)){var i=nd.get(s);if(i)var c=i.get(null);else{i=new Map,nd.set(s,i);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<m.length;f++){var w=m[f];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(i.set(w.dataset.precedence,w),c=w)}c&&i.set(null,c)}m=n.instance,w=m.getAttribute("data-precedence"),f=i.get(w)||c,f===c&&i.set(null,m),i.set(w,m),this.count++,c=ad.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),f?f.parentNode.insertBefore(m,f.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),n.state.loading|=4}}var io={$$typeof:A,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function Ow(s,n,i,c,m,f,w,k,R){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Tn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tn(0),this.hiddenUpdates=Tn(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=f,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function Wp(s,n,i,c,m,f,w,k,R,V,J,ae){return s=new Ow(s,n,i,w,R,V,J,ae,k),n=1,f===!0&&(n|=24),f=Gs(3,null,null,n),s.current=f,f.stateNode=s,n=im(),n.refCount++,s.pooledCache=n,n.refCount++,f.memoizedState={element:c,isDehydrated:i,cache:n},um(f),s}function Zp(s){return s?(s=Ar,s):Ar}function Jp(s,n,i,c,m,f){m=Zp(m),c.context===null?c.context=m:c.pendingContext=m,c=Fn(n),c.payload={element:i},f=f===void 0?null:f,f!==null&&(c.callback=f),i=Pn(s,c,n),i!==null&&(Is(i,s,n),Pi(i,s,n))}function ey(s,n){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var i=s.retryLane;s.retryLane=i!==0&&i<n?i:n}}function _h(s,n){ey(s,n),(s=s.alternate)&&ey(s,n)}function ty(s){if(s.tag===13||s.tag===31){var n=_l(s,67108864);n!==null&&Is(n,s,67108864),_h(s,67108864)}}function sy(s){if(s.tag===13||s.tag===31){var n=Js();n=hr(n);var i=_l(s,n);i!==null&&Is(i,s,n),_h(s,n)}}var rd=!0;function zw(s,n,i,c){var m=D.T;D.T=null;var f=X.p;try{X.p=2,Th(s,n,i,c)}finally{X.p=f,D.T=m}}function Lw(s,n,i,c){var m=D.T;D.T=null;var f=X.p;try{X.p=8,Th(s,n,i,c)}finally{X.p=f,D.T=m}}function Th(s,n,i,c){if(rd){var m=Rh(c);if(m===null)gh(s,n,c,id,i),ny(s,c);else if(Fw(m,s,n,i,c))c.stopPropagation();else if(ny(s,c),n&4&&-1<qw.indexOf(s)){for(;m!==null;){var f=gr(m);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var w=Ua(f.pendingLanes);if(w!==0){var k=f;for(k.pendingLanes|=2,k.entangledLanes|=2;w;){var R=1<<31-ps(w);k.entanglements[1]|=R,w&=~R}Ba(f),(tt&6)===0&&(Hc=Ss()+500,to(0))}}break;case 31:case 13:k=_l(f,2),k!==null&&Is(k,f,2),$c(),_h(f,2)}if(f=Rh(c),f===null&&gh(s,n,c,id,i),f===m)break;m=f}m!==null&&c.stopPropagation()}else gh(s,n,c,null,i)}}function Rh(s){return s=Eu(s),Dh(s)}var id=null;function Dh(s){if(id=null,s=fr(s),s!==null){var n=d(s);if(n===null)s=null;else{var i=n.tag;if(i===13){if(s=u(n),s!==null)return s;s=null}else if(i===31){if(s=h(n),s!==null)return s;s=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;s=null}else n!==s&&(s=null)}}return id=s,null}function ay(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(wu()){case jl:return 2;case Jo:return 8;case bl:case ji:return 32;case Ja:return 268435456;default:return 32}default:return 32}}var Eh=!1,Xn=null,Wn=null,Zn=null,oo=new Map,co=new Map,Jn=[],qw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ny(s,n){switch(s){case"focusin":case"focusout":Xn=null;break;case"dragenter":case"dragleave":Wn=null;break;case"mouseover":case"mouseout":Zn=null;break;case"pointerover":case"pointerout":oo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":co.delete(n.pointerId)}}function uo(s,n,i,c,m,f){return s===null||s.nativeEvent!==f?(s={blockedOn:n,domEventName:i,eventSystemFlags:c,nativeEvent:f,targetContainers:[m]},n!==null&&(n=gr(n),n!==null&&ty(n)),s):(s.eventSystemFlags|=c,n=s.targetContainers,m!==null&&n.indexOf(m)===-1&&n.push(m),s)}function Fw(s,n,i,c,m){switch(n){case"focusin":return Xn=uo(Xn,s,n,i,c,m),!0;case"dragenter":return Wn=uo(Wn,s,n,i,c,m),!0;case"mouseover":return Zn=uo(Zn,s,n,i,c,m),!0;case"pointerover":var f=m.pointerId;return oo.set(f,uo(oo.get(f)||null,s,n,i,c,m)),!0;case"gotpointercapture":return f=m.pointerId,co.set(f,uo(co.get(f)||null,s,n,i,c,m)),!0}return!1}function ly(s){var n=fr(s.target);if(n!==null){var i=d(n);if(i!==null){if(n=i.tag,n===13){if(n=u(i),n!==null){s.blockedOn=n,vf(s.priority,function(){sy(i)});return}}else if(n===31){if(n=h(i),n!==null){s.blockedOn=n,vf(s.priority,function(){sy(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){s.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}s.blockedOn=null}function od(s){if(s.blockedOn!==null)return!1;for(var n=s.targetContainers;0<n.length;){var i=Rh(s.nativeEvent);if(i===null){i=s.nativeEvent;var c=new i.constructor(i.type,i);Du=c,i.target.dispatchEvent(c),Du=null}else return n=gr(i),n!==null&&ty(n),s.blockedOn=i,!1;n.shift()}return!0}function ry(s,n,i){od(s)&&i.delete(n)}function Pw(){Eh=!1,Xn!==null&&od(Xn)&&(Xn=null),Wn!==null&&od(Wn)&&(Wn=null),Zn!==null&&od(Zn)&&(Zn=null),oo.forEach(ry),co.forEach(ry)}function cd(s,n){s.blockedOn===n&&(s.blockedOn=null,Eh||(Eh=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Pw)))}var dd=null;function iy(s){dd!==s&&(dd=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){dd===s&&(dd=null);for(var n=0;n<s.length;n+=3){var i=s[n],c=s[n+1],m=s[n+2];if(typeof c!="function"){if(Dh(c||i)===null)continue;break}var f=gr(i);f!==null&&(s.splice(n,3),n-=3,Rm(f,{pending:!0,data:m,method:i.method,action:c},c,m))}}))}function Wr(s){function n(R){return cd(R,s)}Xn!==null&&cd(Xn,s),Wn!==null&&cd(Wn,s),Zn!==null&&cd(Zn,s),oo.forEach(n),co.forEach(n);for(var i=0;i<Jn.length;i++){var c=Jn[i];c.blockedOn===s&&(c.blockedOn=null)}for(;0<Jn.length&&(i=Jn[0],i.blockedOn===null);)ly(i),i.blockedOn===null&&Jn.shift();if(i=(s.ownerDocument||s).$$reactFormReplay,i!=null)for(c=0;c<i.length;c+=3){var m=i[c],f=i[c+1],w=m[zs]||null;if(typeof f=="function")w||iy(i);else if(w){var k=null;if(f&&f.hasAttribute("formAction")){if(m=f,w=f[zs]||null)k=w.formAction;else if(Dh(m)!==null)continue}else k=w.action;typeof k=="function"?i[c+1]=k:(i.splice(c,3),c-=3),iy(i)}}}function oy(){function s(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(w){return m=w})},focusReset:"manual",scroll:"manual"})}function n(){m!==null&&(m(),m=null),c||setTimeout(i,20)}function i(){if(!c&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,m=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(i,100),function(){c=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),m!==null&&(m(),m=null)}}}function Oh(s){this._internalRoot=s}ud.prototype.render=Oh.prototype.render=function(s){var n=this._internalRoot;if(n===null)throw Error(r(409));var i=n.current,c=Js();Jp(i,c,s,n,null,null)},ud.prototype.unmount=Oh.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var n=s.containerInfo;Jp(s.current,2,null,s,null,null),$c(),n[xr]=null}};function ud(s){this._internalRoot=s}ud.prototype.unstable_scheduleHydration=function(s){if(s){var n=Cu();s={blockedOn:null,target:s,priority:n};for(var i=0;i<Jn.length&&n!==0&&n<Jn[i].priority;i++);Jn.splice(i,0,s),i===0&&ly(s)}};var cy=a.version;if(cy!=="19.2.3")throw Error(r(527,cy,"19.2.3"));X.findDOMNode=function(s){var n=s._reactInternals;if(n===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=g(n),s=s!==null?y(s):null,s=s===null?null:s.stateNode,s};var Uw={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var md=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!md.isDisabled&&md.supportsFiber)try{Nl=md.inject(Uw),Cs=md}catch{}}return ho.createRoot=function(s,n){if(!o(s))throw Error(r(299));var i=!1,c="",m=gg,f=pg,w=yg;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(m=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(w=n.onRecoverableError)),n=Wp(s,1,!1,null,null,i,c,null,m,f,w,oy),s[xr]=n.current,fh(s),new Oh(n)},ho.hydrateRoot=function(s,n,i){if(!o(s))throw Error(r(299));var c=!1,m="",f=gg,w=pg,k=yg,R=null;return i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(m=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(w=i.onCaughtError),i.onRecoverableError!==void 0&&(k=i.onRecoverableError),i.formState!==void 0&&(R=i.formState)),n=Wp(s,1,!0,n,i??null,c,m,R,f,w,k,oy),n.context=Zp(null),i=n.current,c=Js(),c=hr(c),m=Fn(c),m.callback=null,Pn(i,m,c),i=c,n.current.lanes=i,Dt(n,i),Ba(n),s[xr]=n.current,fh(s),new ud(n)},ho.version="19.2.3",ho}var fy;function Qw(){if(fy)return Lh.exports;fy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(a){console.error(a)}}return t(),Lh.exports=Kw(),Lh.exports}var Gw=Qw();var gy="popstate";function Yw(t={}){function a(r,o){let{pathname:d,search:u,hash:h}=r.location;return nx("",{pathname:d,search:u,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function l(r,o){return typeof o=="string"?o:To(o)}return Ww(a,l,null,t)}function Mt(t,a){if(t===!1||t===null||typeof t>"u")throw new Error(a)}function ta(t,a){if(!t){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function Xw(){return Math.random().toString(36).substring(2,10)}function py(t,a){return{usr:t.state,key:t.key,idx:a}}function nx(t,a,l=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof a=="string"?oi(a):a,state:l,key:a&&a.key||r||Xw()}}function To({pathname:t="/",search:a="",hash:l=""}){return a&&a!=="?"&&(t+=a.charAt(0)==="?"?a:"?"+a),l&&l!=="#"&&(t+=l.charAt(0)==="#"?l:"#"+l),t}function oi(t){let a={};if(t){let l=t.indexOf("#");l>=0&&(a.hash=t.substring(l),t=t.substring(0,l));let r=t.indexOf("?");r>=0&&(a.search=t.substring(r),t=t.substring(0,r)),t&&(a.pathname=t)}return a}function Ww(t,a,l,r={}){let{window:o=document.defaultView,v5Compat:d=!1}=r,u=o.history,h="POP",x=null,g=y();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function y(){return(u.state||{idx:null}).idx}function p(){h="POP";let S=y(),_=S==null?null:S-g;g=S,x&&x({action:h,location:C.location,delta:_})}function j(S,_){h="PUSH";let E=nx(C.location,S,_);g=y()+1;let A=py(E,g),M=C.createHref(E);try{u.pushState(A,"",M)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;o.location.assign(M)}d&&x&&x({action:h,location:C.location,delta:1})}function N(S,_){h="REPLACE";let E=nx(C.location,S,_);g=y();let A=py(E,g),M=C.createHref(E);u.replaceState(A,"",M),d&&x&&x({action:h,location:C.location,delta:0})}function v(S){return Zw(S)}let C={get action(){return h},get location(){return t(o,u)},listen(S){if(x)throw new Error("A history only accepts one active listener");return o.addEventListener(gy,p),x=S,()=>{o.removeEventListener(gy,p),x=null}},createHref(S){return a(o,S)},createURL:v,encodeLocation(S){let _=v(S);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:j,replace:N,go(S){return u.go(S)}};return C}function Zw(t,a=!1){let l="http://localhost";typeof window<"u"&&(l=window.location.origin!=="null"?window.location.origin:window.location.href),Mt(l,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:To(t);return r=r.replace(/ $/,"%20"),!a&&r.startsWith("//")&&(r=l+r),new URL(r,l)}function aj(t,a,l="/"){return Jw(t,a,l,!1)}function Jw(t,a,l,r){let o=typeof a=="string"?oi(a):a,d=Cn(o.pathname||"/",l);if(d==null)return null;let u=nj(t);e2(u);let h=null;for(let x=0;h==null&&x<u.length;++x){let g=u2(d);h=c2(u[x],g,r)}return h}function nj(t,a=[],l=[],r="",o=!1){let d=(u,h,x=o,g)=>{let y={relativePath:g===void 0?u.path||"":g,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(r)&&x)return;Mt(y.relativePath.startsWith(r),`Absolute route path "${y.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(r.length)}let p=Nn([r,y.relativePath]),j=l.concat(y);u.children&&u.children.length>0&&(Mt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),nj(u.children,a,j,p,x)),!(u.path==null&&!u.index)&&a.push({path:p,score:i2(p,u.index),routesMeta:j})};return t.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))d(u,h);else for(let x of lj(u.path))d(u,h,!0,x)}),a}function lj(t){let a=t.split("/");if(a.length===0)return[];let[l,...r]=a,o=l.endsWith("?"),d=l.replace(/\?$/,"");if(r.length===0)return o?[d,""]:[d];let u=lj(r.join("/")),h=[];return h.push(...u.map(x=>x===""?d:[d,x].join("/"))),o&&h.push(...u),h.map(x=>t.startsWith("/")&&x===""?"/":x)}function e2(t){t.sort((a,l)=>a.score!==l.score?l.score-a.score:o2(a.routesMeta.map(r=>r.childrenIndex),l.routesMeta.map(r=>r.childrenIndex)))}var t2=/^:[\w-]+$/,s2=3,a2=2,n2=1,l2=10,r2=-2,yy=t=>t==="*";function i2(t,a){let l=t.split("/"),r=l.length;return l.some(yy)&&(r+=r2),a&&(r+=a2),l.filter(o=>!yy(o)).reduce((o,d)=>o+(t2.test(d)?s2:d===""?n2:l2),r)}function o2(t,a){return t.length===a.length&&t.slice(0,-1).every((r,o)=>r===a[o])?t[t.length-1]-a[a.length-1]:0}function c2(t,a,l=!1){let{routesMeta:r}=t,o={},d="/",u=[];for(let h=0;h<r.length;++h){let x=r[h],g=h===r.length-1,y=d==="/"?a:a.slice(d.length)||"/",p=Ld({path:x.relativePath,caseSensitive:x.caseSensitive,end:g},y),j=x.route;if(!p&&g&&l&&!r[r.length-1].route.index&&(p=Ld({path:x.relativePath,caseSensitive:x.caseSensitive,end:!1},y)),!p)return null;Object.assign(o,p.params),u.push({params:o,pathname:Nn([d,p.pathname]),pathnameBase:g2(Nn([d,p.pathnameBase])),route:j}),p.pathnameBase!=="/"&&(d=Nn([d,p.pathnameBase]))}return u}function Ld(t,a){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[l,r]=d2(t.path,t.caseSensitive,t.end),o=a.match(l);if(!o)return null;let d=o[0],u=d.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:r.reduce((g,{paramName:y,isOptional:p},j)=>{if(y==="*"){let v=h[j]||"";u=d.slice(0,d.length-v.length).replace(/(.)\/+$/,"$1")}const N=h[j];return p&&!N?g[y]=void 0:g[y]=(N||"").replace(/%2F/g,"/"),g},{}),pathname:d,pathnameBase:u,pattern:t}}function d2(t,a=!1,l=!0){ta(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,x)=>(r.push({paramName:h,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):l?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,a?void 0:"i"),r]}function u2(t){try{return t.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return ta(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),t}}function Cn(t,a){if(a==="/")return t;if(!t.toLowerCase().startsWith(a.toLowerCase()))return null;let l=a.endsWith("/")?a.length-1:a.length,r=t.charAt(l);return r&&r!=="/"?null:t.slice(l)||"/"}var m2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,h2=t=>m2.test(t);function x2(t,a="/"){let{pathname:l,search:r="",hash:o=""}=typeof t=="string"?oi(t):t,d;if(l)if(h2(l))d=l;else{if(l.includes("//")){let u=l;l=l.replace(/\/\/+/g,"/"),ta(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${l}`)}l.startsWith("/")?d=vy(l.substring(1),"/"):d=vy(l,a)}else d=a;return{pathname:d,search:p2(r),hash:y2(o)}}function vy(t,a){let l=a.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?l.length>1&&l.pop():o!=="."&&l.push(o)}),l.length>1?l.join("/"):"/"}function Ph(t,a,l,r){return`Cannot include a '${t}' character in a manually specified \`to.${a}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${l}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function f2(t){return t.filter((a,l)=>l===0||a.route.path&&a.route.path.length>0)}function _x(t){let a=f2(t);return a.map((l,r)=>r===a.length-1?l.pathname:l.pathnameBase)}function Tx(t,a,l,r=!1){let o;typeof t=="string"?o=oi(t):(o={...t},Mt(!o.pathname||!o.pathname.includes("?"),Ph("?","pathname","search",o)),Mt(!o.pathname||!o.pathname.includes("#"),Ph("#","pathname","hash",o)),Mt(!o.search||!o.search.includes("#"),Ph("#","search","hash",o)));let d=t===""||o.pathname==="",u=d?"/":o.pathname,h;if(u==null)h=l;else{let p=a.length-1;if(!r&&u.startsWith("..")){let j=u.split("/");for(;j[0]==="..";)j.shift(),p-=1;o.pathname=j.join("/")}h=p>=0?a[p]:"/"}let x=x2(o,h),g=u&&u!=="/"&&u.endsWith("/"),y=(d||u===".")&&l.endsWith("/");return!x.pathname.endsWith("/")&&(g||y)&&(x.pathname+="/"),x}var Nn=t=>t.join("/").replace(/\/\/+/g,"/"),g2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),p2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,y2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function v2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function j2(t){return t.map(a=>a.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var rj=["POST","PUT","PATCH","DELETE"];new Set(rj);var b2=["GET",...rj];new Set(b2);var ci=b.createContext(null);ci.displayName="DataRouter";var eu=b.createContext(null);eu.displayName="DataRouterState";b.createContext(!1);var ij=b.createContext({isTransitioning:!1});ij.displayName="ViewTransition";var N2=b.createContext(new Map);N2.displayName="Fetchers";var w2=b.createContext(null);w2.displayName="Await";var ya=b.createContext(null);ya.displayName="Navigation";var qo=b.createContext(null);qo.displayName="Location";var za=b.createContext({outlet:null,matches:[],isDataRoute:!1});za.displayName="Route";var Rx=b.createContext(null);Rx.displayName="RouteError";function S2(t,{relative:a}={}){Mt(di(),"useHref() may be used only in the context of a <Router> component.");let{basename:l,navigator:r}=b.useContext(ya),{hash:o,pathname:d,search:u}=Fo(t,{relative:a}),h=d;return l!=="/"&&(h=d==="/"?l:Nn([l,d])),r.createHref({pathname:h,search:u,hash:o})}function di(){return b.useContext(qo)!=null}function va(){return Mt(di(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(qo).location}var oj="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function cj(t){b.useContext(ya).static||b.useLayoutEffect(t)}function La(){let{isDataRoute:t}=b.useContext(za);return t?P2():C2()}function C2(){Mt(di(),"useNavigate() may be used only in the context of a <Router> component.");let t=b.useContext(ci),{basename:a,navigator:l}=b.useContext(ya),{matches:r}=b.useContext(za),{pathname:o}=va(),d=JSON.stringify(_x(r)),u=b.useRef(!1);return cj(()=>{u.current=!0}),b.useCallback((x,g={})=>{if(ta(u.current,oj),!u.current)return;if(typeof x=="number"){l.go(x);return}let y=Tx(x,JSON.parse(d),o,g.relative==="path");t==null&&a!=="/"&&(y.pathname=y.pathname==="/"?a:Nn([a,y.pathname])),(g.replace?l.replace:l.push)(y,g.state,g)},[a,l,d,o,t])}var k2=b.createContext(null);function A2(t){let a=b.useContext(za).outlet;return b.useMemo(()=>a&&b.createElement(k2.Provider,{value:t},a),[a,t])}function Fo(t,{relative:a}={}){let{matches:l}=b.useContext(za),{pathname:r}=va(),o=JSON.stringify(_x(l));return b.useMemo(()=>Tx(t,JSON.parse(o),r,a==="path"),[t,o,r,a])}function M2(t,a){return dj(t,a)}function dj(t,a,l,r,o){Mt(di(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:d}=b.useContext(ya),{matches:u}=b.useContext(za),h=u[u.length-1],x=h?h.params:{},g=h?h.pathname:"/",y=h?h.pathnameBase:"/",p=h&&h.route;{let E=p&&p.path||"";uj(g,!p||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let j=va(),N;if(a){let E=typeof a=="string"?oi(a):a;Mt(y==="/"||E.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${E.pathname}" was given in the \`location\` prop.`),N=E}else N=j;let v=N.pathname||"/",C=v;if(y!=="/"){let E=y.replace(/^\//,"").split("/");C="/"+v.replace(/^\//,"").split("/").slice(E.length).join("/")}let S=aj(t,{pathname:C});ta(p||S!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),ta(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=E2(S&&S.map(E=>Object.assign({},E,{params:Object.assign({},x,E.params),pathname:Nn([y,d.encodeLocation?d.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?y:Nn([y,d.encodeLocation?d.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),u,l,r,o);return a&&_?b.createElement(qo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},_):_}function _2(){let t=F2(),a=v2(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),l=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},d={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:d},"ErrorBoundary")," or"," ",b.createElement("code",{style:d},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},a),l?b.createElement("pre",{style:o},l):null,u)}var T2=b.createElement(_2,null),R2=class extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,a){return a.location!==t.location||a.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:a.error,location:a.location,revalidation:t.revalidation||a.revalidation}}componentDidCatch(t,a){this.props.onError?this.props.onError(t,a):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?b.createElement(za.Provider,{value:this.props.routeContext},b.createElement(Rx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function D2({routeContext:t,match:a,children:l}){let r=b.useContext(ci);return r&&r.static&&r.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=a.route.id),b.createElement(za.Provider,{value:t},l)}function E2(t,a=[],l=null,r=null,o=null){if(t==null){if(!l)return null;if(l.errors)t=l.matches;else if(a.length===0&&!l.initialized&&l.matches.length>0)t=l.matches;else return null}let d=t,u=l?.errors;if(u!=null){let y=d.findIndex(p=>p.route.id&&u?.[p.route.id]!==void 0);Mt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),d=d.slice(0,Math.min(d.length,y+1))}let h=!1,x=-1;if(l)for(let y=0;y<d.length;y++){let p=d[y];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(x=y),p.route.id){let{loaderData:j,errors:N}=l,v=p.route.loader&&!j.hasOwnProperty(p.route.id)&&(!N||N[p.route.id]===void 0);if(p.route.lazy||v){h=!0,x>=0?d=d.slice(0,x+1):d=[d[0]];break}}}let g=l&&r?(y,p)=>{r(y,{location:l.location,params:l.matches?.[0]?.params??{},unstable_pattern:j2(l.matches),errorInfo:p})}:void 0;return d.reduceRight((y,p,j)=>{let N,v=!1,C=null,S=null;l&&(N=u&&p.route.id?u[p.route.id]:void 0,C=p.route.errorElement||T2,h&&(x<0&&j===0?(uj("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,S=null):x===j&&(v=!0,S=p.route.hydrateFallbackElement||null)));let _=a.concat(d.slice(0,j+1)),E=()=>{let A;return N?A=C:v?A=S:p.route.Component?A=b.createElement(p.route.Component,null):p.route.element?A=p.route.element:A=y,b.createElement(D2,{match:p,routeContext:{outlet:y,matches:_,isDataRoute:l!=null},children:A})};return l&&(p.route.ErrorBoundary||p.route.errorElement||j===0)?b.createElement(R2,{location:l.location,revalidation:l.revalidation,component:C,error:N,children:E(),routeContext:{outlet:null,matches:_,isDataRoute:!0},onError:g}):E()},null)}function Dx(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function O2(t){let a=b.useContext(ci);return Mt(a,Dx(t)),a}function z2(t){let a=b.useContext(eu);return Mt(a,Dx(t)),a}function L2(t){let a=b.useContext(za);return Mt(a,Dx(t)),a}function Ex(t){let a=L2(t),l=a.matches[a.matches.length-1];return Mt(l.route.id,`${t} can only be used on routes that contain a unique "id"`),l.route.id}function q2(){return Ex("useRouteId")}function F2(){let t=b.useContext(Rx),a=z2("useRouteError"),l=Ex("useRouteError");return t!==void 0?t:a.errors?.[l]}function P2(){let{router:t}=O2("useNavigate"),a=Ex("useNavigate"),l=b.useRef(!1);return cj(()=>{l.current=!0}),b.useCallback(async(o,d={})=>{ta(l.current,oj),l.current&&(typeof o=="number"?await t.navigate(o):await t.navigate(o,{fromRouteId:a,...d}))},[t,a])}var jy={};function uj(t,a,l){!a&&!jy[t]&&(jy[t]=!0,ta(!1,l))}b.memo(U2);function U2({routes:t,future:a,state:l,unstable_onError:r}){return dj(t,void 0,l,r,a)}function mj({to:t,replace:a,state:l,relative:r}){Mt(di(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=b.useContext(ya);ta(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:d}=b.useContext(za),{pathname:u}=va(),h=La(),x=Tx(t,_x(d),u,r==="path"),g=JSON.stringify(x);return b.useEffect(()=>{h(JSON.parse(g),{replace:a,state:l,relative:r})},[h,g,r,a,l]),null}function I2(t){return A2(t.context)}function Ke(t){Mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function V2({basename:t="/",children:a=null,location:l,navigationType:r="POP",navigator:o,static:d=!1,unstable_useTransitions:u}){Mt(!di(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=t.replace(/^\/*/,"/"),x=b.useMemo(()=>({basename:h,navigator:o,static:d,unstable_useTransitions:u,future:{}}),[h,o,d,u]);typeof l=="string"&&(l=oi(l));let{pathname:g="/",search:y="",hash:p="",state:j=null,key:N="default"}=l,v=b.useMemo(()=>{let C=Cn(g,h);return C==null?null:{location:{pathname:C,search:y,hash:p,state:j,key:N},navigationType:r}},[h,g,y,p,j,N,r]);return ta(v!=null,`<Router basename="${h}"> is not able to match the URL "${g}${y}${p}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:b.createElement(ya.Provider,{value:x},b.createElement(qo.Provider,{children:a,value:v}))}function H2({children:t,location:a}){return M2(lx(t),a)}function lx(t,a=[]){let l=[];return b.Children.forEach(t,(r,o)=>{if(!b.isValidElement(r))return;let d=[...a,o];if(r.type===b.Fragment){l.push.apply(l,lx(r.props.children,d));return}Mt(r.type===Ke,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Mt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||d.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=lx(r.props.children,d)),l.push(u)}),l}var Md="get",_d="application/x-www-form-urlencoded";function tu(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function B2(t){return tu(t)&&t.tagName.toLowerCase()==="button"}function $2(t){return tu(t)&&t.tagName.toLowerCase()==="form"}function K2(t){return tu(t)&&t.tagName.toLowerCase()==="input"}function Q2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function G2(t,a){return t.button===0&&(!a||a==="_self")&&!Q2(t)}function rx(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((a,l)=>{let r=t[l];return a.concat(Array.isArray(r)?r.map(o=>[l,o]):[[l,r]])},[]))}function Y2(t,a){let l=rx(t);return a&&a.forEach((r,o)=>{l.has(o)||a.getAll(o).forEach(d=>{l.append(o,d)})}),l}var hd=null;function X2(){if(hd===null)try{new FormData(document.createElement("form"),0),hd=!1}catch{hd=!0}return hd}var W2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Uh(t){return t!=null&&!W2.has(t)?(ta(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_d}"`),null):t}function Z2(t,a){let l,r,o,d,u;if($2(t)){let h=t.getAttribute("action");r=h?Cn(h,a):null,l=t.getAttribute("method")||Md,o=Uh(t.getAttribute("enctype"))||_d,d=new FormData(t)}else if(B2(t)||K2(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let x=t.getAttribute("formaction")||h.getAttribute("action");if(r=x?Cn(x,a):null,l=t.getAttribute("formmethod")||h.getAttribute("method")||Md,o=Uh(t.getAttribute("formenctype"))||Uh(h.getAttribute("enctype"))||_d,d=new FormData(h,t),!X2()){let{name:g,type:y,value:p}=t;if(y==="image"){let j=g?`${g}.`:"";d.append(`${j}x`,"0"),d.append(`${j}y`,"0")}else g&&d.append(g,p)}}else{if(tu(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');l=Md,r=null,o=_d,u=t}return d&&o==="text/plain"&&(u=d,d=void 0),{action:r,method:l.toLowerCase(),encType:o,formData:d,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ox(t,a){if(t===!1||t===null||typeof t>"u")throw new Error(a)}function J2(t,a,l){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${l}`:a&&Cn(r.pathname,a)==="/"?r.pathname=`${a.replace(/\/$/,"")}/_root.${l}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${l}`,r}async function eS(t,a){if(t.id in a)return a[t.id];try{let l=await import(t.module);return a[t.id]=l,l}catch(l){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(l),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function tS(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function sS(t,a,l){let r=await Promise.all(t.map(async o=>{let d=a.routes[o.route.id];if(d){let u=await eS(d,l);return u.links?u.links():[]}return[]}));return rS(r.flat(1).filter(tS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function by(t,a,l,r,o,d){let u=(x,g)=>l[g]?x.route.id!==l[g].route.id:!0,h=(x,g)=>l[g].pathname!==x.pathname||l[g].route.path?.endsWith("*")&&l[g].params["*"]!==x.params["*"];return d==="assets"?a.filter((x,g)=>u(x,g)||h(x,g)):d==="data"?a.filter((x,g)=>{let y=r.routes[x.route.id];if(!y||!y.hasLoader)return!1;if(u(x,g)||h(x,g))return!0;if(x.route.shouldRevalidate){let p=x.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:l[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:x.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function aS(t,a,{includeHydrateFallback:l}={}){return nS(t.map(r=>{let o=a.routes[r.route.id];if(!o)return[];let d=[o.module];return o.clientActionModule&&(d=d.concat(o.clientActionModule)),o.clientLoaderModule&&(d=d.concat(o.clientLoaderModule)),l&&o.hydrateFallbackModule&&(d=d.concat(o.hydrateFallbackModule)),o.imports&&(d=d.concat(o.imports)),d}).flat(1))}function nS(t){return[...new Set(t)]}function lS(t){let a={},l=Object.keys(t).sort();for(let r of l)a[r]=t[r];return a}function rS(t,a){let l=new Set;return new Set(a),t.reduce((r,o)=>{let d=JSON.stringify(lS(o));return l.has(d)||(l.add(d),r.push({key:d,link:o})),r},[])}function hj(){let t=b.useContext(ci);return Ox(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function iS(){let t=b.useContext(eu);return Ox(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var zx=b.createContext(void 0);zx.displayName="FrameworkContext";function xj(){let t=b.useContext(zx);return Ox(t,"You must render this element inside a <HydratedRouter> element"),t}function oS(t,a){let l=b.useContext(zx),[r,o]=b.useState(!1),[d,u]=b.useState(!1),{onFocus:h,onBlur:x,onMouseEnter:g,onMouseLeave:y,onTouchStart:p}=a,j=b.useRef(null);b.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let C=_=>{_.forEach(E=>{u(E.isIntersecting)})},S=new IntersectionObserver(C,{threshold:.5});return j.current&&S.observe(j.current),()=>{S.disconnect()}}},[t]),b.useEffect(()=>{if(r){let C=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(C)}}},[r]);let N=()=>{o(!0)},v=()=>{o(!1),u(!1)};return l?t!=="intent"?[d,j,{}]:[d,j,{onFocus:xo(h,N),onBlur:xo(x,v),onMouseEnter:xo(g,N),onMouseLeave:xo(y,v),onTouchStart:xo(p,N)}]:[!1,j,{}]}function xo(t,a){return l=>{t&&t(l),l.defaultPrevented||a(l)}}function cS({page:t,...a}){let{router:l}=hj(),r=b.useMemo(()=>aj(l.routes,t,l.basename),[l.routes,t,l.basename]);return r?b.createElement(uS,{page:t,matches:r,...a}):null}function dS(t){let{manifest:a,routeModules:l}=xj(),[r,o]=b.useState([]);return b.useEffect(()=>{let d=!1;return sS(t,a,l).then(u=>{d||o(u)}),()=>{d=!0}},[t,a,l]),r}function uS({page:t,matches:a,...l}){let r=va(),{manifest:o,routeModules:d}=xj(),{basename:u}=hj(),{loaderData:h,matches:x}=iS(),g=b.useMemo(()=>by(t,a,x,o,r,"data"),[t,a,x,o,r]),y=b.useMemo(()=>by(t,a,x,o,r,"assets"),[t,a,x,o,r]),p=b.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let v=new Set,C=!1;if(a.forEach(_=>{let E=o.routes[_.route.id];!E||!E.hasLoader||(!g.some(A=>A.route.id===_.route.id)&&_.route.id in h&&d[_.route.id]?.shouldRevalidate||E.hasClientLoader?C=!0:v.add(_.route.id))}),v.size===0)return[];let S=J2(t,u,"data");return C&&v.size>0&&S.searchParams.set("_routes",a.filter(_=>v.has(_.route.id)).map(_=>_.route.id).join(",")),[S.pathname+S.search]},[u,h,r,o,g,a,t,d]),j=b.useMemo(()=>aS(y,o),[y,o]),N=dS(y);return b.createElement(b.Fragment,null,p.map(v=>b.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...l})),j.map(v=>b.createElement("link",{key:v,rel:"modulepreload",href:v,...l})),N.map(({key:v,link:C})=>b.createElement("link",{key:v,nonce:l.nonce,...C})))}function mS(...t){return a=>{t.forEach(l=>{typeof l=="function"?l(a):l!=null&&(l.current=a)})}}var fj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{fj&&(window.__reactRouterVersion="7.10.1")}catch{}function hS({basename:t,children:a,unstable_useTransitions:l,window:r}){let o=b.useRef();o.current==null&&(o.current=Yw({window:r,v5Compat:!0}));let d=o.current,[u,h]=b.useState({action:d.action,location:d.location}),x=b.useCallback(g=>{l===!1?h(g):b.startTransition(()=>h(g))},[l]);return b.useLayoutEffect(()=>d.listen(x),[d,x]),b.createElement(V2,{basename:t,children:a,location:u.location,navigationType:u.action,navigator:d,unstable_useTransitions:l===!0})}var gj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ce=b.forwardRef(function({onClick:a,discover:l="render",prefetch:r="none",relative:o,reloadDocument:d,replace:u,state:h,target:x,to:g,preventScrollReset:y,viewTransition:p,...j},N){let{basename:v,unstable_useTransitions:C}=b.useContext(ya),S=typeof g=="string"&&gj.test(g),_,E=!1;if(typeof g=="string"&&S&&(_=g,fj))try{let q=new URL(window.location.href),$=g.startsWith("//")?new URL(q.protocol+g):new URL(g),re=Cn($.pathname,v);$.origin===q.origin&&re!=null?g=re+$.search+$.hash:E=!0}catch{ta(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=S2(g,{relative:o}),[M,H,I]=oS(r,j),W=gS(g,{replace:u,state:h,target:x,preventScrollReset:y,relative:o,viewTransition:p,unstable_useTransitions:C});function Q(q){a&&a(q),q.defaultPrevented||W(q)}let K=b.createElement("a",{...j,...I,href:_||A,onClick:E||d?a:Q,ref:mS(N,H),target:x,"data-discover":!S&&l==="render"?"true":void 0});return M&&!S?b.createElement(b.Fragment,null,K,b.createElement(cS,{page:A})):K});ce.displayName="Link";var pj=b.forwardRef(function({"aria-current":a="page",caseSensitive:l=!1,className:r="",end:o=!1,style:d,to:u,viewTransition:h,children:x,...g},y){let p=Fo(u,{relative:g.relative}),j=va(),N=b.useContext(eu),{navigator:v,basename:C}=b.useContext(ya),S=N!=null&&bS(p)&&h===!0,_=v.encodeLocation?v.encodeLocation(p).pathname:p.pathname,E=j.pathname,A=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;l||(E=E.toLowerCase(),A=A?A.toLowerCase():null,_=_.toLowerCase()),A&&C&&(A=Cn(A,C)||A);const M=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let H=E===_||!o&&E.startsWith(_)&&E.charAt(M)==="/",I=A!=null&&(A===_||!o&&A.startsWith(_)&&A.charAt(_.length)==="/"),W={isActive:H,isPending:I,isTransitioning:S},Q=H?a:void 0,K;typeof r=="function"?K=r(W):K=[r,H?"active":null,I?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let q=typeof d=="function"?d(W):d;return b.createElement(ce,{...g,"aria-current":Q,className:K,ref:y,style:q,to:u,viewTransition:h},typeof x=="function"?x(W):x)});pj.displayName="NavLink";var xS=b.forwardRef(({discover:t="render",fetcherKey:a,navigate:l,reloadDocument:r,replace:o,state:d,method:u=Md,action:h,onSubmit:x,relative:g,preventScrollReset:y,viewTransition:p,...j},N)=>{let{unstable_useTransitions:v}=b.useContext(ya),C=vS(),S=jS(h,{relative:g}),_=u.toLowerCase()==="get"?"get":"post",E=typeof h=="string"&&gj.test(h),A=M=>{if(x&&x(M),M.defaultPrevented)return;M.preventDefault();let H=M.nativeEvent.submitter,I=H?.getAttribute("formmethod")||u,W=()=>C(H||M.currentTarget,{fetcherKey:a,method:I,navigate:l,replace:o,state:d,relative:g,preventScrollReset:y,viewTransition:p});v&&l!==!1?b.startTransition(()=>W()):W()};return b.createElement("form",{ref:N,method:_,action:S,onSubmit:r?x:A,...j,"data-discover":!E&&t==="render"?"true":void 0})});xS.displayName="Form";function fS(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yj(t){let a=b.useContext(ci);return Mt(a,fS(t)),a}function gS(t,{target:a,replace:l,state:r,preventScrollReset:o,relative:d,viewTransition:u,unstable_useTransitions:h}={}){let x=La(),g=va(),y=Fo(t,{relative:d});return b.useCallback(p=>{if(G2(p,a)){p.preventDefault();let j=l!==void 0?l:To(g)===To(y),N=()=>x(t,{replace:j,state:r,preventScrollReset:o,relative:d,viewTransition:u});h?b.startTransition(()=>N()):N()}},[g,x,y,l,r,a,t,o,d,u,h])}function vj(t){ta(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let a=b.useRef(rx(t)),l=b.useRef(!1),r=va(),o=b.useMemo(()=>Y2(r.search,l.current?null:a.current),[r.search]),d=La(),u=b.useCallback((h,x)=>{const g=rx(typeof h=="function"?h(new URLSearchParams(o)):h);l.current=!0,d("?"+g,x)},[d,o]);return[o,u]}var pS=0,yS=()=>`__${String(++pS)}__`;function vS(){let{router:t}=yj("useSubmit"),{basename:a}=b.useContext(ya),l=q2(),r=t.fetch,o=t.navigate;return b.useCallback(async(d,u={})=>{let{action:h,method:x,encType:g,formData:y,body:p}=Z2(d,a);if(u.navigate===!1){let j=u.fetcherKey||yS();await r(j,l,u.action||h,{preventScrollReset:u.preventScrollReset,formData:y,body:p,formMethod:u.method||x,formEncType:u.encType||g,flushSync:u.flushSync})}else await o(u.action||h,{preventScrollReset:u.preventScrollReset,formData:y,body:p,formMethod:u.method||x,formEncType:u.encType||g,replace:u.replace,state:u.state,fromRouteId:l,flushSync:u.flushSync,viewTransition:u.viewTransition})},[r,o,a,l])}function jS(t,{relative:a}={}){let{basename:l}=b.useContext(ya),r=b.useContext(za);Mt(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),d={...Fo(t||".",{relative:a})},u=va();if(t==null){d.search=u.search;let h=new URLSearchParams(d.search),x=h.getAll("index");if(x.some(y=>y==="")){h.delete("index"),x.filter(p=>p).forEach(p=>h.append("index",p));let y=h.toString();d.search=y?`?${y}`:""}}return(!t||t===".")&&o.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),l!=="/"&&(d.pathname=d.pathname==="/"?l:Nn([l,d.pathname])),To(d)}function bS(t,{relative:a}={}){let l=b.useContext(ij);Mt(l!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=yj("useViewTransitionState"),o=Fo(t,{relative:a});if(!l.isTransitioning)return!1;let d=Cn(l.currentLocation.pathname,r)||l.currentLocation.pathname,u=Cn(l.nextLocation.pathname,r)||l.nextLocation.pathname;return Ld(o.pathname,u)!=null||Ld(o.pathname,d)!=null}var NS=sj();const wS=tj(NS);var ui=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},SS={setTimeout:(t,a)=>setTimeout(t,a),clearTimeout:t=>clearTimeout(t),setInterval:(t,a)=>setInterval(t,a),clearInterval:t=>clearInterval(t)},CS=class{#e=SS;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,a){return this.#e.setTimeout(t,a)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,a){return this.#e.setInterval(t,a)}clearInterval(t){this.#e.clearInterval(t)}},Bl=new CS;function kS(t){setTimeout(t,0)}var Yl=typeof window>"u"||"Deno"in globalThis;function As(){}function AS(t,a){return typeof t=="function"?t(a):t}function ix(t){return typeof t=="number"&&t>=0&&t!==1/0}function jj(t,a){return Math.max(t+(a||0)-Date.now(),0)}function ll(t,a){return typeof t=="function"?t(a):t}function fa(t,a){return typeof t=="function"?t(a):t}function Ny(t,a){const{type:l="all",exact:r,fetchStatus:o,predicate:d,queryKey:u,stale:h}=t;if(u){if(r){if(a.queryHash!==Lx(u,a.options))return!1}else if(!Ro(a.queryKey,u))return!1}if(l!=="all"){const x=a.isActive();if(l==="active"&&!x||l==="inactive"&&x)return!1}return!(typeof h=="boolean"&&a.isStale()!==h||o&&o!==a.state.fetchStatus||d&&!d(a))}function wy(t,a){const{exact:l,status:r,predicate:o,mutationKey:d}=t;if(d){if(!a.options.mutationKey)return!1;if(l){if(Xl(a.options.mutationKey)!==Xl(d))return!1}else if(!Ro(a.options.mutationKey,d))return!1}return!(r&&a.state.status!==r||o&&!o(a))}function Lx(t,a){return(a?.queryKeyHashFn||Xl)(t)}function Xl(t){return JSON.stringify(t,(a,l)=>ox(l)?Object.keys(l).sort().reduce((r,o)=>(r[o]=l[o],r),{}):l)}function Ro(t,a){return t===a?!0:typeof t!=typeof a?!1:t&&a&&typeof t=="object"&&typeof a=="object"?Object.keys(a).every(l=>Ro(t[l],a[l])):!1}var MS=Object.prototype.hasOwnProperty;function bj(t,a){if(t===a)return t;const l=Sy(t)&&Sy(a);if(!l&&!(ox(t)&&ox(a)))return a;const o=(l?t:Object.keys(t)).length,d=l?a:Object.keys(a),u=d.length,h=l?new Array(u):{};let x=0;for(let g=0;g<u;g++){const y=l?g:d[g],p=t[y],j=a[y];if(p===j){h[y]=p,(l?g<o:MS.call(t,y))&&x++;continue}if(p===null||j===null||typeof p!="object"||typeof j!="object"){h[y]=j;continue}const N=bj(p,j);h[y]=N,N===p&&x++}return o===u&&x===o?t:h}function qd(t,a){if(!a||Object.keys(t).length!==Object.keys(a).length)return!1;for(const l in t)if(t[l]!==a[l])return!1;return!0}function Sy(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function ox(t){if(!Cy(t))return!1;const a=t.constructor;if(a===void 0)return!0;const l=a.prototype;return!(!Cy(l)||!l.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Cy(t){return Object.prototype.toString.call(t)==="[object Object]"}function _S(t){return new Promise(a=>{Bl.setTimeout(a,t)})}function cx(t,a,l){return typeof l.structuralSharing=="function"?l.structuralSharing(t,a):l.structuralSharing!==!1?bj(t,a):a}function TS(t,a,l=0){const r=[...t,a];return l&&r.length>l?r.slice(1):r}function RS(t,a,l=0){const r=[a,...t];return l&&r.length>l?r.slice(0,-1):r}var qx=Symbol();function Nj(t,a){return!t.queryFn&&a?.initialPromise?()=>a.initialPromise:!t.queryFn||t.queryFn===qx?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function wj(t,a){return typeof t=="function"?t(...a):!!t}var DS=class extends ui{#e;#t;#s;constructor(){super(),this.#s=t=>{if(!Yl&&window.addEventListener){const a=()=>t();return window.addEventListener("visibilitychange",a,!1),()=>{window.removeEventListener("visibilitychange",a)}}}}onSubscribe(){this.#t||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#s=t,this.#t?.(),this.#t=t(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(a=>{a(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Fx=new DS;function dx(){let t,a;const l=new Promise((o,d)=>{t=o,a=d});l.status="pending",l.catch(()=>{});function r(o){Object.assign(l,o),delete l.resolve,delete l.reject}return l.resolve=o=>{r({status:"fulfilled",value:o}),t(o)},l.reject=o=>{r({status:"rejected",reason:o}),a(o)},l}var ES=kS;function OS(){let t=[],a=0,l=h=>{h()},r=h=>{h()},o=ES;const d=h=>{a?t.push(h):o(()=>{l(h)})},u=()=>{const h=t;t=[],h.length&&o(()=>{r(()=>{h.forEach(x=>{l(x)})})})};return{batch:h=>{let x;a++;try{x=h()}finally{a--,a||u()}return x},batchCalls:h=>(...x)=>{d(()=>{h(...x)})},schedule:d,setNotifyFunction:h=>{l=h},setBatchNotifyFunction:h=>{r=h},setScheduler:h=>{o=h}}}var Zt=OS(),zS=class extends ui{#e=!0;#t;#s;constructor(){super(),this.#s=t=>{if(!Yl&&window.addEventListener){const a=()=>t(!0),l=()=>t(!1);return window.addEventListener("online",a,!1),window.addEventListener("offline",l,!1),()=>{window.removeEventListener("online",a),window.removeEventListener("offline",l)}}}}onSubscribe(){this.#t||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#s=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(l=>{l(t)}))}isOnline(){return this.#e}},Fd=new zS;function LS(t){return Math.min(1e3*2**t,3e4)}function Sj(t){return(t??"online")==="online"?Fd.isOnline():!0}var ux=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function Cj(t){let a=!1,l=0,r;const o=dx(),d=()=>o.status!=="pending",u=C=>{if(!d()){const S=new ux(C);j(S),t.onCancel?.(S)}},h=()=>{a=!0},x=()=>{a=!1},g=()=>Fx.isFocused()&&(t.networkMode==="always"||Fd.isOnline())&&t.canRun(),y=()=>Sj(t.networkMode)&&t.canRun(),p=C=>{d()||(r?.(),o.resolve(C))},j=C=>{d()||(r?.(),o.reject(C))},N=()=>new Promise(C=>{r=S=>{(d()||g())&&C(S)},t.onPause?.()}).then(()=>{r=void 0,d()||t.onContinue?.()}),v=()=>{if(d())return;let C;const S=l===0?t.initialPromise:void 0;try{C=S??t.fn()}catch(_){C=Promise.reject(_)}Promise.resolve(C).then(p).catch(_=>{if(d())return;const E=t.retry??(Yl?0:3),A=t.retryDelay??LS,M=typeof A=="function"?A(l,_):A,H=E===!0||typeof E=="number"&&l<E||typeof E=="function"&&E(l,_);if(a||!H){j(_);return}l++,t.onFail?.(l,_),_S(M).then(()=>g()?void 0:N()).then(()=>{a?j(_):v()})})};return{promise:o,status:()=>o.status,cancel:u,continue:()=>(r?.(),o),cancelRetry:h,continueRetry:x,canStart:y,start:()=>(y()?v():N().then(v),o)}}var kj=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ix(this.gcTime)&&(this.#e=Bl.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Yl?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Bl.clearTimeout(this.#e),this.#e=void 0)}},qS=class extends kj{#e;#t;#s;#n;#a;#r;#i;constructor(t){super(),this.#i=!1,this.#r=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#n=t.client,this.#s=this.#n.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=Ay(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#a?.promise}setOptions(t){if(this.options={...this.#r,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const a=Ay(this.options);a.data!==void 0&&(this.setState(ky(a.data,a.dataUpdatedAt)),this.#e=a)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#s.remove(this)}setData(t,a){const l=cx(this.state.data,t,this.options);return this.#l({data:l,type:"success",dataUpdatedAt:a?.updatedAt,manual:a?.manual}),l}setState(t,a){this.#l({type:"setState",state:t,setStateOptions:a})}cancel(t){const a=this.#a?.promise;return this.#a?.cancel(t),a?a.then(As).catch(As):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>fa(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===qx||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>ll(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!jj(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(a=>a.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#a?.continue()}onOnline(){this.observers.find(a=>a.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#a?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(a=>a!==t),this.observers.length||(this.#a&&(this.#i?this.#a.cancel({revert:!0}):this.#a.cancelRetry()),this.scheduleGc()),this.#s.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#l({type:"invalidate"})}async fetch(t,a){if(this.state.fetchStatus!=="idle"&&this.#a?.status()!=="rejected"){if(this.state.data!==void 0&&a?.cancelRefetch)this.cancel({silent:!0});else if(this.#a)return this.#a.continueRetry(),this.#a.promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(x=>x.options.queryFn);h&&this.setOptions(h.options)}const l=new AbortController,r=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(this.#i=!0,l.signal)})},o=()=>{const h=Nj(this.options,a),g=(()=>{const y={client:this.#n,queryKey:this.queryKey,meta:this.meta};return r(y),y})();return this.#i=!1,this.options.persister?this.options.persister(h,g,this):h(g)},u=(()=>{const h={fetchOptions:a,options:this.options,queryKey:this.queryKey,client:this.#n,state:this.state,fetchFn:o};return r(h),h})();this.options.behavior?.onFetch(u,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==u.fetchOptions?.meta)&&this.#l({type:"fetch",meta:u.fetchOptions?.meta}),this.#a=Cj({initialPromise:a?.initialPromise,fn:u.fetchFn,onCancel:h=>{h instanceof ux&&h.revert&&this.setState({...this.#t,fetchStatus:"idle"}),l.abort()},onFail:(h,x)=>{this.#l({type:"failed",failureCount:h,error:x})},onPause:()=>{this.#l({type:"pause"})},onContinue:()=>{this.#l({type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0});try{const h=await this.#a.start();if(h===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(h),this.#s.config.onSuccess?.(h,this),this.#s.config.onSettled?.(h,this.state.error,this),h}catch(h){if(h instanceof ux){if(h.silent)return this.#a.promise;if(h.revert){if(this.state.data===void 0)throw h;return this.state.data}}throw this.#l({type:"error",error:h}),this.#s.config.onError?.(h,this),this.#s.config.onSettled?.(this.state.data,h,this),h}finally{this.scheduleGc()}}#l(t){const a=l=>{switch(t.type){case"failed":return{...l,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...l,fetchStatus:"paused"};case"continue":return{...l,fetchStatus:"fetching"};case"fetch":return{...l,...Aj(l.data,this.options),fetchMeta:t.meta??null};case"success":const r={...l,...ky(t.data,t.dataUpdatedAt),dataUpdateCount:l.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?r:void 0,r;case"error":const o=t.error;return{...l,error:o,errorUpdateCount:l.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:l.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...l,isInvalidated:!0};case"setState":return{...l,...t.state}}};this.state=a(this.state),Zt.batch(()=>{this.observers.forEach(l=>{l.onQueryUpdate()}),this.#s.notify({query:this,type:"updated",action:t})})}};function Aj(t,a){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Sj(a.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function ky(t,a){return{data:t,dataUpdatedAt:a??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Ay(t){const a=typeof t.initialData=="function"?t.initialData():t.initialData,l=a!==void 0,r=l?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:a,dataUpdateCount:0,dataUpdatedAt:l?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:l?"success":"pending",fetchStatus:"idle"}}var FS=class extends ui{constructor(t,a){super(),this.options=a,this.#e=t,this.#l=null,this.#i=dx(),this.bindMethods(),this.setOptions(a)}#e;#t=void 0;#s=void 0;#n=void 0;#a;#r;#i;#l;#f;#m;#h;#c;#d;#o;#x=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),My(this.#t,this.options)?this.#u():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return mx(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return mx(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#j(),this.#b(),this.#t.removeObserver(this)}setOptions(t){const a=this.options,l=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof fa(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#N(),this.#t.setOptions(this.options),a._defaulted&&!qd(this.options,a)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&_y(this.#t,l,this.options,a)&&this.#u(),this.updateResult(),r&&(this.#t!==l||fa(this.options.enabled,this.#t)!==fa(a.enabled,this.#t)||ll(this.options.staleTime,this.#t)!==ll(a.staleTime,this.#t))&&this.#g();const o=this.#p();r&&(this.#t!==l||fa(this.options.enabled,this.#t)!==fa(a.enabled,this.#t)||o!==this.#o)&&this.#y(o)}getOptimisticResult(t){const a=this.#e.getQueryCache().build(this.#e,t),l=this.createResult(a,t);return US(this,l)&&(this.#n=l,this.#r=this.options,this.#a=this.#t.state),l}getCurrentResult(){return this.#n}trackResult(t,a){return new Proxy(t,{get:(l,r)=>(this.trackProp(r),a?.(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#i.status==="pending"&&this.#i.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(l,r))})}trackProp(t){this.#x.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const a=this.#e.defaultQueryOptions(t),l=this.#e.getQueryCache().build(this.#e,a);return l.fetch().then(()=>this.createResult(l,a))}fetch(t){return this.#u({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#u(t){this.#N();let a=this.#t.fetch(this.options,t);return t?.throwOnError||(a=a.catch(As)),a}#g(){this.#j();const t=ll(this.options.staleTime,this.#t);if(Yl||this.#n.isStale||!ix(t))return;const l=jj(this.#n.dataUpdatedAt,t)+1;this.#c=Bl.setTimeout(()=>{this.#n.isStale||this.updateResult()},l)}#p(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#y(t){this.#b(),this.#o=t,!(Yl||fa(this.options.enabled,this.#t)===!1||!ix(this.#o)||this.#o===0)&&(this.#d=Bl.setInterval(()=>{(this.options.refetchIntervalInBackground||Fx.isFocused())&&this.#u()},this.#o))}#v(){this.#g(),this.#y(this.#p())}#j(){this.#c&&(Bl.clearTimeout(this.#c),this.#c=void 0)}#b(){this.#d&&(Bl.clearInterval(this.#d),this.#d=void 0)}createResult(t,a){const l=this.#t,r=this.options,o=this.#n,d=this.#a,u=this.#r,x=t!==l?t.state:this.#s,{state:g}=t;let y={...g},p=!1,j;if(a._optimisticResults){const Q=this.hasListeners(),K=!Q&&My(t,a),q=Q&&_y(t,l,a,r);(K||q)&&(y={...y,...Aj(g.data,t.options)}),a._optimisticResults==="isRestoring"&&(y.fetchStatus="idle")}let{error:N,errorUpdatedAt:v,status:C}=y;j=y.data;let S=!1;if(a.placeholderData!==void 0&&j===void 0&&C==="pending"){let Q;o?.isPlaceholderData&&a.placeholderData===u?.placeholderData?(Q=o.data,S=!0):Q=typeof a.placeholderData=="function"?a.placeholderData(this.#h?.state.data,this.#h):a.placeholderData,Q!==void 0&&(C="success",j=cx(o?.data,Q,a),p=!0)}if(a.select&&j!==void 0&&!S)if(o&&j===d?.data&&a.select===this.#f)j=this.#m;else try{this.#f=a.select,j=a.select(j),j=cx(o?.data,j,a),this.#m=j,this.#l=null}catch(Q){this.#l=Q}this.#l&&(N=this.#l,j=this.#m,v=Date.now(),C="error");const _=y.fetchStatus==="fetching",E=C==="pending",A=C==="error",M=E&&_,H=j!==void 0,W={status:C,fetchStatus:y.fetchStatus,isPending:E,isSuccess:C==="success",isError:A,isInitialLoading:M,isLoading:M,data:j,dataUpdatedAt:y.dataUpdatedAt,error:N,errorUpdatedAt:v,failureCount:y.fetchFailureCount,failureReason:y.fetchFailureReason,errorUpdateCount:y.errorUpdateCount,isFetched:y.dataUpdateCount>0||y.errorUpdateCount>0,isFetchedAfterMount:y.dataUpdateCount>x.dataUpdateCount||y.errorUpdateCount>x.errorUpdateCount,isFetching:_,isRefetching:_&&!E,isLoadingError:A&&!H,isPaused:y.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:A&&H,isStale:Px(t,a),refetch:this.refetch,promise:this.#i,isEnabled:fa(a.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const Q=$=>{W.status==="error"?$.reject(W.error):W.data!==void 0&&$.resolve(W.data)},K=()=>{const $=this.#i=W.promise=dx();Q($)},q=this.#i;switch(q.status){case"pending":t.queryHash===l.queryHash&&Q(q);break;case"fulfilled":(W.status==="error"||W.data!==q.value)&&K();break;case"rejected":(W.status!=="error"||W.error!==q.reason)&&K();break}}return W}updateResult(){const t=this.#n,a=this.createResult(this.#t,this.options);if(this.#a=this.#t.state,this.#r=this.options,this.#a.data!==void 0&&(this.#h=this.#t),qd(a,t))return;this.#n=a;const l=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,o=typeof r=="function"?r():r;if(o==="all"||!o&&!this.#x.size)return!0;const d=new Set(o??this.#x);return this.options.throwOnError&&d.add("error"),Object.keys(this.#n).some(u=>{const h=u;return this.#n[h]!==t[h]&&d.has(h)})};this.#w({listeners:l()})}#N(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const a=this.#t;this.#t=t,this.#s=t.state,this.hasListeners()&&(a?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#w(t){Zt.batch(()=>{t.listeners&&this.listeners.forEach(a=>{a(this.#n)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function PS(t,a){return fa(a.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&a.retryOnMount===!1)}function My(t,a){return PS(t,a)||t.state.data!==void 0&&mx(t,a,a.refetchOnMount)}function mx(t,a,l){if(fa(a.enabled,t)!==!1&&ll(a.staleTime,t)!=="static"){const r=typeof l=="function"?l(t):l;return r==="always"||r!==!1&&Px(t,a)}return!1}function _y(t,a,l,r){return(t!==a||fa(r.enabled,t)===!1)&&(!l.suspense||t.state.status!=="error")&&Px(t,l)}function Px(t,a){return fa(a.enabled,t)!==!1&&t.isStaleByTime(ll(a.staleTime,t))}function US(t,a){return!qd(t.getCurrentResult(),a)}function Ty(t){return{onFetch:(a,l)=>{const r=a.options,o=a.fetchOptions?.meta?.fetchMore?.direction,d=a.state.data?.pages||[],u=a.state.data?.pageParams||[];let h={pages:[],pageParams:[]},x=0;const g=async()=>{let y=!1;const p=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(a.signal.aborted?y=!0:a.signal.addEventListener("abort",()=>{y=!0}),a.signal)})},j=Nj(a.options,a.fetchOptions),N=async(v,C,S)=>{if(y)return Promise.reject();if(C==null&&v.pages.length)return Promise.resolve(v);const E=(()=>{const I={client:a.client,queryKey:a.queryKey,pageParam:C,direction:S?"backward":"forward",meta:a.options.meta};return p(I),I})(),A=await j(E),{maxPages:M}=a.options,H=S?RS:TS;return{pages:H(v.pages,A,M),pageParams:H(v.pageParams,C,M)}};if(o&&d.length){const v=o==="backward",C=v?IS:Ry,S={pages:d,pageParams:u},_=C(r,S);h=await N(S,_,v)}else{const v=t??d.length;do{const C=x===0?u[0]??r.initialPageParam:Ry(r,h);if(x>0&&C==null)break;h=await N(h,C),x++}while(x<v)}return h};a.options.persister?a.fetchFn=()=>a.options.persister?.(g,{client:a.client,queryKey:a.queryKey,meta:a.options.meta,signal:a.signal},l):a.fetchFn=g}}}function Ry(t,{pages:a,pageParams:l}){const r=a.length-1;return a.length>0?t.getNextPageParam(a[r],a,l[r],l):void 0}function IS(t,{pages:a,pageParams:l}){return a.length>0?t.getPreviousPageParam?.(a[0],a,l[0],l):void 0}var VS=class extends kj{#e;#t;#s;#n;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#s=t.mutationCache,this.#t=[],this.state=t.state||Mj(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(a=>a!==t),this.scheduleGc(),this.#s.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#s.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(t){const a=()=>{this.#a({type:"continue"})},l={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#n=Cj({fn:()=>this.options.mutationFn?this.options.mutationFn(t,l):Promise.reject(new Error("No mutationFn found")),onFail:(d,u)=>{this.#a({type:"failed",failureCount:d,error:u})},onPause:()=>{this.#a({type:"pause"})},onContinue:a,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#s.canRun(this)});const r=this.state.status==="pending",o=!this.#n.canStart();try{if(r)a();else{this.#a({type:"pending",variables:t,isPaused:o}),await this.#s.config.onMutate?.(t,this,l);const u=await this.options.onMutate?.(t,l);u!==this.state.context&&this.#a({type:"pending",context:u,variables:t,isPaused:o})}const d=await this.#n.start();return await this.#s.config.onSuccess?.(d,t,this.state.context,this,l),await this.options.onSuccess?.(d,t,this.state.context,l),await this.#s.config.onSettled?.(d,null,this.state.variables,this.state.context,this,l),await this.options.onSettled?.(d,null,t,this.state.context,l),this.#a({type:"success",data:d}),d}catch(d){try{throw await this.#s.config.onError?.(d,t,this.state.context,this,l),await this.options.onError?.(d,t,this.state.context,l),await this.#s.config.onSettled?.(void 0,d,this.state.variables,this.state.context,this,l),await this.options.onSettled?.(void 0,d,t,this.state.context,l),d}finally{this.#a({type:"error",error:d})}}finally{this.#s.runNext(this)}}#a(t){const a=l=>{switch(t.type){case"failed":return{...l,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...l,isPaused:!0};case"continue":return{...l,isPaused:!1};case"pending":return{...l,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...l,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...l,data:void 0,error:t.error,failureCount:l.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=a(this.state),Zt.batch(()=>{this.#t.forEach(l=>{l.onMutationUpdate(t)}),this.#s.notify({mutation:this,type:"updated",action:t})})}};function Mj(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var HS=class extends ui{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#s=0}#e;#t;#s;build(t,a,l){const r=new VS({client:t,mutationCache:this,mutationId:++this.#s,options:t.defaultMutationOptions(a),state:l});return this.add(r),r}add(t){this.#e.add(t);const a=xd(t);if(typeof a=="string"){const l=this.#t.get(a);l?l.push(t):this.#t.set(a,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const a=xd(t);if(typeof a=="string"){const l=this.#t.get(a);if(l)if(l.length>1){const r=l.indexOf(t);r!==-1&&l.splice(r,1)}else l[0]===t&&this.#t.delete(a)}}this.notify({type:"removed",mutation:t})}canRun(t){const a=xd(t);if(typeof a=="string"){const r=this.#t.get(a)?.find(o=>o.state.status==="pending");return!r||r===t}else return!0}runNext(t){const a=xd(t);return typeof a=="string"?this.#t.get(a)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Zt.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const a={exact:!0,...t};return this.getAll().find(l=>wy(a,l))}findAll(t={}){return this.getAll().filter(a=>wy(t,a))}notify(t){Zt.batch(()=>{this.listeners.forEach(a=>{a(t)})})}resumePausedMutations(){const t=this.getAll().filter(a=>a.state.isPaused);return Zt.batch(()=>Promise.all(t.map(a=>a.continue().catch(As))))}};function xd(t){return t.options.scope?.id}var BS=class extends ui{#e;#t=void 0;#s;#n;constructor(a,l){super(),this.#e=a,this.setOptions(l),this.bindMethods(),this.#a()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(a){const l=this.options;this.options=this.#e.defaultMutationOptions(a),qd(this.options,l)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#s,observer:this}),l?.mutationKey&&this.options.mutationKey&&Xl(l.mutationKey)!==Xl(this.options.mutationKey)?this.reset():this.#s?.state.status==="pending"&&this.#s.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#s?.removeObserver(this)}onMutationUpdate(a){this.#a(),this.#r(a)}getCurrentResult(){return this.#t}reset(){this.#s?.removeObserver(this),this.#s=void 0,this.#a(),this.#r()}mutate(a,l){return this.#n=l,this.#s?.removeObserver(this),this.#s=this.#e.getMutationCache().build(this.#e,this.options),this.#s.addObserver(this),this.#s.execute(a)}#a(){const a=this.#s?.state??Mj();this.#t={...a,isPending:a.status==="pending",isSuccess:a.status==="success",isError:a.status==="error",isIdle:a.status==="idle",mutate:this.mutate,reset:this.reset}}#r(a){Zt.batch(()=>{if(this.#n&&this.hasListeners()){const l=this.#t.variables,r=this.#t.context,o={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};a?.type==="success"?(this.#n.onSuccess?.(a.data,l,r,o),this.#n.onSettled?.(a.data,null,l,r,o)):a?.type==="error"&&(this.#n.onError?.(a.error,l,r,o),this.#n.onSettled?.(void 0,a.error,l,r,o))}this.listeners.forEach(l=>{l(this.#t)})})}},$S=class extends ui{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,a,l){const r=a.queryKey,o=a.queryHash??Lx(r,a);let d=this.get(o);return d||(d=new qS({client:t,queryKey:r,queryHash:o,options:t.defaultQueryOptions(a),state:l,defaultOptions:t.getQueryDefaults(r)}),this.add(d)),d}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const a=this.#e.get(t.queryHash);a&&(t.destroy(),a===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Zt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const a={exact:!0,...t};return this.getAll().find(l=>Ny(a,l))}findAll(t={}){const a=this.getAll();return Object.keys(t).length>0?a.filter(l=>Ny(t,l)):a}notify(t){Zt.batch(()=>{this.listeners.forEach(a=>{a(t)})})}onFocus(){Zt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Zt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},KS=class{#e;#t;#s;#n;#a;#r;#i;#l;constructor(t={}){this.#e=t.queryCache||new $S,this.#t=t.mutationCache||new HS,this.#s=t.defaultOptions||{},this.#n=new Map,this.#a=new Map,this.#r=0}mount(){this.#r++,this.#r===1&&(this.#i=Fx.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#l=Fd.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#r--,this.#r===0&&(this.#i?.(),this.#i=void 0,this.#l?.(),this.#l=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const a=this.defaultQueryOptions({queryKey:t});return this.#e.get(a.queryHash)?.state.data}ensureQueryData(t){const a=this.defaultQueryOptions(t),l=this.#e.build(this,a),r=l.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&l.isStaleByTime(ll(a.staleTime,l))&&this.prefetchQuery(a),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:a,state:l})=>{const r=l.data;return[a,r]})}setQueryData(t,a,l){const r=this.defaultQueryOptions({queryKey:t}),d=this.#e.get(r.queryHash)?.state.data,u=AS(a,d);if(u!==void 0)return this.#e.build(this,r).setData(u,{...l,manual:!0})}setQueriesData(t,a,l){return Zt.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,a,l)]))}getQueryState(t){const a=this.defaultQueryOptions({queryKey:t});return this.#e.get(a.queryHash)?.state}removeQueries(t){const a=this.#e;Zt.batch(()=>{a.findAll(t).forEach(l=>{a.remove(l)})})}resetQueries(t,a){const l=this.#e;return Zt.batch(()=>(l.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},a)))}cancelQueries(t,a={}){const l={revert:!0,...a},r=Zt.batch(()=>this.#e.findAll(t).map(o=>o.cancel(l)));return Promise.all(r).then(As).catch(As)}invalidateQueries(t,a={}){return Zt.batch(()=>(this.#e.findAll(t).forEach(l=>{l.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},a)))}refetchQueries(t,a={}){const l={...a,cancelRefetch:a.cancelRefetch??!0},r=Zt.batch(()=>this.#e.findAll(t).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let d=o.fetch(void 0,l);return l.throwOnError||(d=d.catch(As)),o.state.fetchStatus==="paused"?Promise.resolve():d}));return Promise.all(r).then(As)}fetchQuery(t){const a=this.defaultQueryOptions(t);a.retry===void 0&&(a.retry=!1);const l=this.#e.build(this,a);return l.isStaleByTime(ll(a.staleTime,l))?l.fetch(a):Promise.resolve(l.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(As).catch(As)}fetchInfiniteQuery(t){return t.behavior=Ty(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(As).catch(As)}ensureInfiniteQueryData(t){return t.behavior=Ty(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Fd.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#s}setDefaultOptions(t){this.#s=t}setQueryDefaults(t,a){this.#n.set(Xl(t),{queryKey:t,defaultOptions:a})}getQueryDefaults(t){const a=[...this.#n.values()],l={};return a.forEach(r=>{Ro(t,r.queryKey)&&Object.assign(l,r.defaultOptions)}),l}setMutationDefaults(t,a){this.#a.set(Xl(t),{mutationKey:t,defaultOptions:a})}getMutationDefaults(t){const a=[...this.#a.values()],l={};return a.forEach(r=>{Ro(t,r.mutationKey)&&Object.assign(l,r.defaultOptions)}),l}defaultQueryOptions(t){if(t._defaulted)return t;const a={...this.#s.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return a.queryHash||(a.queryHash=Lx(a.queryKey,a)),a.refetchOnReconnect===void 0&&(a.refetchOnReconnect=a.networkMode!=="always"),a.throwOnError===void 0&&(a.throwOnError=!!a.suspense),!a.networkMode&&a.persister&&(a.networkMode="offlineFirst"),a.queryFn===qx&&(a.enabled=!1),a}defaultMutationOptions(t){return t?._defaulted?t:{...this.#s.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},_j=b.createContext(void 0),_e=t=>{const a=b.useContext(_j);if(!a)throw new Error("No QueryClient set, use QueryClientProvider to set one");return a},QS=({client:t,children:a})=>(b.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),e.jsx(_j.Provider,{value:t,children:a})),Tj=b.createContext(!1),GS=()=>b.useContext(Tj);Tj.Provider;function YS(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var XS=b.createContext(YS()),WS=()=>b.useContext(XS),ZS=(t,a)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(a.isReset()||(t.retryOnMount=!1))},JS=t=>{b.useEffect(()=>{t.clearReset()},[t])},e4=({result:t,errorResetBoundary:a,throwOnError:l,query:r,suspense:o})=>t.isError&&!a.isReset()&&!t.isFetching&&r&&(o&&t.data===void 0||wj(l,[t.error,r])),t4=t=>{if(t.suspense){const l=o=>o==="static"?o:Math.max(o??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...o)=>l(r(...o)):l(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},s4=(t,a)=>t.isLoading&&t.isFetching&&!a,a4=(t,a)=>t?.suspense&&a.isPending,Dy=(t,a,l)=>a.fetchOptimistic(t).catch(()=>{l.clearReset()});function n4(t,a,l){const r=GS(),o=WS(),d=_e(),u=d.defaultQueryOptions(t);d.getDefaultOptions().queries?._experimental_beforeQuery?.(u),u._optimisticResults=r?"isRestoring":"optimistic",t4(u),ZS(u,o),JS(o);const h=!d.getQueryCache().get(u.queryHash),[x]=b.useState(()=>new a(d,u)),g=x.getOptimisticResult(u),y=!r&&t.subscribed!==!1;if(b.useSyncExternalStore(b.useCallback(p=>{const j=y?x.subscribe(Zt.batchCalls(p)):As;return x.updateResult(),j},[x,y]),()=>x.getCurrentResult(),()=>x.getCurrentResult()),b.useEffect(()=>{x.setOptions(u)},[u,x]),a4(u,g))throw Dy(u,x,o);if(e4({result:g,errorResetBoundary:o,throwOnError:u.throwOnError,query:d.getQueryCache().get(u.queryHash),suspense:u.suspense}))throw g.error;return d.getDefaultOptions().queries?._experimental_afterQuery?.(u,g),u.experimental_prefetchInRender&&!Yl&&s4(g,r)&&(h?Dy(u,x,o):d.getQueryCache().get(u.queryHash)?.promise)?.catch(As).finally(()=>{x.updateResult()}),u.notifyOnChangeProps?g:x.trackResult(g)}function Se(t,a){return n4(t,FS)}function Re(t,a){const l=_e(),[r]=b.useState(()=>new BS(l,t));b.useEffect(()=>{r.setOptions(t)},[r,t]);const o=b.useSyncExternalStore(b.useCallback(u=>r.subscribe(Zt.batchCalls(u)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),d=b.useCallback((u,h)=>{r.mutate(u,h).catch(As)},[r]);if(o.error&&wj(r.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:d,mutateAsync:o.mutate}}var l4=function(){return null};const r4=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i4=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,l,r)=>r?r.toUpperCase():l.toLowerCase()),Ey=t=>{const a=i4(t);return a.charAt(0).toUpperCase()+a.slice(1)},Rj=(...t)=>t.filter((a,l,r)=>!!a&&a.trim()!==""&&r.indexOf(a)===l).join(" ").trim(),o4=t=>{for(const a in t)if(a.startsWith("aria-")||a==="role"||a==="title")return!0};var c4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const d4=b.forwardRef(({color:t="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:r,className:o="",children:d,iconNode:u,...h},x)=>b.createElement("svg",{ref:x,...c4,width:a,height:a,stroke:t,strokeWidth:r?Number(l)*24/Number(a):l,className:Rj("lucide",o),...!d&&!o4(h)&&{"aria-hidden":"true"},...h},[...u.map(([g,y])=>b.createElement(g,y)),...Array.isArray(d)?d:[d]]));const te=(t,a)=>{const l=b.forwardRef(({className:r,...o},d)=>b.createElement(d4,{ref:d,iconNode:a,className:Rj(`lucide-${r4(Ey(t))}`,`lucide-${t}`,r),...o}));return l.displayName=Ey(t),l};const u4=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],cl=te("activity",u4);const m4=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],Dj=te("archive",m4);const h4=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Ya=te("arrow-left",h4);const x4=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],Pd=te("arrow-right-left",x4);const f4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Pe=te("arrow-right",f4);const g4=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]],p4=te("at-sign",g4);const y4=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],wn=te("bell",y4);const v4=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Qa=te("book-open",v4);const j4=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Ma=te("bot",j4);const b4=[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]],Ej=te("boxes",b4);const N4=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],w4=te("bug",N4);const S4=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],si=te("building-2",S4);const C4=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],k4=te("calculator",C4);const A4=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ot=te("calendar",A4);const M4=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],_4=te("camera",M4);const T4=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],ai=te("chart-column",T4);const R4=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V9",key:"uvy0l4"}],["path",{d:"M19 21V3",key:"11j9sm"}]],D4=te("chart-no-axes-column-increasing",R4);const E4=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],O4=te("check-check",E4);const z4=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ga=te("check",z4);const L4=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],hl=te("chevron-down",L4);const q4=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Po=te("chevron-left",q4);const F4=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Da=te("chevron-right",F4);const P4=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Oj=te("chevron-up",P4);const U4=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],zj=te("chevrons-left",U4);const I4=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],Lj=te("chevrons-right",I4);const V4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Xa=te("circle-alert",V4);const H4=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],xl=te("circle-check-big",H4);const B4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],_t=te("circle-check",B4);const $4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]],K4=te("circle-pause",$4);const Q4=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],G4=te("circle-play",Q4);const Y4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],X4=te("circle-plus",Y4);const W4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],Oy=te("circle-user",W4);const Z4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Uo=te("circle-x",Z4);const J4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],qj=te("circle",J4);const eC=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],Fj=te("clipboard-check",eC);const tC=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Do=te("clipboard-list",tC);const sC=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],it=te("clock",sC);const aC=[["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}],["path",{d:"M15.947 12.65a4 4 0 0 0-5.925-4.128",key:"dpwdj0"}],["path",{d:"M13 22H7a5 5 0 1 1 4.9-6H13a3 3 0 0 1 0 6Z",key:"s09mg5"}]],nC=te("cloud-sun",aC);const lC=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],zy=te("cloud",lC);const rC=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],iC=te("columns-3",rC);const oC=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],cC=te("crown",oC);const dC=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Eo=te("database",dC);const uC=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],tr=te("dollar-sign",uC);const mC=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],ni=te("download",mC);const hC=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Ux=te("ellipsis-vertical",hC);const xC=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],fC=te("external-link",xC);const gC=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],pC=te("eye-off",gC);const yC=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Io=te("eye",yC);const vC=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],jC=te("file-check",vC);const bC=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}]],NC=te("file-code",bC);const wC=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],rs=te("file-text",wC);const SC=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]],CC=te("file",SC);const kC=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],mi=te("funnel",kC);const AC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Pj=te("globe",AC);const MC=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Ud=te("graduation-cap",MC);const _C=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],hx=te("hard-drive",_C);const TC=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],dl=te("headphones",TC);const RC=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Uj=te("house",RC);const DC=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],EC=te("image",DC);const OC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Ix=te("info",OC);const zC=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Ly=te("key",zC);const LC=[["path",{d:"M18 5a2 2 0 0 1 2 2v8.526a2 2 0 0 0 .212.897l1.068 2.127a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45l1.068-2.127A2 2 0 0 0 4 15.526V7a2 2 0 0 1 2-2z",key:"1pdavp"}],["path",{d:"M20.054 15.987H3.946",key:"14rxg9"}]],is=te("laptop",LC);const qC=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Ea=te("layers",qC);const FC=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],xx=te("layout-dashboard",FC);const PC=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],UC=te("lightbulb",PC);const IC=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],VC=te("list",IC);const HC=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],jt=te("loader-circle",HC);const BC=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],qy=te("lock",BC);const $C=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Ij=te("log-out",$C);const KC=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Vx=te("mail",KC);const QC=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],_a=te("map-pin",QC);const GC=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],YC=te("menu",GC);const XC=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],bn=te("message-circle",XC);const WC=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],qt=te("message-square",WC);const ZC=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],JC=te("minimize-2",ZC);const e5=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],li=te("monitor",e5);const t5=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Hx=te("moon",t5);const s5=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]],a5=te("octagon-alert",s5);const n5=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],rt=te("package",n5);const l5=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Fy=te("palette",l5);const r5=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],Id=te("paperclip",r5);const i5=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],o5=te("pen-line",i5);const c5=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],sr=te("pencil",c5);const d5=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Vd=te("phone",d5);const u5=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M15 9.34V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H7.89",key:"znwnzq"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v1.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h11",key:"c9qhm2"}]],m5=te("pin-off",u5);const h5=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],fx=te("pin",h5);const x5=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Tt=te("plus",x5);const f5=[["path",{d:"M2 3h20",key:"91anmk"}],["path",{d:"M21 3v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3",key:"2k9sn8"}],["path",{d:"m7 21 5-5 5 5",key:"bip4we"}]],Wl=te("presentation",f5);const g5=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],ls=te("refresh-cw",g5);const p5=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],y5=te("save",p5);const v5=[["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M18 5v16",key:"1ethyx"}],["path",{d:"m4 6 7.106-3.79a2 2 0 0 1 1.788 0L20 6",key:"zywc2d"}],["path",{d:"m6 11-3.52 2.147a1 1 0 0 0-.48.854V19a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a1 1 0 0 0-.48-.853L18 11",key:"1d4ql0"}],["path",{d:"M6 5v16",key:"1sn0nx"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]],Ft=te("school",v5);const j5=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],gs=te("search",j5);const b5=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],hi=te("send",b5);const N5=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],Vj=te("server",N5);const w5=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],rl=te("settings",w5);const S5=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Hj=te("shield-check",S5);const C5=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],pa=te("shield",C5);const k5=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m14.5 9.5-5 5",key:"17q4r4"}],["path",{d:"m9.5 9.5 5 5",key:"18nt4w"}]],A5=te("shield-x",k5);const M5=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],_5=te("smartphone",M5);const T5=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Jt=te("sparkles",T5);const R5=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],D5=te("square-check-big",R5);const E5=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Bj=te("star",E5);const O5=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],Oo=te("store",O5);const z5=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Bx=te("sun",z5);const L5=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]],q5=te("tablet",L5);const F5=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],$x=te("tag",F5);const P5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],sa=te("target",P5);const U5=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],$j=te("timer",U5);const I5=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],fl=te("trash-2",I5);const V5=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Kj=te("trending-down",V5);const H5=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Oa=te("trending-up",H5);const B5=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],We=te("triangle-alert",B5);const $5=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Kx=te("upload",$5);const K5=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Q5=te("user-cog",K5);const G5=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Pt=te("user",G5);const Y5=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Yt=te("users",Y5);const X5=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],W5=te("video",X5);const Z5=[["path",{d:"M18 21V10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v11",key:"pb2vm6"}],["path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 1.132-1.803l7.95-3.974a2 2 0 0 1 1.837 0l7.948 3.974A2 2 0 0 1 22 8z",key:"doq5xv"}],["path",{d:"M6 13h12",key:"yf64js"}],["path",{d:"M6 17h12",key:"1jwigz"}]],J5=te("warehouse",Z5);const e3=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],Qj=te("wifi",e3);const t3=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],Ge=te("wrench",t3);const s3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Et=te("x",s3);function Gj(t){var a,l,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(a=0;a<o;a++)t[a]&&(l=Gj(t[a]))&&(r&&(r+=" "),r+=l)}else for(l in t)t[l]&&(r&&(r+=" "),r+=l);return r}function Yj(){for(var t,a,l=0,r="",o=arguments.length;l<o;l++)(t=arguments[l])&&(a=Gj(t))&&(r&&(r+=" "),r+=a);return r}const Py=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Uy=Yj,Xj=(t,a)=>l=>{var r;if(a?.variants==null)return Uy(t,l?.class,l?.className);const{variants:o,defaultVariants:d}=a,u=Object.keys(o).map(g=>{const y=l?.[g],p=d?.[g];if(y===null)return null;const j=Py(y)||Py(p);return o[g][j]}),h=l&&Object.entries(l).reduce((g,y)=>{let[p,j]=y;return j===void 0||(g[p]=j),g},{}),x=a==null||(r=a.compoundVariants)===null||r===void 0?void 0:r.reduce((g,y)=>{let{class:p,className:j,...N}=y;return Object.entries(N).every(v=>{let[C,S]=v;return Array.isArray(S)?S.includes({...d,...h}[C]):{...d,...h}[C]===S})?[...g,p,j]:g},[]);return Uy(t,u,x,l?.class,l?.className)},a3=(t,a)=>{const l=new Array(t.length+a.length);for(let r=0;r<t.length;r++)l[r]=t[r];for(let r=0;r<a.length;r++)l[t.length+r]=a[r];return l},n3=(t,a)=>({classGroupId:t,validator:a}),Wj=(t=new Map,a=null,l)=>({nextPart:t,validators:a,classGroupId:l}),Hd="-",Iy=[],l3="arbitrary..",r3=t=>{const a=o3(t),{conflictingClassGroups:l,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:u=>{if(u.startsWith("[")&&u.endsWith("]"))return i3(u);const h=u.split(Hd),x=h[0]===""&&h.length>1?1:0;return Zj(h,x,a)},getConflictingClassGroupIds:(u,h)=>{if(h){const x=r[u],g=l[u];return x?g?a3(g,x):x:g||Iy}return l[u]||Iy}}},Zj=(t,a,l)=>{if(t.length-a===0)return l.classGroupId;const o=t[a],d=l.nextPart.get(o);if(d){const g=Zj(t,a+1,d);if(g)return g}const u=l.validators;if(u===null)return;const h=a===0?t.join(Hd):t.slice(a).join(Hd),x=u.length;for(let g=0;g<x;g++){const y=u[g];if(y.validator(h))return y.classGroupId}},i3=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const a=t.slice(1,-1),l=a.indexOf(":"),r=a.slice(0,l);return r?l3+r:void 0})(),o3=t=>{const{theme:a,classGroups:l}=t;return c3(l,a)},c3=(t,a)=>{const l=Wj();for(const r in t){const o=t[r];Qx(o,l,r,a)}return l},Qx=(t,a,l,r)=>{const o=t.length;for(let d=0;d<o;d++){const u=t[d];d3(u,a,l,r)}},d3=(t,a,l,r)=>{if(typeof t=="string"){u3(t,a,l);return}if(typeof t=="function"){m3(t,a,l,r);return}h3(t,a,l,r)},u3=(t,a,l)=>{const r=t===""?a:Jj(a,t);r.classGroupId=l},m3=(t,a,l,r)=>{if(x3(t)){Qx(t(r),a,l,r);return}a.validators===null&&(a.validators=[]),a.validators.push(n3(l,t))},h3=(t,a,l,r)=>{const o=Object.entries(t),d=o.length;for(let u=0;u<d;u++){const[h,x]=o[u];Qx(x,Jj(a,h),l,r)}},Jj=(t,a)=>{let l=t;const r=a.split(Hd),o=r.length;for(let d=0;d<o;d++){const u=r[d];let h=l.nextPart.get(u);h||(h=Wj(),l.nextPart.set(u,h)),l=h}return l},x3=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,f3=t=>{if(t<1)return{get:()=>{},set:()=>{}};let a=0,l=Object.create(null),r=Object.create(null);const o=(d,u)=>{l[d]=u,a++,a>t&&(a=0,r=l,l=Object.create(null))};return{get(d){let u=l[d];if(u!==void 0)return u;if((u=r[d])!==void 0)return o(d,u),u},set(d,u){d in l?l[d]=u:o(d,u)}}},gx="!",Vy=":",g3=[],Hy=(t,a,l,r,o)=>({modifiers:t,hasImportantModifier:a,baseClassName:l,maybePostfixModifierPosition:r,isExternal:o}),p3=t=>{const{prefix:a,experimentalParseClassName:l}=t;let r=o=>{const d=[];let u=0,h=0,x=0,g;const y=o.length;for(let C=0;C<y;C++){const S=o[C];if(u===0&&h===0){if(S===Vy){d.push(o.slice(x,C)),x=C+1;continue}if(S==="/"){g=C;continue}}S==="["?u++:S==="]"?u--:S==="("?h++:S===")"&&h--}const p=d.length===0?o:o.slice(x);let j=p,N=!1;p.endsWith(gx)?(j=p.slice(0,-1),N=!0):p.startsWith(gx)&&(j=p.slice(1),N=!0);const v=g&&g>x?g-x:void 0;return Hy(d,N,j,v)};if(a){const o=a+Vy,d=r;r=u=>u.startsWith(o)?d(u.slice(o.length)):Hy(g3,!1,u,void 0,!0)}if(l){const o=r;r=d=>l({className:d,parseClassName:o})}return r},y3=t=>{const a=new Map;return t.orderSensitiveModifiers.forEach((l,r)=>{a.set(l,1e6+r)}),l=>{const r=[];let o=[];for(let d=0;d<l.length;d++){const u=l[d],h=u[0]==="[",x=a.has(u);h||x?(o.length>0&&(o.sort(),r.push(...o),o=[]),r.push(u)):o.push(u)}return o.length>0&&(o.sort(),r.push(...o)),r}},v3=t=>({cache:f3(t.cacheSize),parseClassName:p3(t),sortModifiers:y3(t),...r3(t)}),j3=/\s+/,b3=(t,a)=>{const{parseClassName:l,getClassGroupId:r,getConflictingClassGroupIds:o,sortModifiers:d}=a,u=[],h=t.trim().split(j3);let x="";for(let g=h.length-1;g>=0;g-=1){const y=h[g],{isExternal:p,modifiers:j,hasImportantModifier:N,baseClassName:v,maybePostfixModifierPosition:C}=l(y);if(p){x=y+(x.length>0?" "+x:x);continue}let S=!!C,_=r(S?v.substring(0,C):v);if(!_){if(!S){x=y+(x.length>0?" "+x:x);continue}if(_=r(v),!_){x=y+(x.length>0?" "+x:x);continue}S=!1}const E=j.length===0?"":j.length===1?j[0]:d(j).join(":"),A=N?E+gx:E,M=A+_;if(u.indexOf(M)>-1)continue;u.push(M);const H=o(_,S);for(let I=0;I<H.length;++I){const W=H[I];u.push(A+W)}x=y+(x.length>0?" "+x:x)}return x},N3=(...t)=>{let a=0,l,r,o="";for(;a<t.length;)(l=t[a++])&&(r=eb(l))&&(o&&(o+=" "),o+=r);return o},eb=t=>{if(typeof t=="string")return t;let a,l="";for(let r=0;r<t.length;r++)t[r]&&(a=eb(t[r]))&&(l&&(l+=" "),l+=a);return l},w3=(t,...a)=>{let l,r,o,d;const u=x=>{const g=a.reduce((y,p)=>p(y),t());return l=v3(g),r=l.cache.get,o=l.cache.set,d=h,h(x)},h=x=>{const g=r(x);if(g)return g;const y=b3(x,l);return o(x,y),y};return d=u,(...x)=>d(N3(...x))},S3=[],Wt=t=>{const a=l=>l[t]||S3;return a.isThemeGetter=!0,a},tb=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,sb=/^\((?:(\w[\w-]*):)?(.+)\)$/i,C3=/^\d+\/\d+$/,k3=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,A3=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,M3=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,_3=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,T3=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Zr=t=>C3.test(t),Fe=t=>!!t&&!Number.isNaN(Number(t)),tl=t=>!!t&&Number.isInteger(Number(t)),Ih=t=>t.endsWith("%")&&Fe(t.slice(0,-1)),vn=t=>k3.test(t),R3=()=>!0,D3=t=>A3.test(t)&&!M3.test(t),ab=()=>!1,E3=t=>_3.test(t),O3=t=>T3.test(t),z3=t=>!ve(t)&&!je(t),L3=t=>xi(t,rb,ab),ve=t=>tb.test(t),Vl=t=>xi(t,ib,D3),Vh=t=>xi(t,I3,Fe),By=t=>xi(t,nb,ab),q3=t=>xi(t,lb,O3),fd=t=>xi(t,ob,E3),je=t=>sb.test(t),fo=t=>fi(t,ib),F3=t=>fi(t,V3),$y=t=>fi(t,nb),P3=t=>fi(t,rb),U3=t=>fi(t,lb),gd=t=>fi(t,ob,!0),xi=(t,a,l)=>{const r=tb.exec(t);return r?r[1]?a(r[1]):l(r[2]):!1},fi=(t,a,l=!1)=>{const r=sb.exec(t);return r?r[1]?a(r[1]):l:!1},nb=t=>t==="position"||t==="percentage",lb=t=>t==="image"||t==="url",rb=t=>t==="length"||t==="size"||t==="bg-size",ib=t=>t==="length",I3=t=>t==="number",V3=t=>t==="family-name",ob=t=>t==="shadow",H3=()=>{const t=Wt("color"),a=Wt("font"),l=Wt("text"),r=Wt("font-weight"),o=Wt("tracking"),d=Wt("leading"),u=Wt("breakpoint"),h=Wt("container"),x=Wt("spacing"),g=Wt("radius"),y=Wt("shadow"),p=Wt("inset-shadow"),j=Wt("text-shadow"),N=Wt("drop-shadow"),v=Wt("blur"),C=Wt("perspective"),S=Wt("aspect"),_=Wt("ease"),E=Wt("animate"),A=()=>["auto","avoid","all","avoid-page","page","left","right","column"],M=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],H=()=>[...M(),je,ve],I=()=>["auto","hidden","clip","visible","scroll"],W=()=>["auto","contain","none"],Q=()=>[je,ve,x],K=()=>[Zr,"full","auto",...Q()],q=()=>[tl,"none","subgrid",je,ve],$=()=>["auto",{span:["full",tl,je,ve]},tl,je,ve],re=()=>[tl,"auto",je,ve],le=()=>["auto","min","max","fr",je,ve],xe=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],me=()=>["start","end","center","stretch","center-safe","end-safe"],D=()=>["auto",...Q()],X=()=>[Zr,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...Q()],Z=()=>[t,je,ve],be=()=>[...M(),$y,By,{position:[je,ve]}],ye=()=>["no-repeat",{repeat:["","x","y","space","round"]}],fe=()=>["auto","cover","contain",P3,L3,{size:[je,ve]}],Te=()=>[Ih,fo,Vl],ne=()=>["","none","full",g,je,ve],ge=()=>["",Fe,fo,Vl],Oe=()=>["solid","dashed","dotted","double"],gt=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ze=()=>[Fe,Ih,$y,By],Qe=()=>["","none",v,je,ve],Ht=()=>["none",Fe,je,ve],bs=()=>["none",Fe,je,ve],Ns=()=>[Fe,je,ve],cs=()=>[Zr,"full",...Q()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[vn],breakpoint:[vn],color:[R3],container:[vn],"drop-shadow":[vn],ease:["in","out","in-out"],font:[z3],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[vn],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[vn],shadow:[vn],spacing:["px",Fe],text:[vn],"text-shadow":[vn],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Zr,ve,je,S]}],container:["container"],columns:[{columns:[Fe,ve,je,h]}],"break-after":[{"break-after":A()}],"break-before":[{"break-before":A()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:H()}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:W()}],"overscroll-x":[{"overscroll-x":W()}],"overscroll-y":[{"overscroll-y":W()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:K()}],"inset-x":[{"inset-x":K()}],"inset-y":[{"inset-y":K()}],start:[{start:K()}],end:[{end:K()}],top:[{top:K()}],right:[{right:K()}],bottom:[{bottom:K()}],left:[{left:K()}],visibility:["visible","invisible","collapse"],z:[{z:[tl,"auto",je,ve]}],basis:[{basis:[Zr,"full","auto",h,...Q()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Fe,Zr,"auto","initial","none",ve]}],grow:[{grow:["",Fe,je,ve]}],shrink:[{shrink:["",Fe,je,ve]}],order:[{order:[tl,"first","last","none",je,ve]}],"grid-cols":[{"grid-cols":q()}],"col-start-end":[{col:$()}],"col-start":[{"col-start":re()}],"col-end":[{"col-end":re()}],"grid-rows":[{"grid-rows":q()}],"row-start-end":[{row:$()}],"row-start":[{"row-start":re()}],"row-end":[{"row-end":re()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":le()}],"auto-rows":[{"auto-rows":le()}],gap:[{gap:Q()}],"gap-x":[{"gap-x":Q()}],"gap-y":[{"gap-y":Q()}],"justify-content":[{justify:[...xe(),"normal"]}],"justify-items":[{"justify-items":[...me(),"normal"]}],"justify-self":[{"justify-self":["auto",...me()]}],"align-content":[{content:["normal",...xe()]}],"align-items":[{items:[...me(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...me(),{baseline:["","last"]}]}],"place-content":[{"place-content":xe()}],"place-items":[{"place-items":[...me(),"baseline"]}],"place-self":[{"place-self":["auto",...me()]}],p:[{p:Q()}],px:[{px:Q()}],py:[{py:Q()}],ps:[{ps:Q()}],pe:[{pe:Q()}],pt:[{pt:Q()}],pr:[{pr:Q()}],pb:[{pb:Q()}],pl:[{pl:Q()}],m:[{m:D()}],mx:[{mx:D()}],my:[{my:D()}],ms:[{ms:D()}],me:[{me:D()}],mt:[{mt:D()}],mr:[{mr:D()}],mb:[{mb:D()}],ml:[{ml:D()}],"space-x":[{"space-x":Q()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":Q()}],"space-y-reverse":["space-y-reverse"],size:[{size:X()}],w:[{w:[h,"screen",...X()]}],"min-w":[{"min-w":[h,"screen","none",...X()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[u]},...X()]}],h:[{h:["screen","lh",...X()]}],"min-h":[{"min-h":["screen","lh","none",...X()]}],"max-h":[{"max-h":["screen","lh",...X()]}],"font-size":[{text:["base",l,fo,Vl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,je,Vh]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Ih,ve]}],"font-family":[{font:[F3,ve,a]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,je,ve]}],"line-clamp":[{"line-clamp":[Fe,"none",je,Vh]}],leading:[{leading:[d,...Q()]}],"list-image":[{"list-image":["none",je,ve]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",je,ve]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Z()}],"text-color":[{text:Z()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Oe(),"wavy"]}],"text-decoration-thickness":[{decoration:[Fe,"from-font","auto",je,Vl]}],"text-decoration-color":[{decoration:Z()}],"underline-offset":[{"underline-offset":[Fe,"auto",je,ve]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:Q()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",je,ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",je,ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:be()}],"bg-repeat":[{bg:ye()}],"bg-size":[{bg:fe()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},tl,je,ve],radial:["",je,ve],conic:[tl,je,ve]},U3,q3]}],"bg-color":[{bg:Z()}],"gradient-from-pos":[{from:Te()}],"gradient-via-pos":[{via:Te()}],"gradient-to-pos":[{to:Te()}],"gradient-from":[{from:Z()}],"gradient-via":[{via:Z()}],"gradient-to":[{to:Z()}],rounded:[{rounded:ne()}],"rounded-s":[{"rounded-s":ne()}],"rounded-e":[{"rounded-e":ne()}],"rounded-t":[{"rounded-t":ne()}],"rounded-r":[{"rounded-r":ne()}],"rounded-b":[{"rounded-b":ne()}],"rounded-l":[{"rounded-l":ne()}],"rounded-ss":[{"rounded-ss":ne()}],"rounded-se":[{"rounded-se":ne()}],"rounded-ee":[{"rounded-ee":ne()}],"rounded-es":[{"rounded-es":ne()}],"rounded-tl":[{"rounded-tl":ne()}],"rounded-tr":[{"rounded-tr":ne()}],"rounded-br":[{"rounded-br":ne()}],"rounded-bl":[{"rounded-bl":ne()}],"border-w":[{border:ge()}],"border-w-x":[{"border-x":ge()}],"border-w-y":[{"border-y":ge()}],"border-w-s":[{"border-s":ge()}],"border-w-e":[{"border-e":ge()}],"border-w-t":[{"border-t":ge()}],"border-w-r":[{"border-r":ge()}],"border-w-b":[{"border-b":ge()}],"border-w-l":[{"border-l":ge()}],"divide-x":[{"divide-x":ge()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ge()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Oe(),"hidden","none"]}],"divide-style":[{divide:[...Oe(),"hidden","none"]}],"border-color":[{border:Z()}],"border-color-x":[{"border-x":Z()}],"border-color-y":[{"border-y":Z()}],"border-color-s":[{"border-s":Z()}],"border-color-e":[{"border-e":Z()}],"border-color-t":[{"border-t":Z()}],"border-color-r":[{"border-r":Z()}],"border-color-b":[{"border-b":Z()}],"border-color-l":[{"border-l":Z()}],"divide-color":[{divide:Z()}],"outline-style":[{outline:[...Oe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Fe,je,ve]}],"outline-w":[{outline:["",Fe,fo,Vl]}],"outline-color":[{outline:Z()}],shadow:[{shadow:["","none",y,gd,fd]}],"shadow-color":[{shadow:Z()}],"inset-shadow":[{"inset-shadow":["none",p,gd,fd]}],"inset-shadow-color":[{"inset-shadow":Z()}],"ring-w":[{ring:ge()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Z()}],"ring-offset-w":[{"ring-offset":[Fe,Vl]}],"ring-offset-color":[{"ring-offset":Z()}],"inset-ring-w":[{"inset-ring":ge()}],"inset-ring-color":[{"inset-ring":Z()}],"text-shadow":[{"text-shadow":["none",j,gd,fd]}],"text-shadow-color":[{"text-shadow":Z()}],opacity:[{opacity:[Fe,je,ve]}],"mix-blend":[{"mix-blend":[...gt(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":gt()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Fe]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ze()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ze()}],"mask-image-linear-from-color":[{"mask-linear-from":Z()}],"mask-image-linear-to-color":[{"mask-linear-to":Z()}],"mask-image-t-from-pos":[{"mask-t-from":Ze()}],"mask-image-t-to-pos":[{"mask-t-to":Ze()}],"mask-image-t-from-color":[{"mask-t-from":Z()}],"mask-image-t-to-color":[{"mask-t-to":Z()}],"mask-image-r-from-pos":[{"mask-r-from":Ze()}],"mask-image-r-to-pos":[{"mask-r-to":Ze()}],"mask-image-r-from-color":[{"mask-r-from":Z()}],"mask-image-r-to-color":[{"mask-r-to":Z()}],"mask-image-b-from-pos":[{"mask-b-from":Ze()}],"mask-image-b-to-pos":[{"mask-b-to":Ze()}],"mask-image-b-from-color":[{"mask-b-from":Z()}],"mask-image-b-to-color":[{"mask-b-to":Z()}],"mask-image-l-from-pos":[{"mask-l-from":Ze()}],"mask-image-l-to-pos":[{"mask-l-to":Ze()}],"mask-image-l-from-color":[{"mask-l-from":Z()}],"mask-image-l-to-color":[{"mask-l-to":Z()}],"mask-image-x-from-pos":[{"mask-x-from":Ze()}],"mask-image-x-to-pos":[{"mask-x-to":Ze()}],"mask-image-x-from-color":[{"mask-x-from":Z()}],"mask-image-x-to-color":[{"mask-x-to":Z()}],"mask-image-y-from-pos":[{"mask-y-from":Ze()}],"mask-image-y-to-pos":[{"mask-y-to":Ze()}],"mask-image-y-from-color":[{"mask-y-from":Z()}],"mask-image-y-to-color":[{"mask-y-to":Z()}],"mask-image-radial":[{"mask-radial":[je,ve]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ze()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ze()}],"mask-image-radial-from-color":[{"mask-radial-from":Z()}],"mask-image-radial-to-color":[{"mask-radial-to":Z()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":M()}],"mask-image-conic-pos":[{"mask-conic":[Fe]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ze()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ze()}],"mask-image-conic-from-color":[{"mask-conic-from":Z()}],"mask-image-conic-to-color":[{"mask-conic-to":Z()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:be()}],"mask-repeat":[{mask:ye()}],"mask-size":[{mask:fe()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",je,ve]}],filter:[{filter:["","none",je,ve]}],blur:[{blur:Qe()}],brightness:[{brightness:[Fe,je,ve]}],contrast:[{contrast:[Fe,je,ve]}],"drop-shadow":[{"drop-shadow":["","none",N,gd,fd]}],"drop-shadow-color":[{"drop-shadow":Z()}],grayscale:[{grayscale:["",Fe,je,ve]}],"hue-rotate":[{"hue-rotate":[Fe,je,ve]}],invert:[{invert:["",Fe,je,ve]}],saturate:[{saturate:[Fe,je,ve]}],sepia:[{sepia:["",Fe,je,ve]}],"backdrop-filter":[{"backdrop-filter":["","none",je,ve]}],"backdrop-blur":[{"backdrop-blur":Qe()}],"backdrop-brightness":[{"backdrop-brightness":[Fe,je,ve]}],"backdrop-contrast":[{"backdrop-contrast":[Fe,je,ve]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Fe,je,ve]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Fe,je,ve]}],"backdrop-invert":[{"backdrop-invert":["",Fe,je,ve]}],"backdrop-opacity":[{"backdrop-opacity":[Fe,je,ve]}],"backdrop-saturate":[{"backdrop-saturate":[Fe,je,ve]}],"backdrop-sepia":[{"backdrop-sepia":["",Fe,je,ve]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":Q()}],"border-spacing-x":[{"border-spacing-x":Q()}],"border-spacing-y":[{"border-spacing-y":Q()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",je,ve]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Fe,"initial",je,ve]}],ease:[{ease:["linear","initial",_,je,ve]}],delay:[{delay:[Fe,je,ve]}],animate:[{animate:["none",E,je,ve]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[C,je,ve]}],"perspective-origin":[{"perspective-origin":H()}],rotate:[{rotate:Ht()}],"rotate-x":[{"rotate-x":Ht()}],"rotate-y":[{"rotate-y":Ht()}],"rotate-z":[{"rotate-z":Ht()}],scale:[{scale:bs()}],"scale-x":[{"scale-x":bs()}],"scale-y":[{"scale-y":bs()}],"scale-z":[{"scale-z":bs()}],"scale-3d":["scale-3d"],skew:[{skew:Ns()}],"skew-x":[{"skew-x":Ns()}],"skew-y":[{"skew-y":Ns()}],transform:[{transform:[je,ve,"","none","gpu","cpu"]}],"transform-origin":[{origin:H()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:cs()}],"translate-x":[{"translate-x":cs()}],"translate-y":[{"translate-y":cs()}],"translate-z":[{"translate-z":cs()}],"translate-none":["translate-none"],accent:[{accent:Z()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Z()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",je,ve]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Q()}],"scroll-mx":[{"scroll-mx":Q()}],"scroll-my":[{"scroll-my":Q()}],"scroll-ms":[{"scroll-ms":Q()}],"scroll-me":[{"scroll-me":Q()}],"scroll-mt":[{"scroll-mt":Q()}],"scroll-mr":[{"scroll-mr":Q()}],"scroll-mb":[{"scroll-mb":Q()}],"scroll-ml":[{"scroll-ml":Q()}],"scroll-p":[{"scroll-p":Q()}],"scroll-px":[{"scroll-px":Q()}],"scroll-py":[{"scroll-py":Q()}],"scroll-ps":[{"scroll-ps":Q()}],"scroll-pe":[{"scroll-pe":Q()}],"scroll-pt":[{"scroll-pt":Q()}],"scroll-pr":[{"scroll-pr":Q()}],"scroll-pb":[{"scroll-pb":Q()}],"scroll-pl":[{"scroll-pl":Q()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",je,ve]}],fill:[{fill:["none",...Z()]}],"stroke-w":[{stroke:[Fe,fo,Vl,Vh]}],stroke:[{stroke:["none",...Z()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},B3=w3(H3);function z(...t){return B3(Yj(t))}function st(t){const a=typeof t=="string"?new Date(t):t;return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(a)}function Vo(t){const a=typeof t=="string"?new Date(t):t,r=new Date().getTime()-a.getTime(),o=Math.floor(r/1e3),d=Math.floor(o/60),u=Math.floor(d/60),h=Math.floor(u/24);return o<60?"just now":d<60?`${d}m ago`:u<24?`${u}h ago`:h<7?`${h}d ago`:st(a)}function $3(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Ta(t){return t.replace(/_/g," ").split(" ").map($3).join(" ")}function Gx(t){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t/100)}const K3=Xj("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-cyan-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-gradient-to-r from-cyan-600 to-teal-600 text-white shadow-md shadow-cyan-500/20 hover:from-cyan-700 hover:to-teal-700 hover:shadow-lg hover:shadow-cyan-500/25",destructive:"bg-gradient-to-r from-red-500 to-rose-600 text-white shadow-md shadow-red-500/20 hover:from-red-600 hover:to-rose-700",outline:"border border-gray-200 bg-white shadow-sm hover:bg-gray-50 hover:border-gray-300 hover:text-gray-900",secondary:"bg-gray-100 text-gray-900 shadow-sm hover:bg-gray-200",ghost:"hover:bg-gray-100 hover:text-gray-900",link:"text-cyan-600 underline-offset-4 hover:underline",success:"bg-gradient-to-r from-emerald-500 to-green-600 text-white shadow-md shadow-emerald-500/20 hover:from-emerald-600 hover:to-green-700",warning:"bg-gradient-to-r from-amber-500 to-orange-500 text-white shadow-md shadow-amber-500/20 hover:from-amber-600 hover:to-orange-600"},size:{default:"h-10 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-11 rounded-lg px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),T=b.forwardRef(({className:t,variant:a,size:l,...r},o)=>e.jsx("button",{className:z(K3({variant:a,size:l,className:t})),ref:o,...r}));T.displayName="Button";const ue=b.forwardRef(({className:t,type:a,error:l,...r},o)=>e.jsx("input",{type:a,className:z("flex h-9 w-full rounded-md border bg-white px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-gray-950 placeholder:text-gray-400 focus-visible:outline-none focus-visible:ring-2 disabled:cursor-not-allowed disabled:opacity-50",l?"border-red-300 focus-visible:ring-red-500":"border-gray-300 focus-visible:ring-blue-500",t),ref:o,...r}));ue.displayName="Input";function Yx({open:t,onClose:a,trigger:l,children:r,align:o="end",className:d}){const u=b.useRef(null);return b.useEffect(()=>{if(!t)return;function h(x){u.current&&!u.current.contains(x.target)&&a()}return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[t,a]),b.useEffect(()=>{if(!t)return;function h(x){x.key==="Escape"&&a()}return document.addEventListener("keydown",h),()=>document.removeEventListener("keydown",h)},[t,a]),e.jsxs("div",{ref:u,className:"relative inline-block",children:[l,t&&e.jsx("div",{className:z("absolute top-full mt-2 z-[60] min-w-[320px] rounded-lg border border-gray-200 bg-white shadow-lg",o==="start"&&"left-0",o==="center"&&"left-1/2 -translate-x-1/2",o==="end"&&"right-0",d),children:r})]})}const cb=6048e5,Q3=864e5,pd=43200,Ky=1440,Qy=Symbol.for("constructDateFrom");function kn(t,a){return typeof t=="function"?t(a):t&&typeof t=="object"&&Qy in t?t[Qy](a):t instanceof Date?new t.constructor(a):new Date(a)}function os(t,a){return kn(a||t,t)}let G3={};function Ho(){return G3}function zo(t,a){const l=Ho(),r=a?.weekStartsOn??a?.locale?.options?.weekStartsOn??l.weekStartsOn??l.locale?.options?.weekStartsOn??0,o=os(t,a?.in),d=o.getDay(),u=(d<r?7:0)+d-r;return o.setDate(o.getDate()-u),o.setHours(0,0,0,0),o}function Bd(t,a){return zo(t,{...a,weekStartsOn:1})}function db(t,a){const l=os(t,a?.in),r=l.getFullYear(),o=kn(l,0);o.setFullYear(r+1,0,4),o.setHours(0,0,0,0);const d=Bd(o),u=kn(l,0);u.setFullYear(r,0,4),u.setHours(0,0,0,0);const h=Bd(u);return l.getTime()>=d.getTime()?r+1:l.getTime()>=h.getTime()?r:r-1}function $d(t){const a=os(t),l=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()));return l.setUTCFullYear(a.getFullYear()),+t-+l}function Bo(t,...a){const l=kn.bind(null,t||a.find(r=>typeof r=="object"));return a.map(l)}function Kd(t,a){const l=os(t,a?.in);return l.setHours(0,0,0,0),l}function Y3(t,a,l){const[r,o]=Bo(l?.in,t,a),d=Kd(r),u=Kd(o),h=+d-$d(d),x=+u-$d(u);return Math.round((h-x)/Q3)}function X3(t,a){const l=db(t,a),r=kn(t,0);return r.setFullYear(l,0,4),r.setHours(0,0,0,0),Bd(r)}function Td(t,a){const l=+os(t)-+os(a);return l<0?-1:l>0?1:l}function W3(t){return kn(t,Date.now())}function Gy(t,a,l){const[r,o]=Bo(l?.in,t,a);return+Kd(r)==+Kd(o)}function Z3(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function J3(t){return!(!Z3(t)&&typeof t!="number"||isNaN(+os(t)))}function e6(t,a,l){const[r,o]=Bo(l?.in,t,a),d=r.getFullYear()-o.getFullYear(),u=r.getMonth()-o.getMonth();return d*12+u}function t6(t){return a=>{const r=(t?Math[t]:Math.trunc)(a);return r===0?0:r}}function s6(t,a){return+os(t)-+os(a)}function a6(t,a){const l=os(t,a?.in);return l.setHours(23,59,59,999),l}function n6(t,a){const l=os(t,a?.in),r=l.getMonth();return l.setFullYear(l.getFullYear(),r+1,0),l.setHours(23,59,59,999),l}function l6(t,a){const l=os(t,a?.in);return+a6(l,a)==+n6(l,a)}function r6(t,a,l){const[r,o,d]=Bo(l?.in,t,t,a),u=Td(o,d),h=Math.abs(e6(o,d));if(h<1)return 0;o.getMonth()===1&&o.getDate()>27&&o.setDate(30),o.setMonth(o.getMonth()-u*h);let x=Td(o,d)===-u;l6(r)&&h===1&&Td(r,d)===1&&(x=!1);const g=u*(h-+x);return g===0?0:g}function i6(t,a,l){const r=s6(t,a)/1e3;return t6(l?.roundingMethod)(r)}function o6(t,a){const l=os(t,a?.in);return l.setFullYear(l.getFullYear(),0,1),l.setHours(0,0,0,0),l}const c6={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},d6=(t,a,l)=>{let r;const o=c6[t];return typeof o=="string"?r=o:a===1?r=o.one:r=o.other.replace("{{count}}",a.toString()),l?.addSuffix?l.comparison&&l.comparison>0?"in "+r:r+" ago":r};function Hh(t){return(a={})=>{const l=a.width?String(a.width):t.defaultWidth;return t.formats[l]||t.formats[t.defaultWidth]}}const u6={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},m6={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},h6={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},x6={date:Hh({formats:u6,defaultWidth:"full"}),time:Hh({formats:m6,defaultWidth:"full"}),dateTime:Hh({formats:h6,defaultWidth:"full"})},f6={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},g6=(t,a,l,r)=>f6[t];function go(t){return(a,l)=>{const r=l?.context?String(l.context):"standalone";let o;if(r==="formatting"&&t.formattingValues){const u=t.defaultFormattingWidth||t.defaultWidth,h=l?.width?String(l.width):u;o=t.formattingValues[h]||t.formattingValues[u]}else{const u=t.defaultWidth,h=l?.width?String(l.width):t.defaultWidth;o=t.values[h]||t.values[u]}const d=t.argumentCallback?t.argumentCallback(a):a;return o[d]}}const p6={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},y6={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},v6={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},j6={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},b6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},N6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},w6=(t,a)=>{const l=Number(t),r=l%100;if(r>20||r<10)switch(r%10){case 1:return l+"st";case 2:return l+"nd";case 3:return l+"rd"}return l+"th"},S6={ordinalNumber:w6,era:go({values:p6,defaultWidth:"wide"}),quarter:go({values:y6,defaultWidth:"wide",argumentCallback:t=>t-1}),month:go({values:v6,defaultWidth:"wide"}),day:go({values:j6,defaultWidth:"wide"}),dayPeriod:go({values:b6,defaultWidth:"wide",formattingValues:N6,defaultFormattingWidth:"wide"})};function po(t){return(a,l={})=>{const r=l.width,o=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],d=a.match(o);if(!d)return null;const u=d[0],h=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],x=Array.isArray(h)?k6(h,p=>p.test(u)):C6(h,p=>p.test(u));let g;g=t.valueCallback?t.valueCallback(x):x,g=l.valueCallback?l.valueCallback(g):g;const y=a.slice(u.length);return{value:g,rest:y}}}function C6(t,a){for(const l in t)if(Object.prototype.hasOwnProperty.call(t,l)&&a(t[l]))return l}function k6(t,a){for(let l=0;l<t.length;l++)if(a(t[l]))return l}function A6(t){return(a,l={})=>{const r=a.match(t.matchPattern);if(!r)return null;const o=r[0],d=a.match(t.parsePattern);if(!d)return null;let u=t.valueCallback?t.valueCallback(d[0]):d[0];u=l.valueCallback?l.valueCallback(u):u;const h=a.slice(o.length);return{value:u,rest:h}}}const M6=/^(\d+)(th|st|nd|rd)?/i,_6=/\d+/i,T6={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},R6={any:[/^b/i,/^(a|c)/i]},D6={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},E6={any:[/1/i,/2/i,/3/i,/4/i]},O6={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},z6={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},L6={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},q6={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},F6={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},P6={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},U6={ordinalNumber:A6({matchPattern:M6,parsePattern:_6,valueCallback:t=>parseInt(t,10)}),era:po({matchPatterns:T6,defaultMatchWidth:"wide",parsePatterns:R6,defaultParseWidth:"any"}),quarter:po({matchPatterns:D6,defaultMatchWidth:"wide",parsePatterns:E6,defaultParseWidth:"any",valueCallback:t=>t+1}),month:po({matchPatterns:O6,defaultMatchWidth:"wide",parsePatterns:z6,defaultParseWidth:"any"}),day:po({matchPatterns:L6,defaultMatchWidth:"wide",parsePatterns:q6,defaultParseWidth:"any"}),dayPeriod:po({matchPatterns:F6,defaultMatchWidth:"any",parsePatterns:P6,defaultParseWidth:"any"})},ub={code:"en-US",formatDistance:d6,formatLong:x6,formatRelative:g6,localize:S6,match:U6,options:{weekStartsOn:0,firstWeekContainsDate:1}};function I6(t,a){const l=os(t,a?.in);return Y3(l,o6(l))+1}function V6(t,a){const l=os(t,a?.in),r=+Bd(l)-+X3(l);return Math.round(r/cb)+1}function mb(t,a){const l=os(t,a?.in),r=l.getFullYear(),o=Ho(),d=a?.firstWeekContainsDate??a?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,u=kn(a?.in||t,0);u.setFullYear(r+1,0,d),u.setHours(0,0,0,0);const h=zo(u,a),x=kn(a?.in||t,0);x.setFullYear(r,0,d),x.setHours(0,0,0,0);const g=zo(x,a);return+l>=+h?r+1:+l>=+g?r:r-1}function H6(t,a){const l=Ho(),r=a?.firstWeekContainsDate??a?.locale?.options?.firstWeekContainsDate??l.firstWeekContainsDate??l.locale?.options?.firstWeekContainsDate??1,o=mb(t,a),d=kn(a?.in||t,0);return d.setFullYear(o,0,r),d.setHours(0,0,0,0),zo(d,a)}function B6(t,a){const l=os(t,a?.in),r=+zo(l,a)-+H6(l,a);return Math.round(r/cb)+1}function lt(t,a){const l=t<0?"-":"",r=Math.abs(t).toString().padStart(a,"0");return l+r}const sl={y(t,a){const l=t.getFullYear(),r=l>0?l:1-l;return lt(a==="yy"?r%100:r,a.length)},M(t,a){const l=t.getMonth();return a==="M"?String(l+1):lt(l+1,2)},d(t,a){return lt(t.getDate(),a.length)},a(t,a){const l=t.getHours()/12>=1?"pm":"am";switch(a){case"a":case"aa":return l.toUpperCase();case"aaa":return l;case"aaaaa":return l[0];case"aaaa":default:return l==="am"?"a.m.":"p.m."}},h(t,a){return lt(t.getHours()%12||12,a.length)},H(t,a){return lt(t.getHours(),a.length)},m(t,a){return lt(t.getMinutes(),a.length)},s(t,a){return lt(t.getSeconds(),a.length)},S(t,a){const l=a.length,r=t.getMilliseconds(),o=Math.trunc(r*Math.pow(10,l-3));return lt(o,a.length)}},Jr={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Yy={G:function(t,a,l){const r=t.getFullYear()>0?1:0;switch(a){case"G":case"GG":case"GGG":return l.era(r,{width:"abbreviated"});case"GGGGG":return l.era(r,{width:"narrow"});case"GGGG":default:return l.era(r,{width:"wide"})}},y:function(t,a,l){if(a==="yo"){const r=t.getFullYear(),o=r>0?r:1-r;return l.ordinalNumber(o,{unit:"year"})}return sl.y(t,a)},Y:function(t,a,l,r){const o=mb(t,r),d=o>0?o:1-o;if(a==="YY"){const u=d%100;return lt(u,2)}return a==="Yo"?l.ordinalNumber(d,{unit:"year"}):lt(d,a.length)},R:function(t,a){const l=db(t);return lt(l,a.length)},u:function(t,a){const l=t.getFullYear();return lt(l,a.length)},Q:function(t,a,l){const r=Math.ceil((t.getMonth()+1)/3);switch(a){case"Q":return String(r);case"QQ":return lt(r,2);case"Qo":return l.ordinalNumber(r,{unit:"quarter"});case"QQQ":return l.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return l.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return l.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,a,l){const r=Math.ceil((t.getMonth()+1)/3);switch(a){case"q":return String(r);case"qq":return lt(r,2);case"qo":return l.ordinalNumber(r,{unit:"quarter"});case"qqq":return l.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return l.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return l.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,a,l){const r=t.getMonth();switch(a){case"M":case"MM":return sl.M(t,a);case"Mo":return l.ordinalNumber(r+1,{unit:"month"});case"MMM":return l.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return l.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return l.month(r,{width:"wide",context:"formatting"})}},L:function(t,a,l){const r=t.getMonth();switch(a){case"L":return String(r+1);case"LL":return lt(r+1,2);case"Lo":return l.ordinalNumber(r+1,{unit:"month"});case"LLL":return l.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return l.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return l.month(r,{width:"wide",context:"standalone"})}},w:function(t,a,l,r){const o=B6(t,r);return a==="wo"?l.ordinalNumber(o,{unit:"week"}):lt(o,a.length)},I:function(t,a,l){const r=V6(t);return a==="Io"?l.ordinalNumber(r,{unit:"week"}):lt(r,a.length)},d:function(t,a,l){return a==="do"?l.ordinalNumber(t.getDate(),{unit:"date"}):sl.d(t,a)},D:function(t,a,l){const r=I6(t);return a==="Do"?l.ordinalNumber(r,{unit:"dayOfYear"}):lt(r,a.length)},E:function(t,a,l){const r=t.getDay();switch(a){case"E":case"EE":case"EEE":return l.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return l.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return l.day(r,{width:"short",context:"formatting"});case"EEEE":default:return l.day(r,{width:"wide",context:"formatting"})}},e:function(t,a,l,r){const o=t.getDay(),d=(o-r.weekStartsOn+8)%7||7;switch(a){case"e":return String(d);case"ee":return lt(d,2);case"eo":return l.ordinalNumber(d,{unit:"day"});case"eee":return l.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return l.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return l.day(o,{width:"short",context:"formatting"});case"eeee":default:return l.day(o,{width:"wide",context:"formatting"})}},c:function(t,a,l,r){const o=t.getDay(),d=(o-r.weekStartsOn+8)%7||7;switch(a){case"c":return String(d);case"cc":return lt(d,a.length);case"co":return l.ordinalNumber(d,{unit:"day"});case"ccc":return l.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return l.day(o,{width:"narrow",context:"standalone"});case"cccccc":return l.day(o,{width:"short",context:"standalone"});case"cccc":default:return l.day(o,{width:"wide",context:"standalone"})}},i:function(t,a,l){const r=t.getDay(),o=r===0?7:r;switch(a){case"i":return String(o);case"ii":return lt(o,a.length);case"io":return l.ordinalNumber(o,{unit:"day"});case"iii":return l.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return l.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return l.day(r,{width:"short",context:"formatting"});case"iiii":default:return l.day(r,{width:"wide",context:"formatting"})}},a:function(t,a,l){const o=t.getHours()/12>=1?"pm":"am";switch(a){case"a":case"aa":return l.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return l.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return l.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return l.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(t,a,l){const r=t.getHours();let o;switch(r===12?o=Jr.noon:r===0?o=Jr.midnight:o=r/12>=1?"pm":"am",a){case"b":case"bb":return l.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return l.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return l.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return l.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(t,a,l){const r=t.getHours();let o;switch(r>=17?o=Jr.evening:r>=12?o=Jr.afternoon:r>=4?o=Jr.morning:o=Jr.night,a){case"B":case"BB":case"BBB":return l.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return l.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return l.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(t,a,l){if(a==="ho"){let r=t.getHours()%12;return r===0&&(r=12),l.ordinalNumber(r,{unit:"hour"})}return sl.h(t,a)},H:function(t,a,l){return a==="Ho"?l.ordinalNumber(t.getHours(),{unit:"hour"}):sl.H(t,a)},K:function(t,a,l){const r=t.getHours()%12;return a==="Ko"?l.ordinalNumber(r,{unit:"hour"}):lt(r,a.length)},k:function(t,a,l){let r=t.getHours();return r===0&&(r=24),a==="ko"?l.ordinalNumber(r,{unit:"hour"}):lt(r,a.length)},m:function(t,a,l){return a==="mo"?l.ordinalNumber(t.getMinutes(),{unit:"minute"}):sl.m(t,a)},s:function(t,a,l){return a==="so"?l.ordinalNumber(t.getSeconds(),{unit:"second"}):sl.s(t,a)},S:function(t,a){return sl.S(t,a)},X:function(t,a,l){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(a){case"X":return Wy(r);case"XXXX":case"XX":return Hl(r);case"XXXXX":case"XXX":default:return Hl(r,":")}},x:function(t,a,l){const r=t.getTimezoneOffset();switch(a){case"x":return Wy(r);case"xxxx":case"xx":return Hl(r);case"xxxxx":case"xxx":default:return Hl(r,":")}},O:function(t,a,l){const r=t.getTimezoneOffset();switch(a){case"O":case"OO":case"OOO":return"GMT"+Xy(r,":");case"OOOO":default:return"GMT"+Hl(r,":")}},z:function(t,a,l){const r=t.getTimezoneOffset();switch(a){case"z":case"zz":case"zzz":return"GMT"+Xy(r,":");case"zzzz":default:return"GMT"+Hl(r,":")}},t:function(t,a,l){const r=Math.trunc(+t/1e3);return lt(r,a.length)},T:function(t,a,l){return lt(+t,a.length)}};function Xy(t,a=""){const l=t>0?"-":"+",r=Math.abs(t),o=Math.trunc(r/60),d=r%60;return d===0?l+String(o):l+String(o)+a+lt(d,2)}function Wy(t,a){return t%60===0?(t>0?"-":"+")+lt(Math.abs(t)/60,2):Hl(t,a)}function Hl(t,a=""){const l=t>0?"-":"+",r=Math.abs(t),o=lt(Math.trunc(r/60),2),d=lt(r%60,2);return l+o+a+d}const Zy=(t,a)=>{switch(t){case"P":return a.date({width:"short"});case"PP":return a.date({width:"medium"});case"PPP":return a.date({width:"long"});case"PPPP":default:return a.date({width:"full"})}},hb=(t,a)=>{switch(t){case"p":return a.time({width:"short"});case"pp":return a.time({width:"medium"});case"ppp":return a.time({width:"long"});case"pppp":default:return a.time({width:"full"})}},$6=(t,a)=>{const l=t.match(/(P+)(p+)?/)||[],r=l[1],o=l[2];if(!o)return Zy(t,a);let d;switch(r){case"P":d=a.dateTime({width:"short"});break;case"PP":d=a.dateTime({width:"medium"});break;case"PPP":d=a.dateTime({width:"long"});break;case"PPPP":default:d=a.dateTime({width:"full"});break}return d.replace("{{date}}",Zy(r,a)).replace("{{time}}",hb(o,a))},K6={p:hb,P:$6},Q6=/^D+$/,G6=/^Y+$/,Y6=["D","DD","YY","YYYY"];function X6(t){return Q6.test(t)}function W6(t){return G6.test(t)}function Z6(t,a,l){const r=J6(t,a,l);if(console.warn(r),Y6.includes(t))throw new RangeError(r)}function J6(t,a,l){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${a}\`) for formatting ${r} to the input \`${l}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const ek=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,tk=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,sk=/^'([^]*?)'?$/,ak=/''/g,nk=/[a-zA-Z]/;function Qd(t,a,l){const r=Ho(),o=r.locale??ub,d=r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,u=r.weekStartsOn??r.locale?.options?.weekStartsOn??0,h=os(t,l?.in);if(!J3(h))throw new RangeError("Invalid time value");let x=a.match(tk).map(y=>{const p=y[0];if(p==="p"||p==="P"){const j=K6[p];return j(y,o.formatLong)}return y}).join("").match(ek).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const p=y[0];if(p==="'")return{isToken:!1,value:lk(y)};if(Yy[p])return{isToken:!0,value:y};if(p.match(nk))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:y}});o.localize.preprocessor&&(x=o.localize.preprocessor(h,x));const g={firstWeekContainsDate:d,weekStartsOn:u,locale:o};return x.map(y=>{if(!y.isToken)return y.value;const p=y.value;(W6(p)||X6(p))&&Z6(p,a,String(t));const j=Yy[p[0]];return j(h,p,o.localize,g)}).join("")}function lk(t){const a=t.match(sk);return a?a[1].replace(ak,"'"):t}function rk(t,a,l){const r=Ho(),o=l?.locale??r.locale??ub,d=2520,u=Td(t,a);if(isNaN(u))throw new RangeError("Invalid time value");const h=Object.assign({},l,{addSuffix:l?.addSuffix,comparison:u}),[x,g]=Bo(l?.in,...u>0?[a,t]:[t,a]),y=i6(g,x),p=($d(g)-$d(x))/1e3,j=Math.round((y-p)/60);let N;if(j<2)return l?.includeSeconds?y<5?o.formatDistance("lessThanXSeconds",5,h):y<10?o.formatDistance("lessThanXSeconds",10,h):y<20?o.formatDistance("lessThanXSeconds",20,h):y<40?o.formatDistance("halfAMinute",0,h):y<60?o.formatDistance("lessThanXMinutes",1,h):o.formatDistance("xMinutes",1,h):j===0?o.formatDistance("lessThanXMinutes",1,h):o.formatDistance("xMinutes",j,h);if(j<45)return o.formatDistance("xMinutes",j,h);if(j<90)return o.formatDistance("aboutXHours",1,h);if(j<Ky){const v=Math.round(j/60);return o.formatDistance("aboutXHours",v,h)}else{if(j<d)return o.formatDistance("xDays",1,h);if(j<pd){const v=Math.round(j/Ky);return o.formatDistance("xDays",v,h)}else if(j<pd*2)return N=Math.round(j/pd),o.formatDistance("aboutXMonths",N,h)}if(N=r6(g,x),N<12){const v=Math.round(j/pd);return o.formatDistance("xMonths",v,h)}else{const v=N%12,C=Math.trunc(N/12);return v<3?o.formatDistance("aboutXYears",C,h):v<9?o.formatDistance("overXYears",C,h):o.formatDistance("almostXYears",C+1,h)}}function $s(t,a){return rk(t,W3(t),a)}const ik={incident:We,work_order:Ge,program:Ea,service_shop:Oo,device:is},ok={incident:"text-red-500 bg-red-50",work_order:"text-blue-500 bg-blue-50",program:"text-purple-500 bg-purple-50",service_shop:"text-green-500 bg-green-50",device:"text-orange-500 bg-orange-50"},ck={create:"text-green-600",update:"text-blue-600",delete:"text-red-600"};function dk({notification:t,onClick:a}){const l=ik[t.type]||rs,r=ok[t.type]||"text-gray-500 bg-gray-50",o=$s(new Date(t.timestamp),{addSuffix:!0});return e.jsxs("button",{onClick:a,className:z("w-full flex items-start gap-3 px-4 py-3 text-left hover:bg-gray-50 transition-colors",!t.read&&"bg-blue-50/50"),children:[e.jsx("div",{className:z("flex-shrink-0 p-2 rounded-lg",r),children:e.jsx(l,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm text-gray-900 line-clamp-2",children:t.summary}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("span",{className:z("text-xs font-medium capitalize",ck[t.action]),children:t.action}),e.jsxs("span",{className:"text-xs text-gray-400",children:["by ",t.actor||"System"]}),e.jsx("span",{className:"text-xs text-gray-400",children:o})]})]}),!t.read&&e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"h-2 w-2 rounded-full bg-blue-500"})})]})}function xb(t,a){return function(){return t.apply(a,arguments)}}const{toString:uk}=Object.prototype,{getPrototypeOf:Xx}=Object,{iterator:su,toStringTag:fb}=Symbol,au=(t=>a=>{const l=uk.call(a);return t[l]||(t[l]=l.slice(8,-1).toLowerCase())})(Object.create(null)),qa=t=>(t=t.toLowerCase(),a=>au(a)===t),nu=t=>a=>typeof a===t,{isArray:gi}=Array,ri=nu("undefined");function $o(t){return t!==null&&!ri(t)&&t.constructor!==null&&!ri(t.constructor)&&Hs(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const gb=qa("ArrayBuffer");function mk(t){let a;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?a=ArrayBuffer.isView(t):a=t&&t.buffer&&gb(t.buffer),a}const hk=nu("string"),Hs=nu("function"),pb=nu("number"),Ko=t=>t!==null&&typeof t=="object",xk=t=>t===!0||t===!1,Rd=t=>{if(au(t)!=="object")return!1;const a=Xx(t);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(fb in t)&&!(su in t)},fk=t=>{if(!Ko(t)||$o(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},gk=qa("Date"),pk=qa("File"),yk=qa("Blob"),vk=qa("FileList"),jk=t=>Ko(t)&&Hs(t.pipe),bk=t=>{let a;return t&&(typeof FormData=="function"&&t instanceof FormData||Hs(t.append)&&((a=au(t))==="formdata"||a==="object"&&Hs(t.toString)&&t.toString()==="[object FormData]"))},Nk=qa("URLSearchParams"),[wk,Sk,Ck,kk]=["ReadableStream","Request","Response","Headers"].map(qa),Ak=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Qo(t,a,{allOwnKeys:l=!1}={}){if(t===null||typeof t>"u")return;let r,o;if(typeof t!="object"&&(t=[t]),gi(t))for(r=0,o=t.length;r<o;r++)a.call(null,t[r],r,t);else{if($o(t))return;const d=l?Object.getOwnPropertyNames(t):Object.keys(t),u=d.length;let h;for(r=0;r<u;r++)h=d[r],a.call(null,t[h],h,t)}}function yb(t,a){if($o(t))return null;a=a.toLowerCase();const l=Object.keys(t);let r=l.length,o;for(;r-- >0;)if(o=l[r],a===o.toLowerCase())return o;return null}const $l=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,vb=t=>!ri(t)&&t!==$l;function px(){const{caseless:t,skipUndefined:a}=vb(this)&&this||{},l={},r=(o,d)=>{const u=t&&yb(l,d)||d;Rd(l[u])&&Rd(o)?l[u]=px(l[u],o):Rd(o)?l[u]=px({},o):gi(o)?l[u]=o.slice():(!a||!ri(o))&&(l[u]=o)};for(let o=0,d=arguments.length;o<d;o++)arguments[o]&&Qo(arguments[o],r);return l}const Mk=(t,a,l,{allOwnKeys:r}={})=>(Qo(a,(o,d)=>{l&&Hs(o)?t[d]=xb(o,l):t[d]=o},{allOwnKeys:r}),t),_k=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Tk=(t,a,l,r)=>{t.prototype=Object.create(a.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:a.prototype}),l&&Object.assign(t.prototype,l)},Rk=(t,a,l,r)=>{let o,d,u;const h={};if(a=a||{},t==null)return a;do{for(o=Object.getOwnPropertyNames(t),d=o.length;d-- >0;)u=o[d],(!r||r(u,t,a))&&!h[u]&&(a[u]=t[u],h[u]=!0);t=l!==!1&&Xx(t)}while(t&&(!l||l(t,a))&&t!==Object.prototype);return a},Dk=(t,a,l)=>{t=String(t),(l===void 0||l>t.length)&&(l=t.length),l-=a.length;const r=t.indexOf(a,l);return r!==-1&&r===l},Ek=t=>{if(!t)return null;if(gi(t))return t;let a=t.length;if(!pb(a))return null;const l=new Array(a);for(;a-- >0;)l[a]=t[a];return l},Ok=(t=>a=>t&&a instanceof t)(typeof Uint8Array<"u"&&Xx(Uint8Array)),zk=(t,a)=>{const r=(t&&t[su]).call(t);let o;for(;(o=r.next())&&!o.done;){const d=o.value;a.call(t,d[0],d[1])}},Lk=(t,a)=>{let l;const r=[];for(;(l=t.exec(a))!==null;)r.push(l);return r},qk=qa("HTMLFormElement"),Fk=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(l,r,o){return r.toUpperCase()+o}),Jy=(({hasOwnProperty:t})=>(a,l)=>t.call(a,l))(Object.prototype),Pk=qa("RegExp"),jb=(t,a)=>{const l=Object.getOwnPropertyDescriptors(t),r={};Qo(l,(o,d)=>{let u;(u=a(o,d,t))!==!1&&(r[d]=u||o)}),Object.defineProperties(t,r)},Uk=t=>{jb(t,(a,l)=>{if(Hs(t)&&["arguments","caller","callee"].indexOf(l)!==-1)return!1;const r=t[l];if(Hs(r)){if(a.enumerable=!1,"writable"in a){a.writable=!1;return}a.set||(a.set=()=>{throw Error("Can not rewrite read-only method '"+l+"'")})}})},Ik=(t,a)=>{const l={},r=o=>{o.forEach(d=>{l[d]=!0})};return gi(t)?r(t):r(String(t).split(a)),l},Vk=()=>{},Hk=(t,a)=>t!=null&&Number.isFinite(t=+t)?t:a;function Bk(t){return!!(t&&Hs(t.append)&&t[fb]==="FormData"&&t[su])}const $k=t=>{const a=new Array(10),l=(r,o)=>{if(Ko(r)){if(a.indexOf(r)>=0)return;if($o(r))return r;if(!("toJSON"in r)){a[o]=r;const d=gi(r)?[]:{};return Qo(r,(u,h)=>{const x=l(u,o+1);!ri(x)&&(d[h]=x)}),a[o]=void 0,d}}return r};return l(t,0)},Kk=qa("AsyncFunction"),Qk=t=>t&&(Ko(t)||Hs(t))&&Hs(t.then)&&Hs(t.catch),bb=((t,a)=>t?setImmediate:a?((l,r)=>($l.addEventListener("message",({source:o,data:d})=>{o===$l&&d===l&&r.length&&r.shift()()},!1),o=>{r.push(o),$l.postMessage(l,"*")}))(`axios@${Math.random()}`,[]):l=>setTimeout(l))(typeof setImmediate=="function",Hs($l.postMessage)),Gk=typeof queueMicrotask<"u"?queueMicrotask.bind($l):typeof process<"u"&&process.nextTick||bb,Yk=t=>t!=null&&Hs(t[su]),G={isArray:gi,isArrayBuffer:gb,isBuffer:$o,isFormData:bk,isArrayBufferView:mk,isString:hk,isNumber:pb,isBoolean:xk,isObject:Ko,isPlainObject:Rd,isEmptyObject:fk,isReadableStream:wk,isRequest:Sk,isResponse:Ck,isHeaders:kk,isUndefined:ri,isDate:gk,isFile:pk,isBlob:yk,isRegExp:Pk,isFunction:Hs,isStream:jk,isURLSearchParams:Nk,isTypedArray:Ok,isFileList:vk,forEach:Qo,merge:px,extend:Mk,trim:Ak,stripBOM:_k,inherits:Tk,toFlatObject:Rk,kindOf:au,kindOfTest:qa,endsWith:Dk,toArray:Ek,forEachEntry:zk,matchAll:Lk,isHTMLForm:qk,hasOwnProperty:Jy,hasOwnProp:Jy,reduceDescriptors:jb,freezeMethods:Uk,toObjectSet:Ik,toCamelCase:Fk,noop:Vk,toFiniteNumber:Hk,findKey:yb,global:$l,isContextDefined:vb,isSpecCompliantForm:Bk,toJSONObject:$k,isAsyncFn:Kk,isThenable:Qk,setImmediate:bb,asap:Gk,isIterable:Yk};function Le(t,a,l,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",a&&(this.code=a),l&&(this.config=l),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}G.inherits(Le,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:G.toJSONObject(this.config),code:this.code,status:this.status}}});const Nb=Le.prototype,wb={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{wb[t]={value:t}});Object.defineProperties(Le,wb);Object.defineProperty(Nb,"isAxiosError",{value:!0});Le.from=(t,a,l,r,o,d)=>{const u=Object.create(Nb);G.toFlatObject(t,u,function(y){return y!==Error.prototype},g=>g!=="isAxiosError");const h=t&&t.message?t.message:"Error",x=a==null&&t?t.code:a;return Le.call(u,h,x,l,r,o),t&&u.cause==null&&Object.defineProperty(u,"cause",{value:t,configurable:!0}),u.name=t&&t.name||"Error",d&&Object.assign(u,d),u};const Xk=null;function yx(t){return G.isPlainObject(t)||G.isArray(t)}function Sb(t){return G.endsWith(t,"[]")?t.slice(0,-2):t}function ev(t,a,l){return t?t.concat(a).map(function(o,d){return o=Sb(o),!l&&d?"["+o+"]":o}).join(l?".":""):a}function Wk(t){return G.isArray(t)&&!t.some(yx)}const Zk=G.toFlatObject(G,{},null,function(a){return/^is[A-Z]/.test(a)});function lu(t,a,l){if(!G.isObject(t))throw new TypeError("target must be an object");a=a||new FormData,l=G.toFlatObject(l,{metaTokens:!0,dots:!1,indexes:!1},!1,function(C,S){return!G.isUndefined(S[C])});const r=l.metaTokens,o=l.visitor||y,d=l.dots,u=l.indexes,x=(l.Blob||typeof Blob<"u"&&Blob)&&G.isSpecCompliantForm(a);if(!G.isFunction(o))throw new TypeError("visitor must be a function");function g(v){if(v===null)return"";if(G.isDate(v))return v.toISOString();if(G.isBoolean(v))return v.toString();if(!x&&G.isBlob(v))throw new Le("Blob is not supported. Use a Buffer instead.");return G.isArrayBuffer(v)||G.isTypedArray(v)?x&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function y(v,C,S){let _=v;if(v&&!S&&typeof v=="object"){if(G.endsWith(C,"{}"))C=r?C:C.slice(0,-2),v=JSON.stringify(v);else if(G.isArray(v)&&Wk(v)||(G.isFileList(v)||G.endsWith(C,"[]"))&&(_=G.toArray(v)))return C=Sb(C),_.forEach(function(A,M){!(G.isUndefined(A)||A===null)&&a.append(u===!0?ev([C],M,d):u===null?C:C+"[]",g(A))}),!1}return yx(v)?!0:(a.append(ev(S,C,d),g(v)),!1)}const p=[],j=Object.assign(Zk,{defaultVisitor:y,convertValue:g,isVisitable:yx});function N(v,C){if(!G.isUndefined(v)){if(p.indexOf(v)!==-1)throw Error("Circular reference detected in "+C.join("."));p.push(v),G.forEach(v,function(_,E){(!(G.isUndefined(_)||_===null)&&o.call(a,_,G.isString(E)?E.trim():E,C,j))===!0&&N(_,C?C.concat(E):[E])}),p.pop()}}if(!G.isObject(t))throw new TypeError("data must be an object");return N(t),a}function tv(t){const a={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return a[r]})}function Wx(t,a){this._pairs=[],t&&lu(t,this,a)}const Cb=Wx.prototype;Cb.append=function(a,l){this._pairs.push([a,l])};Cb.toString=function(a){const l=a?function(r){return a.call(this,r,tv)}:tv;return this._pairs.map(function(o){return l(o[0])+"="+l(o[1])},"").join("&")};function Jk(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function kb(t,a,l){if(!a)return t;const r=l&&l.encode||Jk;G.isFunction(l)&&(l={serialize:l});const o=l&&l.serialize;let d;if(o?d=o(a,l):d=G.isURLSearchParams(a)?a.toString():new Wx(a,l).toString(r),d){const u=t.indexOf("#");u!==-1&&(t=t.slice(0,u)),t+=(t.indexOf("?")===-1?"?":"&")+d}return t}class sv{constructor(){this.handlers=[]}use(a,l,r){return this.handlers.push({fulfilled:a,rejected:l,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(a){this.handlers[a]&&(this.handlers[a]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(a){G.forEach(this.handlers,function(r){r!==null&&a(r)})}}const Ab={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},eA=typeof URLSearchParams<"u"?URLSearchParams:Wx,tA=typeof FormData<"u"?FormData:null,sA=typeof Blob<"u"?Blob:null,aA={isBrowser:!0,classes:{URLSearchParams:eA,FormData:tA,Blob:sA},protocols:["http","https","file","blob","url","data"]},Zx=typeof window<"u"&&typeof document<"u",vx=typeof navigator=="object"&&navigator||void 0,nA=Zx&&(!vx||["ReactNative","NativeScript","NS"].indexOf(vx.product)<0),lA=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",rA=Zx&&window.location.href||"http://localhost",iA=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Zx,hasStandardBrowserEnv:nA,hasStandardBrowserWebWorkerEnv:lA,navigator:vx,origin:rA},Symbol.toStringTag,{value:"Module"})),js={...iA,...aA};function oA(t,a){return lu(t,new js.classes.URLSearchParams,{visitor:function(l,r,o,d){return js.isNode&&G.isBuffer(l)?(this.append(r,l.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)},...a})}function cA(t){return G.matchAll(/\w+|\[(\w*)]/g,t).map(a=>a[0]==="[]"?"":a[1]||a[0])}function dA(t){const a={},l=Object.keys(t);let r;const o=l.length;let d;for(r=0;r<o;r++)d=l[r],a[d]=t[d];return a}function Mb(t){function a(l,r,o,d){let u=l[d++];if(u==="__proto__")return!0;const h=Number.isFinite(+u),x=d>=l.length;return u=!u&&G.isArray(o)?o.length:u,x?(G.hasOwnProp(o,u)?o[u]=[o[u],r]:o[u]=r,!h):((!o[u]||!G.isObject(o[u]))&&(o[u]=[]),a(l,r,o[u],d)&&G.isArray(o[u])&&(o[u]=dA(o[u])),!h)}if(G.isFormData(t)&&G.isFunction(t.entries)){const l={};return G.forEachEntry(t,(r,o)=>{a(cA(r),o,l,0)}),l}return null}function uA(t,a,l){if(G.isString(t))try{return(a||JSON.parse)(t),G.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(l||JSON.stringify)(t)}const Go={transitional:Ab,adapter:["xhr","http","fetch"],transformRequest:[function(a,l){const r=l.getContentType()||"",o=r.indexOf("application/json")>-1,d=G.isObject(a);if(d&&G.isHTMLForm(a)&&(a=new FormData(a)),G.isFormData(a))return o?JSON.stringify(Mb(a)):a;if(G.isArrayBuffer(a)||G.isBuffer(a)||G.isStream(a)||G.isFile(a)||G.isBlob(a)||G.isReadableStream(a))return a;if(G.isArrayBufferView(a))return a.buffer;if(G.isURLSearchParams(a))return l.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),a.toString();let h;if(d){if(r.indexOf("application/x-www-form-urlencoded")>-1)return oA(a,this.formSerializer).toString();if((h=G.isFileList(a))||r.indexOf("multipart/form-data")>-1){const x=this.env&&this.env.FormData;return lu(h?{"files[]":a}:a,x&&new x,this.formSerializer)}}return d||o?(l.setContentType("application/json",!1),uA(a)):a}],transformResponse:[function(a){const l=this.transitional||Go.transitional,r=l&&l.forcedJSONParsing,o=this.responseType==="json";if(G.isResponse(a)||G.isReadableStream(a))return a;if(a&&G.isString(a)&&(r&&!this.responseType||o)){const u=!(l&&l.silentJSONParsing)&&o;try{return JSON.parse(a,this.parseReviver)}catch(h){if(u)throw h.name==="SyntaxError"?Le.from(h,Le.ERR_BAD_RESPONSE,this,null,this.response):h}}return a}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:js.classes.FormData,Blob:js.classes.Blob},validateStatus:function(a){return a>=200&&a<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};G.forEach(["delete","get","head","post","put","patch"],t=>{Go.headers[t]={}});const mA=G.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),hA=t=>{const a={};let l,r,o;return t&&t.split(`
`).forEach(function(u){o=u.indexOf(":"),l=u.substring(0,o).trim().toLowerCase(),r=u.substring(o+1).trim(),!(!l||a[l]&&mA[l])&&(l==="set-cookie"?a[l]?a[l].push(r):a[l]=[r]:a[l]=a[l]?a[l]+", "+r:r)}),a},av=Symbol("internals");function yo(t){return t&&String(t).trim().toLowerCase()}function Dd(t){return t===!1||t==null?t:G.isArray(t)?t.map(Dd):String(t)}function xA(t){const a=Object.create(null),l=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=l.exec(t);)a[r[1]]=r[2];return a}const fA=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Bh(t,a,l,r,o){if(G.isFunction(r))return r.call(this,a,l);if(o&&(a=l),!!G.isString(a)){if(G.isString(r))return a.indexOf(r)!==-1;if(G.isRegExp(r))return r.test(a)}}function gA(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(a,l,r)=>l.toUpperCase()+r)}function pA(t,a){const l=G.toCamelCase(" "+a);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+l,{value:function(o,d,u){return this[r].call(this,a,o,d,u)},configurable:!0})})}let Bs=class{constructor(a){a&&this.set(a)}set(a,l,r){const o=this;function d(h,x,g){const y=yo(x);if(!y)throw new Error("header name must be a non-empty string");const p=G.findKey(o,y);(!p||o[p]===void 0||g===!0||g===void 0&&o[p]!==!1)&&(o[p||x]=Dd(h))}const u=(h,x)=>G.forEach(h,(g,y)=>d(g,y,x));if(G.isPlainObject(a)||a instanceof this.constructor)u(a,l);else if(G.isString(a)&&(a=a.trim())&&!fA(a))u(hA(a),l);else if(G.isObject(a)&&G.isIterable(a)){let h={},x,g;for(const y of a){if(!G.isArray(y))throw TypeError("Object iterator must return a key-value pair");h[g=y[0]]=(x=h[g])?G.isArray(x)?[...x,y[1]]:[x,y[1]]:y[1]}u(h,l)}else a!=null&&d(l,a,r);return this}get(a,l){if(a=yo(a),a){const r=G.findKey(this,a);if(r){const o=this[r];if(!l)return o;if(l===!0)return xA(o);if(G.isFunction(l))return l.call(this,o,r);if(G.isRegExp(l))return l.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(a,l){if(a=yo(a),a){const r=G.findKey(this,a);return!!(r&&this[r]!==void 0&&(!l||Bh(this,this[r],r,l)))}return!1}delete(a,l){const r=this;let o=!1;function d(u){if(u=yo(u),u){const h=G.findKey(r,u);h&&(!l||Bh(r,r[h],h,l))&&(delete r[h],o=!0)}}return G.isArray(a)?a.forEach(d):d(a),o}clear(a){const l=Object.keys(this);let r=l.length,o=!1;for(;r--;){const d=l[r];(!a||Bh(this,this[d],d,a,!0))&&(delete this[d],o=!0)}return o}normalize(a){const l=this,r={};return G.forEach(this,(o,d)=>{const u=G.findKey(r,d);if(u){l[u]=Dd(o),delete l[d];return}const h=a?gA(d):String(d).trim();h!==d&&delete l[d],l[h]=Dd(o),r[h]=!0}),this}concat(...a){return this.constructor.concat(this,...a)}toJSON(a){const l=Object.create(null);return G.forEach(this,(r,o)=>{r!=null&&r!==!1&&(l[o]=a&&G.isArray(r)?r.join(", "):r)}),l}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([a,l])=>a+": "+l).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(a){return a instanceof this?a:new this(a)}static concat(a,...l){const r=new this(a);return l.forEach(o=>r.set(o)),r}static accessor(a){const r=(this[av]=this[av]={accessors:{}}).accessors,o=this.prototype;function d(u){const h=yo(u);r[h]||(pA(o,u),r[h]=!0)}return G.isArray(a)?a.forEach(d):d(a),this}};Bs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);G.reduceDescriptors(Bs.prototype,({value:t},a)=>{let l=a[0].toUpperCase()+a.slice(1);return{get:()=>t,set(r){this[l]=r}}});G.freezeMethods(Bs);function $h(t,a){const l=this||Go,r=a||l,o=Bs.from(r.headers);let d=r.data;return G.forEach(t,function(h){d=h.call(l,d,o.normalize(),a?a.status:void 0)}),o.normalize(),d}function _b(t){return!!(t&&t.__CANCEL__)}function pi(t,a,l){Le.call(this,t??"canceled",Le.ERR_CANCELED,a,l),this.name="CanceledError"}G.inherits(pi,Le,{__CANCEL__:!0});function Tb(t,a,l){const r=l.config.validateStatus;!l.status||!r||r(l.status)?t(l):a(new Le("Request failed with status code "+l.status,[Le.ERR_BAD_REQUEST,Le.ERR_BAD_RESPONSE][Math.floor(l.status/100)-4],l.config,l.request,l))}function yA(t){const a=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return a&&a[1]||""}function vA(t,a){t=t||10;const l=new Array(t),r=new Array(t);let o=0,d=0,u;return a=a!==void 0?a:1e3,function(x){const g=Date.now(),y=r[d];u||(u=g),l[o]=x,r[o]=g;let p=d,j=0;for(;p!==o;)j+=l[p++],p=p%t;if(o=(o+1)%t,o===d&&(d=(d+1)%t),g-u<a)return;const N=y&&g-y;return N?Math.round(j*1e3/N):void 0}}function jA(t,a){let l=0,r=1e3/a,o,d;const u=(g,y=Date.now())=>{l=y,o=null,d&&(clearTimeout(d),d=null),t(...g)};return[(...g)=>{const y=Date.now(),p=y-l;p>=r?u(g,y):(o=g,d||(d=setTimeout(()=>{d=null,u(o)},r-p)))},()=>o&&u(o)]}const Gd=(t,a,l=3)=>{let r=0;const o=vA(50,250);return jA(d=>{const u=d.loaded,h=d.lengthComputable?d.total:void 0,x=u-r,g=o(x),y=u<=h;r=u;const p={loaded:u,total:h,progress:h?u/h:void 0,bytes:x,rate:g||void 0,estimated:g&&h&&y?(h-u)/g:void 0,event:d,lengthComputable:h!=null,[a?"download":"upload"]:!0};t(p)},l)},nv=(t,a)=>{const l=t!=null;return[r=>a[0]({lengthComputable:l,total:t,loaded:r}),a[1]]},lv=t=>(...a)=>G.asap(()=>t(...a)),bA=js.hasStandardBrowserEnv?((t,a)=>l=>(l=new URL(l,js.origin),t.protocol===l.protocol&&t.host===l.host&&(a||t.port===l.port)))(new URL(js.origin),js.navigator&&/(msie|trident)/i.test(js.navigator.userAgent)):()=>!0,NA=js.hasStandardBrowserEnv?{write(t,a,l,r,o,d,u){if(typeof document>"u")return;const h=[`${t}=${encodeURIComponent(a)}`];G.isNumber(l)&&h.push(`expires=${new Date(l).toUTCString()}`),G.isString(r)&&h.push(`path=${r}`),G.isString(o)&&h.push(`domain=${o}`),d===!0&&h.push("secure"),G.isString(u)&&h.push(`SameSite=${u}`),document.cookie=h.join("; ")},read(t){if(typeof document>"u")return null;const a=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return a?decodeURIComponent(a[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function wA(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function SA(t,a){return a?t.replace(/\/?\/$/,"")+"/"+a.replace(/^\/+/,""):t}function Rb(t,a,l){let r=!wA(a);return t&&(r||l==!1)?SA(t,a):a}const rv=t=>t instanceof Bs?{...t}:t;function Zl(t,a){a=a||{};const l={};function r(g,y,p,j){return G.isPlainObject(g)&&G.isPlainObject(y)?G.merge.call({caseless:j},g,y):G.isPlainObject(y)?G.merge({},y):G.isArray(y)?y.slice():y}function o(g,y,p,j){if(G.isUndefined(y)){if(!G.isUndefined(g))return r(void 0,g,p,j)}else return r(g,y,p,j)}function d(g,y){if(!G.isUndefined(y))return r(void 0,y)}function u(g,y){if(G.isUndefined(y)){if(!G.isUndefined(g))return r(void 0,g)}else return r(void 0,y)}function h(g,y,p){if(p in a)return r(g,y);if(p in t)return r(void 0,g)}const x={url:d,method:d,data:d,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:h,headers:(g,y,p)=>o(rv(g),rv(y),p,!0)};return G.forEach(Object.keys({...t,...a}),function(y){const p=x[y]||o,j=p(t[y],a[y],y);G.isUndefined(j)&&p!==h||(l[y]=j)}),l}const Db=t=>{const a=Zl({},t);let{data:l,withXSRFToken:r,xsrfHeaderName:o,xsrfCookieName:d,headers:u,auth:h}=a;if(a.headers=u=Bs.from(u),a.url=kb(Rb(a.baseURL,a.url,a.allowAbsoluteUrls),t.params,t.paramsSerializer),h&&u.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):""))),G.isFormData(l)){if(js.hasStandardBrowserEnv||js.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if(G.isFunction(l.getHeaders)){const x=l.getHeaders(),g=["content-type","content-length"];Object.entries(x).forEach(([y,p])=>{g.includes(y.toLowerCase())&&u.set(y,p)})}}if(js.hasStandardBrowserEnv&&(r&&G.isFunction(r)&&(r=r(a)),r||r!==!1&&bA(a.url))){const x=o&&d&&NA.read(d);x&&u.set(o,x)}return a},CA=typeof XMLHttpRequest<"u",kA=CA&&function(t){return new Promise(function(l,r){const o=Db(t);let d=o.data;const u=Bs.from(o.headers).normalize();let{responseType:h,onUploadProgress:x,onDownloadProgress:g}=o,y,p,j,N,v;function C(){N&&N(),v&&v(),o.cancelToken&&o.cancelToken.unsubscribe(y),o.signal&&o.signal.removeEventListener("abort",y)}let S=new XMLHttpRequest;S.open(o.method.toUpperCase(),o.url,!0),S.timeout=o.timeout;function _(){if(!S)return;const A=Bs.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),H={data:!h||h==="text"||h==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:A,config:t,request:S};Tb(function(W){l(W),C()},function(W){r(W),C()},H),S=null}"onloadend"in S?S.onloadend=_:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(_)},S.onabort=function(){S&&(r(new Le("Request aborted",Le.ECONNABORTED,t,S)),S=null)},S.onerror=function(M){const H=M&&M.message?M.message:"Network Error",I=new Le(H,Le.ERR_NETWORK,t,S);I.event=M||null,r(I),S=null},S.ontimeout=function(){let M=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const H=o.transitional||Ab;o.timeoutErrorMessage&&(M=o.timeoutErrorMessage),r(new Le(M,H.clarifyTimeoutError?Le.ETIMEDOUT:Le.ECONNABORTED,t,S)),S=null},d===void 0&&u.setContentType(null),"setRequestHeader"in S&&G.forEach(u.toJSON(),function(M,H){S.setRequestHeader(H,M)}),G.isUndefined(o.withCredentials)||(S.withCredentials=!!o.withCredentials),h&&h!=="json"&&(S.responseType=o.responseType),g&&([j,v]=Gd(g,!0),S.addEventListener("progress",j)),x&&S.upload&&([p,N]=Gd(x),S.upload.addEventListener("progress",p),S.upload.addEventListener("loadend",N)),(o.cancelToken||o.signal)&&(y=A=>{S&&(r(!A||A.type?new pi(null,t,S):A),S.abort(),S=null)},o.cancelToken&&o.cancelToken.subscribe(y),o.signal&&(o.signal.aborted?y():o.signal.addEventListener("abort",y)));const E=yA(o.url);if(E&&js.protocols.indexOf(E)===-1){r(new Le("Unsupported protocol "+E+":",Le.ERR_BAD_REQUEST,t));return}S.send(d||null)})},AA=(t,a)=>{const{length:l}=t=t?t.filter(Boolean):[];if(a||l){let r=new AbortController,o;const d=function(g){if(!o){o=!0,h();const y=g instanceof Error?g:this.reason;r.abort(y instanceof Le?y:new pi(y instanceof Error?y.message:y))}};let u=a&&setTimeout(()=>{u=null,d(new Le(`timeout ${a} of ms exceeded`,Le.ETIMEDOUT))},a);const h=()=>{t&&(u&&clearTimeout(u),u=null,t.forEach(g=>{g.unsubscribe?g.unsubscribe(d):g.removeEventListener("abort",d)}),t=null)};t.forEach(g=>g.addEventListener("abort",d));const{signal:x}=r;return x.unsubscribe=()=>G.asap(h),x}},MA=function*(t,a){let l=t.byteLength;if(l<a){yield t;return}let r=0,o;for(;r<l;)o=r+a,yield t.slice(r,o),r=o},_A=async function*(t,a){for await(const l of TA(t))yield*MA(l,a)},TA=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const a=t.getReader();try{for(;;){const{done:l,value:r}=await a.read();if(l)break;yield r}}finally{await a.cancel()}},iv=(t,a,l,r)=>{const o=_A(t,a);let d=0,u,h=x=>{u||(u=!0,r&&r(x))};return new ReadableStream({async pull(x){try{const{done:g,value:y}=await o.next();if(g){h(),x.close();return}let p=y.byteLength;if(l){let j=d+=p;l(j)}x.enqueue(new Uint8Array(y))}catch(g){throw h(g),g}},cancel(x){return h(x),o.return()}},{highWaterMark:2})},ov=64*1024,{isFunction:yd}=G,RA=(({Request:t,Response:a})=>({Request:t,Response:a}))(G.global),{ReadableStream:cv,TextEncoder:dv}=G.global,uv=(t,...a)=>{try{return!!t(...a)}catch{return!1}},DA=t=>{t=G.merge.call({skipUndefined:!0},RA,t);const{fetch:a,Request:l,Response:r}=t,o=a?yd(a):typeof fetch=="function",d=yd(l),u=yd(r);if(!o)return!1;const h=o&&yd(cv),x=o&&(typeof dv=="function"?(v=>C=>v.encode(C))(new dv):async v=>new Uint8Array(await new l(v).arrayBuffer())),g=d&&h&&uv(()=>{let v=!1;const C=new l(js.origin,{body:new cv,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!C}),y=u&&h&&uv(()=>G.isReadableStream(new r("").body)),p={stream:y&&(v=>v.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!p[v]&&(p[v]=(C,S)=>{let _=C&&C[v];if(_)return _.call(C);throw new Le(`Response type '${v}' is not supported`,Le.ERR_NOT_SUPPORT,S)})});const j=async v=>{if(v==null)return 0;if(G.isBlob(v))return v.size;if(G.isSpecCompliantForm(v))return(await new l(js.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(G.isArrayBufferView(v)||G.isArrayBuffer(v))return v.byteLength;if(G.isURLSearchParams(v)&&(v=v+""),G.isString(v))return(await x(v)).byteLength},N=async(v,C)=>{const S=G.toFiniteNumber(v.getContentLength());return S??j(C)};return async v=>{let{url:C,method:S,data:_,signal:E,cancelToken:A,timeout:M,onDownloadProgress:H,onUploadProgress:I,responseType:W,headers:Q,withCredentials:K="same-origin",fetchOptions:q}=Db(v),$=a||fetch;W=W?(W+"").toLowerCase():"text";let re=AA([E,A&&A.toAbortSignal()],M),le=null;const xe=re&&re.unsubscribe&&(()=>{re.unsubscribe()});let me;try{if(I&&g&&S!=="get"&&S!=="head"&&(me=await N(Q,_))!==0){let fe=new l(C,{method:"POST",body:_,duplex:"half"}),Te;if(G.isFormData(_)&&(Te=fe.headers.get("content-type"))&&Q.setContentType(Te),fe.body){const[ne,ge]=nv(me,Gd(lv(I)));_=iv(fe.body,ov,ne,ge)}}G.isString(K)||(K=K?"include":"omit");const D=d&&"credentials"in l.prototype,X={...q,signal:re,method:S.toUpperCase(),headers:Q.normalize().toJSON(),body:_,duplex:"half",credentials:D?K:void 0};le=d&&new l(C,X);let Z=await(d?$(le,q):$(C,X));const be=y&&(W==="stream"||W==="response");if(y&&(H||be&&xe)){const fe={};["status","statusText","headers"].forEach(Oe=>{fe[Oe]=Z[Oe]});const Te=G.toFiniteNumber(Z.headers.get("content-length")),[ne,ge]=H&&nv(Te,Gd(lv(H),!0))||[];Z=new r(iv(Z.body,ov,ne,()=>{ge&&ge(),xe&&xe()}),fe)}W=W||"text";let ye=await p[G.findKey(p,W)||"text"](Z,v);return!be&&xe&&xe(),await new Promise((fe,Te)=>{Tb(fe,Te,{data:ye,headers:Bs.from(Z.headers),status:Z.status,statusText:Z.statusText,config:v,request:le})})}catch(D){throw xe&&xe(),D&&D.name==="TypeError"&&/Load failed|fetch/i.test(D.message)?Object.assign(new Le("Network Error",Le.ERR_NETWORK,v,le),{cause:D.cause||D}):Le.from(D,D&&D.code,v,le)}}},EA=new Map,Eb=t=>{let a=t&&t.env||{};const{fetch:l,Request:r,Response:o}=a,d=[r,o,l];let u=d.length,h=u,x,g,y=EA;for(;h--;)x=d[h],g=y.get(x),g===void 0&&y.set(x,g=h?new Map:DA(a)),y=g;return g};Eb();const Jx={http:Xk,xhr:kA,fetch:{get:Eb}};G.forEach(Jx,(t,a)=>{if(t){try{Object.defineProperty(t,"name",{value:a})}catch{}Object.defineProperty(t,"adapterName",{value:a})}});const mv=t=>`- ${t}`,OA=t=>G.isFunction(t)||t===null||t===!1;function zA(t,a){t=G.isArray(t)?t:[t];const{length:l}=t;let r,o;const d={};for(let u=0;u<l;u++){r=t[u];let h;if(o=r,!OA(r)&&(o=Jx[(h=String(r)).toLowerCase()],o===void 0))throw new Le(`Unknown adapter '${h}'`);if(o&&(G.isFunction(o)||(o=o.get(a))))break;d[h||"#"+u]=o}if(!o){const u=Object.entries(d).map(([x,g])=>`adapter ${x} `+(g===!1?"is not supported by the environment":"is not available in the build"));let h=l?u.length>1?`since :
`+u.map(mv).join(`
`):" "+mv(u[0]):"as no adapter specified";throw new Le("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return o}const Ob={getAdapter:zA,adapters:Jx};function Kh(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new pi(null,t)}function hv(t){return Kh(t),t.headers=Bs.from(t.headers),t.data=$h.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Ob.getAdapter(t.adapter||Go.adapter,t)(t).then(function(r){return Kh(t),r.data=$h.call(t,t.transformResponse,r),r.headers=Bs.from(r.headers),r},function(r){return _b(r)||(Kh(t),r&&r.response&&(r.response.data=$h.call(t,t.transformResponse,r.response),r.response.headers=Bs.from(r.response.headers))),Promise.reject(r)})}const zb="1.13.2",ru={};["object","boolean","number","function","string","symbol"].forEach((t,a)=>{ru[t]=function(r){return typeof r===t||"a"+(a<1?"n ":" ")+t}});const xv={};ru.transitional=function(a,l,r){function o(d,u){return"[Axios v"+zb+"] Transitional option '"+d+"'"+u+(r?". "+r:"")}return(d,u,h)=>{if(a===!1)throw new Le(o(u," has been removed"+(l?" in "+l:"")),Le.ERR_DEPRECATED);return l&&!xv[u]&&(xv[u]=!0,console.warn(o(u," has been deprecated since v"+l+" and will be removed in the near future"))),a?a(d,u,h):!0}};ru.spelling=function(a){return(l,r)=>(console.warn(`${r} is likely a misspelling of ${a}`),!0)};function LA(t,a,l){if(typeof t!="object")throw new Le("options must be an object",Le.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let o=r.length;for(;o-- >0;){const d=r[o],u=a[d];if(u){const h=t[d],x=h===void 0||u(h,d,t);if(x!==!0)throw new Le("option "+d+" must be "+x,Le.ERR_BAD_OPTION_VALUE);continue}if(l!==!0)throw new Le("Unknown option "+d,Le.ERR_BAD_OPTION)}}const Ed={assertOptions:LA,validators:ru},$a=Ed.validators;let Kl=class{constructor(a){this.defaults=a||{},this.interceptors={request:new sv,response:new sv}}async request(a,l){try{return await this._request(a,l)}catch(r){if(r instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const d=o.stack?o.stack.replace(/^.+\n/,""):"";try{r.stack?d&&!String(r.stack).endsWith(d.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+d):r.stack=d}catch{}}throw r}}_request(a,l){typeof a=="string"?(l=l||{},l.url=a):l=a||{},l=Zl(this.defaults,l);const{transitional:r,paramsSerializer:o,headers:d}=l;r!==void 0&&Ed.assertOptions(r,{silentJSONParsing:$a.transitional($a.boolean),forcedJSONParsing:$a.transitional($a.boolean),clarifyTimeoutError:$a.transitional($a.boolean)},!1),o!=null&&(G.isFunction(o)?l.paramsSerializer={serialize:o}:Ed.assertOptions(o,{encode:$a.function,serialize:$a.function},!0)),l.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?l.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:l.allowAbsoluteUrls=!0),Ed.assertOptions(l,{baseUrl:$a.spelling("baseURL"),withXsrfToken:$a.spelling("withXSRFToken")},!0),l.method=(l.method||this.defaults.method||"get").toLowerCase();let u=d&&G.merge(d.common,d[l.method]);d&&G.forEach(["delete","get","head","post","put","patch","common"],v=>{delete d[v]}),l.headers=Bs.concat(u,d);const h=[];let x=!0;this.interceptors.request.forEach(function(C){typeof C.runWhen=="function"&&C.runWhen(l)===!1||(x=x&&C.synchronous,h.unshift(C.fulfilled,C.rejected))});const g=[];this.interceptors.response.forEach(function(C){g.push(C.fulfilled,C.rejected)});let y,p=0,j;if(!x){const v=[hv.bind(this),void 0];for(v.unshift(...h),v.push(...g),j=v.length,y=Promise.resolve(l);p<j;)y=y.then(v[p++],v[p++]);return y}j=h.length;let N=l;for(;p<j;){const v=h[p++],C=h[p++];try{N=v(N)}catch(S){C.call(this,S);break}}try{y=hv.call(this,N)}catch(v){return Promise.reject(v)}for(p=0,j=g.length;p<j;)y=y.then(g[p++],g[p++]);return y}getUri(a){a=Zl(this.defaults,a);const l=Rb(a.baseURL,a.url,a.allowAbsoluteUrls);return kb(l,a.params,a.paramsSerializer)}};G.forEach(["delete","get","head","options"],function(a){Kl.prototype[a]=function(l,r){return this.request(Zl(r||{},{method:a,url:l,data:(r||{}).data}))}});G.forEach(["post","put","patch"],function(a){function l(r){return function(d,u,h){return this.request(Zl(h||{},{method:a,headers:r?{"Content-Type":"multipart/form-data"}:{},url:d,data:u}))}}Kl.prototype[a]=l(),Kl.prototype[a+"Form"]=l(!0)});let qA=class Lb{constructor(a){if(typeof a!="function")throw new TypeError("executor must be a function.");let l;this.promise=new Promise(function(d){l=d});const r=this;this.promise.then(o=>{if(!r._listeners)return;let d=r._listeners.length;for(;d-- >0;)r._listeners[d](o);r._listeners=null}),this.promise.then=o=>{let d;const u=new Promise(h=>{r.subscribe(h),d=h}).then(o);return u.cancel=function(){r.unsubscribe(d)},u},a(function(d,u,h){r.reason||(r.reason=new pi(d,u,h),l(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(a){if(this.reason){a(this.reason);return}this._listeners?this._listeners.push(a):this._listeners=[a]}unsubscribe(a){if(!this._listeners)return;const l=this._listeners.indexOf(a);l!==-1&&this._listeners.splice(l,1)}toAbortSignal(){const a=new AbortController,l=r=>{a.abort(r)};return this.subscribe(l),a.signal.unsubscribe=()=>this.unsubscribe(l),a.signal}static source(){let a;return{token:new Lb(function(o){a=o}),cancel:a}}};function FA(t){return function(l){return t.apply(null,l)}}function PA(t){return G.isObject(t)&&t.isAxiosError===!0}const jx={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(jx).forEach(([t,a])=>{jx[a]=t});function qb(t){const a=new Kl(t),l=xb(Kl.prototype.request,a);return G.extend(l,Kl.prototype,a,{allOwnKeys:!0}),G.extend(l,a,null,{allOwnKeys:!0}),l.create=function(o){return qb(Zl(t,o))},l}const bt=qb(Go);bt.Axios=Kl;bt.CanceledError=pi;bt.CancelToken=qA;bt.isCancel=_b;bt.VERSION=zb;bt.toFormData=lu;bt.AxiosError=Le;bt.Cancel=bt.CanceledError;bt.all=function(a){return Promise.all(a)};bt.spread=FA;bt.isAxiosError=PA;bt.mergeConfig=Zl;bt.AxiosHeaders=Bs;bt.formToJSON=t=>Mb(G.isHTMLForm(t)?new FormData(t):t);bt.getAdapter=Ob.getAdapter;bt.HttpStatusCode=jx;bt.default=bt;const{Axios:DO,AxiosError:EO,CanceledError:OO,isCancel:zO,CancelToken:LO,VERSION:qO,all:FO,Cancel:PO,isAxiosError:UO,spread:IO,toFormData:VO,AxiosHeaders:HO,HttpStatusCode:BO,formToJSON:$O,getAdapter:KO,mergeConfig:QO}=bt,ef="notifications",iu=bt.create({timeout:3e4,headers:{"Content-Type":"application/json"}});iu.interceptors.request.use(t=>{const a=localStorage.getItem("tenant_id")||"demo-tenant";return t.headers["X-Tenant-ID"]=a,t});function UA(t){const a=t?.limit;return Se({queryKey:[ef,{limit:a}],queryFn:()=>iu.get("/v1/notifications",{params:{limit:a}}).then(l=>l.data),staleTime:3e4,refetchInterval:6e4})}function IA(){return Se({queryKey:[ef,"unread-count"],queryFn:()=>iu.get("/v1/notifications/unread-count").then(t=>t.data),staleTime:3e4,refetchInterval:3e4})}function VA(){const t=_e();return Re({mutationFn:a=>iu.post("/v1/notifications/mark-read",{ids:a}).then(l=>l.data),onSuccess:()=>{t.invalidateQueries({queryKey:[ef]})}})}function HA(){const[t,a]=b.useState(!1),l=La(),{data:r,isLoading:o,refetch:d}=UA({limit:20}),{data:u}=IA(),h=VA(),x=r?.items??[],g=u?.count??0,y=j=>{switch(j.type){case"incident":l(`/incidents/${j.target}`);break;case"work_order":l(`/work-orders/${j.target}`);break;case"project":l(`/projects/${j.target}`);break;case"service_shop":l(`/service-shops/${j.target}`);break}a(!1)},p=()=>{h.mutate("all")};return e.jsx(Yx,{open:t,onClose:()=>a(!1),align:"end",trigger:e.jsxs(T,{variant:"ghost",size:"icon",onClick:()=>a(!t),className:"relative",children:[e.jsx(wn,{className:"h-5 w-5"}),g>0&&e.jsx("span",{className:"absolute -top-1 -right-1 flex h-5 w-5 items-center justify-center rounded-full bg-red-500 text-[10px] font-medium text-white",children:g>99?"99+":g})]}),children:e.jsxs("div",{className:"w-[380px] max-h-[480px] flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-100",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Notifications"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(T,{variant:"ghost",size:"sm",onClick:()=>d(),disabled:o,className:"h-8 px-2",children:e.jsx(ls,{className:z("h-4 w-4",o&&"animate-spin")})}),g>0&&e.jsxs(T,{variant:"ghost",size:"sm",onClick:p,className:"h-8 text-xs",children:[e.jsx(ga,{className:"h-3 w-3 mr-1"}),"Mark all read"]})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:o?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(ls,{className:"h-5 w-5 animate-spin text-gray-400"})}):x.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-gray-500",children:[e.jsx(wn,{className:"h-8 w-8 mb-2 text-gray-300"}),e.jsx("p",{className:"text-sm",children:"No notifications yet"})]}):e.jsx("div",{className:"divide-y divide-gray-100",children:x.map(j=>e.jsx(dk,{notification:j,onClick:()=>y(j)},j.id))})}),x.length>0&&e.jsx("div",{className:"px-4 py-2 border-t border-gray-100",children:e.jsx(T,{variant:"ghost",size:"sm",className:"w-full text-xs text-gray-500 hover:text-gray-700",onClick:()=>{l("/audit-logs"),a(!1)},children:"View all activity"})})]})})}const Qh={sm:"h-8 w-8 text-xs",md:"h-10 w-10 text-sm",lg:"h-12 w-12 text-base",xl:"h-16 w-16 text-lg"},BA={sm:"h-4 w-4",md:"h-5 w-5",lg:"h-6 w-6",xl:"h-8 w-8"};function $A(t){if(!t)return"";const a=t.trim().split(/\s+/);return a.length===1?a[0].substring(0,2).toUpperCase():(a[0][0]+a[a.length-1][0]).toUpperCase()}function KA(t){if(!t)return"bg-gradient-to-br from-gray-400 to-gray-500";const a=["bg-gradient-to-br from-cyan-500 to-teal-600","bg-gradient-to-br from-blue-500 to-indigo-600","bg-gradient-to-br from-purple-500 to-pink-600","bg-gradient-to-br from-emerald-500 to-green-600","bg-gradient-to-br from-amber-500 to-orange-600","bg-gradient-to-br from-rose-500 to-red-600","bg-gradient-to-br from-indigo-500 to-purple-600","bg-gradient-to-br from-teal-500 to-cyan-600"];let l=0;for(let r=0;r<t.length;r++)l=t.charCodeAt(r)+((l<<5)-l);return a[Math.abs(l)%a.length]}function Yd({src:t,alt:a,fallback:l,size:r="md",className:o}){const d=$A(l||a),u=KA(l||a);return t?e.jsx("img",{src:t,alt:a||"User avatar",className:z("rounded-full object-cover ring-2 ring-white",Qh[r],o),onError:h=>{h.currentTarget.style.display="none",h.currentTarget.nextElementSibling?.classList.remove("hidden")}}):d?e.jsx("div",{className:z("flex items-center justify-center rounded-full font-medium text-white ring-2 ring-white",Qh[r],u,o),title:a,children:d}):e.jsx("div",{className:z("flex items-center justify-center rounded-full bg-gradient-to-br from-cyan-100 to-teal-100 text-cyan-600 ring-2 ring-white shadow-sm",Qh[r],o),title:a,children:e.jsx(Pt,{className:BA[r]})})}const F=b.forwardRef(({className:t,...a},l)=>e.jsx("div",{ref:l,className:z("rounded-xl border border-gray-100 bg-white text-gray-950 shadow-sm transition-shadow hover:shadow-md",t),...a}));F.displayName="Card";const ie=b.forwardRef(({className:t,...a},l)=>e.jsx("div",{ref:l,className:z("flex flex-col space-y-1.5 p-6",t),...a}));ie.displayName="CardHeader";const oe=b.forwardRef(({className:t,...a},l)=>e.jsx("div",{ref:l,className:z("text-lg font-semibold leading-none tracking-tight text-gray-900",t),...a}));oe.displayName="CardTitle";const fs=b.forwardRef(({className:t,...a},l)=>e.jsx("div",{ref:l,className:z("text-sm text-gray-500",t),...a}));fs.displayName="CardDescription";const P=b.forwardRef(({className:t,...a},l)=>e.jsx("div",{ref:l,className:z("p-6 pt-0",t),...a}));P.displayName="CardContent";const QA=b.forwardRef(({className:t,...a},l)=>e.jsx("div",{ref:l,className:z("flex items-center p-6 pt-0",t),...a}));QA.displayName="CardFooter";const GA=Xj("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-cyan-100 text-cyan-800",secondary:"border-transparent bg-gray-100 text-gray-700",destructive:"border-transparent bg-red-100 text-red-700",success:"border-transparent bg-emerald-100 text-emerald-700",warning:"border-transparent bg-amber-100 text-amber-700",info:"border-transparent bg-blue-100 text-blue-700",purple:"border-transparent bg-purple-100 text-purple-700",orange:"border-transparent bg-orange-100 text-orange-700",outline:"text-gray-600 border-gray-300 bg-white"}},defaultVariants:{variant:"default"}});function ee({className:t,variant:a,...l}){return e.jsx("div",{className:z(GA({variant:a}),t),...l})}const YA={ssp_admin:{label:"Administrator",variant:"default",color:"from-cyan-500 to-teal-500"},ssp_operator:{label:"Operator",variant:"secondary",color:"from-blue-500 to-indigo-500"},ssp_viewer:{label:"Viewer",variant:"outline",color:"from-gray-400 to-gray-500"}};function XA(t){return t?new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Never"}function WA({profile:t,compact:a=!1}){return a?e.jsxs("div",{className:"flex items-center gap-3 p-3",children:[e.jsx(Yd,{src:t.avatarUrl,fallback:t.displayName,size:"md"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"truncate text-sm font-medium text-gray-900",children:t.displayName}),e.jsx("p",{className:"truncate text-xs text-gray-500",children:t.email||t.username})]})]}):e.jsxs(F,{className:"overflow-hidden border-0 shadow-md",children:[e.jsx("div",{className:"h-20 bg-gradient-to-r from-cyan-500 via-teal-500 to-cyan-600 relative",children:e.jsxs("div",{className:"absolute inset-0 opacity-20",children:[e.jsx("div",{className:"absolute top-2 right-8 w-16 h-16 rounded-full bg-white blur-2xl"}),e.jsx("div",{className:"absolute bottom-0 left-12 w-24 h-12 rounded-full bg-teal-300 blur-xl"})]})}),e.jsxs(ie,{className:"pb-4 -mt-10 relative",children:[e.jsxs("div",{className:"flex items-end gap-4",children:[e.jsx("div",{className:"rounded-full bg-white p-1 shadow-lg",children:e.jsx(Yd,{src:t.avatarUrl,fallback:t.displayName,size:"xl"})}),e.jsxs("div",{className:"flex-1 space-y-1 pb-1",children:[e.jsx(oe,{className:"text-xl",children:t.displayName}),e.jsxs("p",{className:"text-sm text-gray-500",children:["@",t.username]})]})]}),e.jsx("div",{className:"flex flex-wrap gap-1.5 pt-3",children:t.roles.map(l=>{const r=YA[l]||{label:l,variant:"outline"};return e.jsxs(ee,{variant:r.variant,className:"shadow-sm",children:[e.jsx(pa,{className:"mr-1 h-3 w-3"}),r.label]},l)})})]}),e.jsxs(P,{className:"space-y-3",children:[t.email&&e.jsxs("div",{className:"flex items-center gap-3 text-sm rounded-lg bg-gray-50 p-3",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-cyan-100",children:e.jsx(Vx,{className:"h-4 w-4 text-cyan-600"})}),e.jsx("span",{className:"text-gray-700 flex-1",children:t.email}),t.emailVerified&&e.jsxs("span",{title:"Verified",className:"flex items-center gap-1 text-xs text-emerald-600",children:[e.jsx(xl,{className:"h-4 w-4"}),"Verified"]})]}),t.organization&&e.jsxs("div",{className:"flex items-center gap-3 text-sm rounded-lg bg-gray-50 p-3",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-purple-100",children:e.jsx(si,{className:"h-4 w-4 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-900 font-medium",children:t.organization.displayName||t.organization.name}),t.organization.type&&e.jsxs("span",{className:"ml-2 text-gray-500 text-xs",children:["(",t.organization.type,")"]})]})]}),t.lastLoginAt&&e.jsxs("div",{className:"flex items-center gap-3 text-sm rounded-lg bg-gray-50 p-3",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-amber-100",children:e.jsx(it,{className:"h-4 w-4 text-amber-600"})}),e.jsxs("span",{className:"text-gray-600",children:["Last login: ",e.jsx("span",{className:"text-gray-900",children:XA(t.lastLoginAt)})]})]}),t.ssoProvider&&e.jsx("div",{className:"mt-2 rounded-lg bg-gradient-to-r from-cyan-50 to-teal-50 border border-cyan-100 p-3",children:e.jsxs("p",{className:"text-xs text-cyan-700",children:["Signed in via ",e.jsx("span",{className:"font-semibold",children:t.ssoProvider})]})})]})]})}function ZA(t){const a={};for(const l of t){const[r,o]=l.split(":");a[r]||(a[r]=[]),a[r].push(o)}return a}const JA={incident:"Incidents",workorder:"Work Orders",program:"Programs",school:"Schools",device:"Devices",serviceshop:"Service Shops",inventory:"Inventory",audit:"Audit Logs",settings:"Settings",user:"Users"},eM={read:{color:"text-cyan-700",bg:"bg-cyan-100",icon:Io},create:{color:"text-emerald-700",bg:"bg-emerald-100",icon:Tt},update:{color:"text-amber-700",bg:"bg-amber-100",icon:sr},delete:{color:"text-red-700",bg:"bg-red-100",icon:fl}};function tM({permissions:t}){const a=ZA(t),l=Object.keys(a).sort();return t.length===0?e.jsx(F,{className:"border-0 shadow-md",children:e.jsxs(ie,{children:[e.jsxs(oe,{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-gradient-to-br from-cyan-500 to-teal-600",children:e.jsx(pa,{className:"h-4 w-4 text-white"})}),"Permissions"]}),e.jsx(fs,{children:"No specific permissions assigned"})]})}):e.jsxs(F,{className:"border-0 shadow-md",children:[e.jsxs(ie,{className:"pb-3",children:[e.jsxs(oe,{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-gradient-to-br from-cyan-500 to-teal-600",children:e.jsx(pa,{className:"h-4 w-4 text-white"})}),"Permissions"]}),e.jsx(fs,{children:"Access rights based on your role"})]}),e.jsx(P,{children:e.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:l.map(r=>e.jsxs("div",{className:"rounded-xl border border-gray-100 bg-gradient-to-br from-gray-50 to-white p-4 hover:shadow-sm transition-shadow",children:[e.jsx("h4",{className:"mb-3 text-sm font-semibold text-gray-900",children:JA[r]||r}),e.jsx("div",{className:"flex flex-wrap gap-1.5",children:a[r].map(o=>{const d=eM[o]||{color:"text-gray-600",bg:"bg-gray-100",icon:ga},u=d.icon;return e.jsxs("span",{className:`inline-flex items-center gap-1 rounded-lg px-2 py-1 text-xs font-medium ${d.bg} ${d.color}`,children:[e.jsx(u,{className:"h-3 w-3"}),o]},o)})})]},r))})})]})}const sM={light:e.jsx(Bx,{className:"h-4 w-4 text-amber-500"}),dark:e.jsx(Hx,{className:"h-4 w-4 text-indigo-500"}),system:e.jsx(li,{className:"h-4 w-4 text-gray-500"})};function aM({preferences:t,onEdit:a}){const l=t?.theme||"light",r=t?.language||"en",o=t?.timezone||"America/New_York",d=t?.notifications;return e.jsxs(F,{className:"border-0 shadow-md",children:[e.jsx(ie,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(oe,{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-gradient-to-br from-purple-500 to-indigo-600",children:e.jsx(rl,{className:"h-4 w-4 text-white"})}),"Preferences"]}),e.jsx(fs,{children:"Your dashboard preferences"})]}),a&&e.jsx(T,{variant:"outline",size:"sm",onClick:a,children:"Edit"})]})}),e.jsxs(P,{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between rounded-xl bg-gradient-to-r from-amber-50 to-orange-50 border border-amber-100 p-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-white shadow-sm",children:sM[l]}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Theme"})]}),e.jsx("span",{className:"text-sm font-semibold text-gray-900 capitalize bg-white px-2 py-0.5 rounded-md shadow-sm",children:l})]}),e.jsxs("div",{className:"flex items-center justify-between rounded-xl bg-gradient-to-r from-blue-50 to-cyan-50 border border-blue-100 p-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-white shadow-sm",children:e.jsx(Pj,{className:"h-4 w-4 text-blue-500"})}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Language"})]}),e.jsx("span",{className:"text-sm font-semibold text-gray-900 bg-white px-2 py-0.5 rounded-md shadow-sm",children:r==="en"?"English":r==="es"?"Spanish":r})]}),e.jsxs("div",{className:"flex items-center justify-between rounded-xl bg-gradient-to-r from-emerald-50 to-teal-50 border border-emerald-100 p-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-white shadow-sm",children:e.jsx(it,{className:"h-4 w-4 text-emerald-500"})}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Timezone"})]}),e.jsx("span",{className:"text-sm font-semibold text-gray-900 bg-white px-2 py-0.5 rounded-md shadow-sm text-xs",children:o})]}),d&&e.jsxs("div",{className:"rounded-xl bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-100 p-3 space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-white shadow-sm",children:e.jsx(wn,{className:"h-4 w-4 text-purple-500"})}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Notifications"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs bg-white rounded-lg p-2 shadow-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Email"}),d.emailEnabled?e.jsxs("span",{className:"flex items-center gap-1 text-emerald-600",children:[e.jsx(ga,{className:"h-3 w-3"})," On"]}):e.jsxs("span",{className:"flex items-center gap-1 text-gray-400",children:[e.jsx(Et,{className:"h-3 w-3"})," Off"]})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs bg-white rounded-lg p-2 shadow-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Browser"}),d.browserEnabled?e.jsxs("span",{className:"flex items-center gap-1 text-emerald-600",children:[e.jsx(ga,{className:"h-3 w-3"})," On"]}):e.jsxs("span",{className:"flex items-center gap-1 text-gray-400",children:[e.jsx(Et,{className:"h-3 w-3"})," Off"]})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs bg-white rounded-lg p-2 shadow-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Incidents"}),d.incidentAlerts?e.jsxs("span",{className:"flex items-center gap-1 text-emerald-600",children:[e.jsx(ga,{className:"h-3 w-3"})," On"]}):e.jsxs("span",{className:"flex items-center gap-1 text-gray-400",children:[e.jsx(Et,{className:"h-3 w-3"})," Off"]})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs bg-white rounded-lg p-2 shadow-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Work Orders"}),d.workOrderAlerts?e.jsxs("span",{className:"flex items-center gap-1 text-emerald-600",children:[e.jsx(ga,{className:"h-3 w-3"})," On"]}):e.jsxs("span",{className:"flex items-center gap-1 text-gray-400",children:[e.jsx(Et,{className:"h-3 w-3"})," Off"]})]})]})]})]})]})}const nM="/v1",lM="/v1",ei=bt.create({baseURL:lM,headers:{"Content-Type":"application/json"},withCredentials:!0}),Ye=bt.create({baseURL:nM,headers:{"Content-Type":"application/json"},withCredentials:!0}),Fb=t=>(t.response?.status===401&&(window.location.pathname.includes("/login")||(window.location.href="/login")),Promise.reject(t));ei.interceptors.response.use(t=>t,Fb);Ye.interceptors.response.use(t=>t,Fb);const vo={login:async t=>(await ei.post("/auth/login",t)).data,logout:async()=>{await ei.post("/auth/logout")},me:async()=>(await ei.get("/auth/me")).data,refresh:async()=>{await ei.post("/auth/refresh")},profile:async()=>(await ei.get("/auth/profile")).data},rM={ssp_admin:["*","incident:read","incident:create","incident:update","incident:delete","workorder:read","workorder:create","workorder:update","workorder:delete","workorder:schedule","workorder:deliverable","workorder:approval","workorder:review","project:read","project:create","project:update","phase:read","phase:create","phase:update","survey:read","survey:create","survey:update","boq:read","boq:create","boq:update","serviceshop:read","serviceshop:create","serviceshop:update","servicestaff:read","servicestaff:create","servicestaff:update","school:read","school:create","school:update","school:contact:read","school:contact:create","school:contact:update","device:read","device:create","device:update","parts:read","parts:create","parts:update","parts:delete","inventory:read","inventory:create","inventory:update","bom:read","bom:create","bom:update","bom:consume","attachment:read","attachment:create","attachment:delete","project:team:read","project:team:update","activity:read","activity:create","activity:update","activity:delete","notification:read","notification:update","ssot:read","ssot:sync","ssot:webhook","telemetry:ingest","messages:read","messages:create","messages:manage","chat:accept","chat:transfer","chat:manage","kb:read","kb:create","kb:update","kb:delete","audit:read","settings:read","settings:update"],ssp_support_agent:["incident:read","incident:create","incident:update","workorder:read","workorder:create","workorder:update","workorder:schedule","workorder:review","attachment:read","attachment:create","school:read","school:contact:read","serviceshop:read","servicestaff:read","parts:read","inventory:read","device:read","project:team:read","activity:read","activity:create","activity:update","notification:read","notification:update","messages:read","messages:create","messages:manage","chat:accept","chat:transfer","kb:read"],ssp_field_tech:["workorder:read","workorder:update","workorder:deliverable","bom:read","bom:consume","attachment:read","attachment:create","school:read","school:contact:read","telemetry:ingest","notification:read","notification:update","messages:read","messages:create","kb:read"],ssp_lead_tech:["workorder:read","workorder:update","workorder:schedule","workorder:deliverable","workorder:approval","bom:read","bom:update","bom:consume","attachment:read","attachment:create","school:read","school:contact:read","servicestaff:read","serviceshop:read","device:read","parts:read","inventory:read","telemetry:ingest","project:team:read","project:team:update","activity:read","activity:create","activity:update","notification:read","notification:update","messages:read","messages:create","messages:manage","kb:read"],ssp_demo_team:["project:read","project:create","project:update","phase:read","phase:create","phase:update","survey:read","survey:create","survey:update","boq:read","boq:create","boq:update","school:read","attachment:read","attachment:create","telemetry:ingest","project:team:read","project:team:update","activity:read","activity:create","activity:update","activity:delete","notification:read","notification:update","messages:read","messages:create"],ssp_sales_marketing:["school:read","school:read_all","school:contact:read","device:read","parts:read","demo:manage","demo:pipeline","project:read","phase:read","survey:read","boq:read","workorder:read","reporting:sales","reports:read","dashboard:read","content:manage","presentations:view","project:team:read","activity:read","notification:read","notification:update","messages:read","messages:create"],ssp_school_contact:["incident:read","incident:create","workorder:read","workorder:approval","attachment:read","attachment:create","school:read","school:contact:read","project:team:read","activity:read","activity:create","notification:read","notification:update"],ssp_supplier:["parts:read","inventory:read","workorder:read","bom:read","notification:read","notification:update","messages:read","messages:create"],ssp_contractor:["workorder:read","workorder:deliverable","bom:read","attachment:read","attachment:create","school:read","project:team:read","activity:read","activity:create","notification:read","notification:update","messages:read","messages:create"],ssp_warehouse_manager:["inventory:read","inventory:create","inventory:update","inventory:adjust","inventory:transfer","inventory:audit","parts:read","parts:create","parts:update","parts:delete","bom:read","bom:update","bom:consume","workorder:read","workorder:deliverable","activity:create","activity:read","serviceshop:read","project:team:read","device:read","report:inventory","notification:read","notification:update","messages:read","messages:create"]};function iM(t){const a=new Set;for(const l of t){const r=rM[l];if(r)for(const o of r)a.add(o)}return Array.from(a)}const Pb=b.createContext(void 0);function oM({children:t}){const[a,l]=b.useState(null),[r,o]=b.useState(null),[d,u]=b.useState(!0),[h,x]=b.useState(!1),[g,y]=b.useState(null),p=b.useCallback(async()=>{try{u(!0);const M=await vo.me();M.authenticated&&M.user?(l(M.user),y(null)):(l(null),o(null))}catch{l(null),o(null)}finally{u(!1)}},[]),j=b.useCallback(async()=>{if(!a)return null;try{x(!0);const M=await vo.profile();return M.profile?(o(M.profile),M.profile):null}catch(M){return console.error("Failed to fetch profile:",M),null}finally{x(!1)}},[a]),N=b.useCallback(async M=>{try{u(!0),y(null);const H=await vo.login(M);return H.success&&H.user?(l(H.user),!0):(y(H.message||"Login failed"),!1)}catch(H){const I=H.response?.data?.message||H.message||"Login failed";return y(I),!1}finally{u(!1)}},[]),v=b.useCallback(async()=>{try{await vo.logout()}catch{}finally{l(null),o(null),y(null)}},[]),C=b.useMemo(()=>r?.roles||a?.roles||[],[r,a]),S=b.useMemo(()=>r?.permissions?.length?r.permissions:iM(C),[r,C]),_=b.useCallback(M=>S.includes(M),[S]),E=b.useCallback(M=>C.includes(M),[C]);b.useEffect(()=>{p()},[p]),b.useEffect(()=>{if(!a)return;const M=setInterval(async()=>{try{await vo.refresh()}catch{await p()}},1800*1e3);return()=>clearInterval(M)},[a,p]);const A={user:a,profile:r,isAuthenticated:!!a,isLoading:d,isLoadingProfile:h,error:g,login:N,logout:v,checkAuth:p,fetchProfile:j,hasPermission:_,hasRole:E};return e.jsx(Pb.Provider,{value:A,children:t})}function Nt(){const t=b.useContext(Pb);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}function cM(){const[t,a]=b.useState(!1),{user:l,profile:r,logout:o}=Nt(),d=La(),u=async()=>{a(!1),await o(),d("/login")},h=r?.displayName||l?.displayName||l?.username||"User",x=r?.email||l?.email,g=r?.avatarUrl||l?.avatarUrl,y=r?.roles||l?.roles||[];return e.jsx(Yx,{open:t,onClose:()=>a(!1),align:"end",trigger:e.jsxs(T,{variant:"ghost",onClick:()=>a(!t),className:"flex items-center gap-2 px-2",children:[e.jsx(Yd,{src:g,fallback:h,size:"sm"}),e.jsx("div",{className:"hidden text-left sm:block",children:e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate max-w-[120px]",children:h})}),e.jsx(hl,{className:"h-4 w-4 text-gray-500"})]}),children:e.jsxs("div",{className:"min-w-[240px]",children:[e.jsxs("div",{className:"border-b border-gray-100 p-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Yd,{src:g,fallback:h,size:"lg"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"truncate font-medium text-gray-900",children:h}),x&&e.jsx("p",{className:"truncate text-sm text-gray-500",children:x}),!x&&l?.username&&e.jsxs("p",{className:"truncate text-sm text-gray-500",children:["@",l.username]})]})]}),y.length>0&&e.jsx("div",{className:"mt-3 flex flex-wrap gap-1",children:y.map(p=>e.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-blue-100 px-2 py-0.5 text-xs font-medium text-blue-800",children:[e.jsx(pa,{className:"h-3 w-3"}),p.replace("ssp_","").replace("_"," ")]},p))})]}),e.jsxs("div",{className:"p-2",children:[e.jsxs(ce,{to:"/profile",onClick:()=>a(!1),className:"flex w-full items-center gap-3 rounded-md px-3 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[e.jsx(Pt,{className:"h-4 w-4"}),"View Profile"]}),e.jsxs(ce,{to:"/settings",onClick:()=>a(!1),className:"flex w-full items-center gap-3 rounded-md px-3 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[e.jsx(rl,{className:"h-4 w-4"}),"Settings"]})]}),e.jsx("div",{className:"border-t border-gray-100 p-2",children:e.jsxs("button",{onClick:u,className:"flex w-full items-center gap-3 rounded-md px-3 py-2 text-sm text-red-600 hover:bg-red-50",children:[e.jsx(Ij,{className:"h-4 w-4"}),"Sign Out"]})})]})})}const gl={listThreads:async t=>(await Ye.get("/messages/threads",{params:t})).data,getThread:async t=>(await Ye.get(`/messages/threads/${t}`)).data,createThread:async t=>(await Ye.post("/messages/threads",t)).data,updateThreadStatus:async(t,a)=>{await Ye.patch(`/messages/threads/${t}/status`,{status:a})},closeThread:async t=>{await Ye.patch(`/messages/threads/${t}/status`,{status:"closed"})},reopenThread:async t=>{await Ye.patch(`/messages/threads/${t}/status`,{status:"open"})},sendMessage:async(t,a)=>(await Ye.post(`/messages/threads/${t}/messages`,a)).data.message,markRead:async(t,a)=>{await Ye.post(`/messages/threads/${t}/read`,{lastMessageId:a})},getUnreadCounts:async()=>(await Ye.get("/messages/unread")).data,searchMessages:async(t,a)=>(await Ye.get("/messages/search",{params:{q:t,limit:a||20}})).data,getAnalytics:async(t,a)=>(await Ye.get("/messages/analytics",{params:{from:t,to:a}})).data,getUploadUrl:async t=>(await Ye.post("/messages/attachments/upload-url",t)).data},pt={all:["messaging"],threads:t=>[...pt.all,"threads",t],thread:t=>[...pt.all,"thread",t],unread:()=>[...pt.all,"unread"],search:t=>[...pt.all,"search",t],analytics:(t,a)=>[...pt.all,"analytics",t,a]};function tf(t){return Se({queryKey:pt.threads(t),queryFn:()=>gl.listThreads(t)})}function sf(t){return Se({queryKey:pt.thread(t||""),queryFn:()=>gl.getThread(t),enabled:!!t})}function dM(){const t=_e();return Re({mutationFn:a=>gl.createThread(a),onSuccess:()=>{t.invalidateQueries({queryKey:pt.threads()}),t.invalidateQueries({queryKey:pt.unread()})}})}function af(t){const a=_e();return Re({mutationFn:l=>gl.sendMessage(t,l),onSuccess:l=>{a.setQueryData(pt.thread(t),r=>r&&{...r,messages:[...r.messages,l],thread:{...r.thread,messageCount:r.thread.messageCount+1,lastMessageAt:l.createdAt,lastMessage:l}}),a.invalidateQueries({queryKey:pt.threads()})}})}function uM(){const t=_e();return Re({mutationFn:a=>gl.closeThread(a),onSuccess:(a,l)=>{t.invalidateQueries({queryKey:pt.thread(l)}),t.invalidateQueries({queryKey:pt.threads()})}})}function mM(){const t=_e();return Re({mutationFn:a=>gl.reopenThread(a),onSuccess:(a,l)=>{t.invalidateQueries({queryKey:pt.thread(l)}),t.invalidateQueries({queryKey:pt.threads()})}})}function hM(t){const a=_e();return Re({mutationFn:l=>gl.markRead(t,l),onSuccess:()=>{a.invalidateQueries({queryKey:pt.thread(t)}),a.invalidateQueries({queryKey:pt.unread()})}})}function ar(){return Se({queryKey:pt.unread(),queryFn:()=>gl.getUnreadCounts(),refetchInterval:3e4,staleTime:1e4})}function xM({onMenuClick:t}){const{data:a}=ar(),l=a?.total??0;return e.jsxs("header",{className:"fixed top-0 left-0 right-0 z-50 flex h-16 items-center header-gradient px-4 shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(T,{variant:"ghost",size:"icon",className:"lg:hidden text-white/80 hover:text-white hover:bg-white/10",onClick:t,children:e.jsx(YC,{className:"h-5 w-5"})}),e.jsxs(ce,{to:"/",className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-lg bg-gradient-to-br from-cyan-400 to-cyan-600 shadow-md",children:e.jsx(Jt,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{className:"hidden sm:block",children:[e.jsx("span",{className:"font-bold text-white text-lg tracking-tight",children:"ESSP"}),e.jsx("span",{className:"text-cyan-200 text-sm ml-2 font-medium",children:"Dashboard"})]})]})]}),e.jsx("div",{className:"mx-4 flex-1 max-w-xl hidden md:block",children:e.jsxs("div",{className:"relative",children:[e.jsx(gs,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-cyan-300"}),e.jsx(ue,{type:"search",placeholder:"Search incidents, work orders, schools...",className:"pl-10 bg-white/10 border-white/20 text-white placeholder:text-cyan-200/60 focus:bg-white/15 focus:border-cyan-300"})]})}),e.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[e.jsx(T,{variant:"ghost",size:"icon",asChild:!0,className:"relative text-white/80 hover:text-white hover:bg-white/10",children:e.jsxs(ce,{to:"/messages",children:[e.jsx(qt,{className:"h-5 w-5"}),l>0&&e.jsx("span",{className:"absolute -top-1 -right-1 flex h-5 w-5 items-center justify-center rounded-full bg-red-500 text-[10px] font-medium text-white",children:l>99?"99+":l})]})}),e.jsx(HA,{}),e.jsx("div",{className:"ml-2 border-l border-white/20 pl-4",children:e.jsx(cM,{})})]})]})}const fM=[{id:"main",title:"Main",icon:xx,color:"text-cyan-600",items:[{title:"Overview",href:"/overview",icon:xx,color:"text-cyan-600",bgColor:"bg-cyan-100"}]},{id:"my-incidents",title:"My Incidents",icon:We,color:"text-amber-600",roles:["ssp_school_contact"],items:[{title:"All Incidents",href:"/incidents",icon:VC,color:"text-amber-600",bgColor:"bg-amber-100",roles:["ssp_school_contact"]},{title:"New",href:"/incidents?action=create",icon:X4,color:"text-blue-600",bgColor:"bg-blue-100",roles:["ssp_school_contact"]},{title:"Open",href:"/incidents?status=open",icon:it,color:"text-yellow-600",bgColor:"bg-yellow-100",roles:["ssp_school_contact"]},{title:"Resolved",href:"/incidents?status=resolved",icon:xl,color:"text-green-600",bgColor:"bg-green-100",roles:["ssp_school_contact"]}]},{id:"support",title:"Support & Operations",icon:dl,color:"text-amber-600",roles:["ssp_admin","ssp_support_agent","ssp_field_tech","ssp_lead_tech"],items:[{title:"Incidents",href:"/incidents",icon:We,color:"text-amber-600",bgColor:"bg-amber-100",permissions:["incident:read","incident:create"],roles:["ssp_admin","ssp_support_agent"]},{title:"Work Orders",href:"/work-orders",icon:Ge,color:"text-blue-600",bgColor:"bg-blue-100",roles:["ssp_admin","ssp_support_agent","ssp_field_tech","ssp_lead_tech","ssp_contractor","ssp_supplier","ssp_warehouse_manager"]},{title:"Live Chat",href:"/live-chat",icon:dl,color:"text-cyan-600",bgColor:"bg-cyan-100",permissions:["chat:accept"],roles:["ssp_admin","ssp_support_agent"]},{title:"Messages",href:"/messages",icon:qt,color:"text-blue-600",bgColor:"bg-blue-100",permissions:["messages:read"]}]},{id:"sales",title:"Sales & Projects",icon:Oa,color:"text-emerald-600",roles:["ssp_admin","ssp_sales_marketing","ssp_demo_team"],items:[{title:"Sales Dashboard",href:"/sales",icon:Oa,color:"text-emerald-600",bgColor:"bg-emerald-100",permissions:["demo:manage","reporting:sales"],roles:["ssp_admin","ssp_sales_marketing"]},{title:"Demo Pipeline",href:"/demo-pipeline",icon:sa,color:"text-violet-600",bgColor:"bg-violet-100",permissions:["demo:pipeline"],roles:["ssp_admin","ssp_sales_marketing","ssp_demo_team"]},{title:"Presentations",href:"/presentations",icon:Wl,color:"text-pink-600",bgColor:"bg-pink-100",permissions:["presentations:view"],roles:["ssp_admin","ssp_sales_marketing"]},{title:"Projects",href:"/projects",icon:Ea,color:"text-purple-600",bgColor:"bg-purple-100",permissions:["project:read"],roles:["ssp_admin","ssp_demo_team","ssp_sales_marketing"]}]},{id:"inventory",title:"Inventory & Catalog",icon:Ej,color:"text-rose-600",roles:["ssp_admin","ssp_warehouse_manager","ssp_supplier","ssp_lead_tech","ssp_support_agent"],items:[{title:"Parts Catalog",href:"/parts-catalog",icon:rt,color:"text-rose-600",bgColor:"bg-rose-100",permissions:["parts:read"],roles:["ssp_admin","ssp_support_agent","ssp_lead_tech","ssp_supplier","ssp_warehouse_manager"]},{title:"Devices",href:"/devices",icon:is,color:"text-indigo-600",bgColor:"bg-indigo-100",permissions:["device:read"],roles:["ssp_admin","ssp_support_agent","ssp_lead_tech","ssp_warehouse_manager"]},{title:"Service Shops",href:"/service-shops",icon:Oo,color:"text-orange-600",bgColor:"bg-orange-100",permissions:["serviceshop:read"],roles:["ssp_admin","ssp_support_agent","ssp_lead_tech","ssp_warehouse_manager"]}]},{id:"directory",title:"Directory",icon:Yt,color:"text-green-600",roles:["ssp_admin","ssp_support_agent","ssp_lead_tech","ssp_demo_team","ssp_sales_marketing","ssp_contractor"],items:[{title:"Schools",href:"/schools",icon:Ft,color:"text-green-600",bgColor:"bg-green-100",roles:["ssp_admin","ssp_support_agent","ssp_lead_tech","ssp_demo_team","ssp_sales_marketing","ssp_contractor"]}]},{id:"knowledge",title:"Knowledge & Reports",icon:Qa,color:"text-teal-600",roles:["ssp_admin","ssp_support_agent","ssp_lead_tech","ssp_field_tech","ssp_warehouse_manager","ssp_sales_marketing"],items:[{title:"Knowledge Base",href:"/knowledge-base",icon:Qa,color:"text-emerald-600",bgColor:"bg-emerald-100",permissions:["kb:read"],roles:["ssp_admin","ssp_field_tech","ssp_lead_tech","ssp_support_agent"]},{title:"Reports",href:"/reports",icon:ai,color:"text-teal-600",bgColor:"bg-teal-100",permissions:["reports:read"],roles:["ssp_admin","ssp_support_agent","ssp_lead_tech","ssp_warehouse_manager","ssp_sales_marketing"]}]},{id:"admin",title:"Administration",icon:pa,color:"text-slate-600",roles:["ssp_admin"],items:[{title:"SSOT Sync",href:"/ssot-sync",icon:ls,color:"text-teal-600",bgColor:"bg-teal-100",permissions:["ssot:read"],roles:["ssp_admin"]},{title:"Audit Logs",href:"/audit-logs",icon:rs,color:"text-slate-600",bgColor:"bg-slate-100",roles:["ssp_admin"]},{title:"Settings",href:"/settings",icon:rl,color:"text-gray-600",bgColor:"bg-gray-100",roles:["ssp_admin"]}]}],gM={ssp_school_contact:"/incidents",ssp_support_agent:"/incidents",ssp_lead_tech:"/work-orders",ssp_field_tech:"/work-orders",ssp_warehouse_manager:"/parts-catalog",ssp_demo_team:"/projects",ssp_sales_marketing:"/sales",ssp_supplier:"/work-orders",ssp_contractor:"/work-orders"};function pM(t){for(const[a,l]of Object.entries(gM))if(t.includes(a))return l;return"/overview"}function yM({collapsed:t,onToggle:a}){const{hasPermission:l,hasRole:r}=Nt(),{data:o}=ar(),d=va(),[u,h]=b.useState(new Set(["main","my-incidents","support","sales","inventory","directory","knowledge","admin"])),x=v=>!!(r("ssp_admin")||!v.permissions&&!v.roles||v.permissions?.length&&v.permissions.some(C=>l(C))||v.roles?.length&&v.roles.some(C=>r(C))),g=b.useMemo(()=>fM.map(v=>({...v,items:v.items.filter(x)})).filter(v=>v.items.length>0),[l,r]),y=v=>v.items.some(C=>{const S=C.href.split("?")[0];return d.pathname.startsWith(S)}),p=v=>{const C=v.href.split("?")[0],S=v.href.includes("?")?v.href.split("?")[1]:"";return d.pathname!==C||S.includes("action=create")?!1:S?d.search.includes(S):!d.search.includes("status=")},j=v=>{h(C=>{const S=new Set(C);return S.has(v)?S.delete(v):S.add(v),S})},N=v=>{const C=v.href==="/messages"?o?.total:void 0,S=p(v);return e.jsxs(pj,{to:v.href,className:z("flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-all duration-200",S?"bg-gradient-to-r from-cyan-50 to-teal-50 text-cyan-700 shadow-sm border border-cyan-100":"text-gray-600 hover:bg-gray-50 hover:text-gray-900",t&&"justify-center px-2"),title:t?v.title:void 0,children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:z("flex h-7 w-7 items-center justify-center rounded-lg transition-all",S?v.bgColor:"bg-gray-100 group-hover:bg-gray-200"),children:e.jsx(v.icon,{className:z("h-4 w-4 flex-shrink-0",S?v.color:"text-gray-500")})}),t&&C&&C>0&&e.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:C>9?"9+":C})]}),!t&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"flex-1",children:v.title}),C&&C>0&&e.jsx(ee,{className:"bg-red-500 text-white text-xs px-1.5 py-0.5 min-w-[20px] flex items-center justify-center",children:C>99?"99+":C})]})]},v.href)};return e.jsx("aside",{className:z("fixed left-0 top-16 z-40 h-[calc(100vh-4rem)] border-r border-gray-200 bg-white transition-all duration-300 shadow-sm",t?"w-16":"w-64"),children:e.jsxs("div",{className:"flex h-full flex-col",children:[e.jsx("nav",{className:"flex-1 px-2 py-3 overflow-y-auto",children:g.map(v=>{const C=u.has(v.id),S=y(v);return v.id==="main"?e.jsx("div",{className:"mb-2",children:v.items.map(N)},v.id):e.jsxs("div",{className:"mb-1",children:[t?e.jsx("div",{className:"flex justify-center py-1 mb-1",children:e.jsx("div",{className:z("w-8 h-0.5 rounded-full",S?"bg-cyan-400":"bg-gray-200")})}):e.jsxs("button",{onClick:()=>j(v.id),className:z("w-full flex items-center gap-2 px-3 py-2 text-xs font-semibold uppercase tracking-wider rounded-lg transition-colors",S?"text-cyan-700 bg-cyan-50":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"),children:[e.jsx(v.icon,{className:z("h-4 w-4",S?v.color:"text-gray-400")}),e.jsx("span",{className:"flex-1 text-left",children:v.title}),e.jsx(hl,{className:z("h-4 w-4 transition-transform",C?"rotate-0":"-rotate-90")})]}),(t||C)&&e.jsx("div",{className:z("space-y-0.5",!t&&"ml-2 mt-1"),children:v.items.map(N)})]},v.id)})}),e.jsx("div",{className:"border-t border-gray-200 p-2",children:e.jsx(T,{variant:"ghost",size:"sm",onClick:a,className:"w-full justify-center text-gray-500 hover:text-cyan-600 hover:bg-cyan-50",children:t?e.jsx(Da,{className:"h-4 w-4"}):e.jsx(Po,{className:"h-4 w-4"})})})]})})}const Ub="/v1",vM=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws`;function ou(t={}){const{onMessage:a,onConnect:l,onDisconnect:r,reconnectInterval:o=3e3,maxReconnectAttempts:d=10,enabled:u=!0}=t,[h,x]=b.useState(!1),[g,y]=b.useState(0),p=b.useRef(null),j=b.useRef(null),N=b.useRef(!0),v=b.useCallback(()=>{if(!u||p.current?.readyState===WebSocket.OPEN)return;const _=localStorage.getItem("tenant_id")||"demo-tenant",E=localStorage.getItem("user_id")||"anonymous",A=`${vM}?tenant=${encodeURIComponent(_)}&user=${encodeURIComponent(E)}`;try{const M=new WebSocket(A);M.onopen=()=>{N.current&&(x(!0),y(0),l?.(),console.log("[WebSocket] Connected"))},M.onclose=H=>{if(N.current&&(x(!1),r?.(),console.log("[WebSocket] Disconnected",H.code,H.reason),g<d&&u)){const I=Math.min(o*Math.pow(1.5,g),3e4);console.log(`[WebSocket] Reconnecting in ${I}ms (attempt ${g+1})`),j.current=window.setTimeout(()=>{N.current&&(y(W=>W+1),v())},I)}},M.onerror=H=>{console.error("[WebSocket] Error:",H)},M.onmessage=H=>{if(N.current)try{const I=JSON.parse(H.data);a?.(I)}catch{console.error("[WebSocket] Failed to parse message:",H.data)}},p.current=M}catch(M){console.error("[WebSocket] Failed to connect:",M)}},[u,a,l,r,o,d,g]),C=b.useCallback(()=>{j.current&&(clearTimeout(j.current),j.current=null),p.current&&(p.current.close(),p.current=null),x(!1),y(0)},[]),S=b.useCallback(_=>{p.current?.readyState===WebSocket.OPEN?p.current.send(JSON.stringify(_)):console.warn("[WebSocket] Cannot send message - not connected")},[]);return b.useEffect(()=>(N.current=!0,u&&v(),()=>{N.current=!1,C()}),[u]),{isConnected:h,reconnectAttempt:g,send:S,disconnect:C,connect:v}}function jM(t){if(typeof document>"u")return;let a=document.head||document.getElementsByTagName("head")[0],l=document.createElement("style");l.type="text/css",a.appendChild(l),l.styleSheet?l.styleSheet.cssText=t:l.appendChild(document.createTextNode(t))}const bM=t=>{switch(t){case"success":return SM;case"info":return kM;case"warning":return CM;case"error":return AM;default:return null}},NM=Array(12).fill(0),wM=({visible:t,className:a})=>he.createElement("div",{className:["sonner-loading-wrapper",a].filter(Boolean).join(" "),"data-visible":t},he.createElement("div",{className:"sonner-spinner"},NM.map((l,r)=>he.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),SM=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},he.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),CM=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},he.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),kM=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},he.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),AM=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},he.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),MM=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},he.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),he.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),_M=()=>{const[t,a]=he.useState(document.hidden);return he.useEffect(()=>{const l=()=>{a(document.hidden)};return document.addEventListener("visibilitychange",l),()=>window.removeEventListener("visibilitychange",l)},[]),t};let bx=1;class TM{constructor(){this.subscribe=a=>(this.subscribers.push(a),()=>{const l=this.subscribers.indexOf(a);this.subscribers.splice(l,1)}),this.publish=a=>{this.subscribers.forEach(l=>l(a))},this.addToast=a=>{this.publish(a),this.toasts=[...this.toasts,a]},this.create=a=>{var l;const{message:r,...o}=a,d=typeof a?.id=="number"||((l=a.id)==null?void 0:l.length)>0?a.id:bx++,u=this.toasts.find(x=>x.id===d),h=a.dismissible===void 0?!0:a.dismissible;return this.dismissedToasts.has(d)&&this.dismissedToasts.delete(d),u?this.toasts=this.toasts.map(x=>x.id===d?(this.publish({...x,...a,id:d,title:r}),{...x,...a,id:d,dismissible:h,title:r}):x):this.addToast({title:r,...o,dismissible:h,id:d}),d},this.dismiss=a=>(a?(this.dismissedToasts.add(a),requestAnimationFrame(()=>this.subscribers.forEach(l=>l({id:a,dismiss:!0})))):this.toasts.forEach(l=>{this.subscribers.forEach(r=>r({id:l.id,dismiss:!0}))}),a),this.message=(a,l)=>this.create({...l,message:a}),this.error=(a,l)=>this.create({...l,message:a,type:"error"}),this.success=(a,l)=>this.create({...l,type:"success",message:a}),this.info=(a,l)=>this.create({...l,type:"info",message:a}),this.warning=(a,l)=>this.create({...l,type:"warning",message:a}),this.loading=(a,l)=>this.create({...l,type:"loading",message:a}),this.promise=(a,l)=>{if(!l)return;let r;l.loading!==void 0&&(r=this.create({...l,promise:a,type:"loading",message:l.loading,description:typeof l.description!="function"?l.description:void 0}));const o=Promise.resolve(a instanceof Function?a():a);let d=r!==void 0,u;const h=o.then(async g=>{if(u=["resolve",g],he.isValidElement(g))d=!1,this.create({id:r,type:"default",message:g});else if(DM(g)&&!g.ok){d=!1;const p=typeof l.error=="function"?await l.error(`HTTP error! status: ${g.status}`):l.error,j=typeof l.description=="function"?await l.description(`HTTP error! status: ${g.status}`):l.description,v=typeof p=="object"&&!he.isValidElement(p)?p:{message:p};this.create({id:r,type:"error",description:j,...v})}else if(g instanceof Error){d=!1;const p=typeof l.error=="function"?await l.error(g):l.error,j=typeof l.description=="function"?await l.description(g):l.description,v=typeof p=="object"&&!he.isValidElement(p)?p:{message:p};this.create({id:r,type:"error",description:j,...v})}else if(l.success!==void 0){d=!1;const p=typeof l.success=="function"?await l.success(g):l.success,j=typeof l.description=="function"?await l.description(g):l.description,v=typeof p=="object"&&!he.isValidElement(p)?p:{message:p};this.create({id:r,type:"success",description:j,...v})}}).catch(async g=>{if(u=["reject",g],l.error!==void 0){d=!1;const y=typeof l.error=="function"?await l.error(g):l.error,p=typeof l.description=="function"?await l.description(g):l.description,N=typeof y=="object"&&!he.isValidElement(y)?y:{message:y};this.create({id:r,type:"error",description:p,...N})}}).finally(()=>{d&&(this.dismiss(r),r=void 0),l.finally==null||l.finally.call(l)}),x=()=>new Promise((g,y)=>h.then(()=>u[0]==="reject"?y(u[1]):g(u[1])).catch(y));return typeof r!="string"&&typeof r!="number"?{unwrap:x}:Object.assign(r,{unwrap:x})},this.custom=(a,l)=>{const r=l?.id||bx++;return this.create({jsx:a(r),id:r,...l}),r},this.getActiveToasts=()=>this.toasts.filter(a=>!this.dismissedToasts.has(a.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Vs=new TM,RM=(t,a)=>{const l=a?.id||bx++;return Vs.addToast({title:t,...a,id:l}),l},DM=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",EM=RM,OM=()=>Vs.toasts,zM=()=>Vs.getActiveToasts(),Xe=Object.assign(EM,{success:Vs.success,info:Vs.info,warning:Vs.warning,error:Vs.error,custom:Vs.custom,message:Vs.message,promise:Vs.promise,dismiss:Vs.dismiss,loading:Vs.loading},{getHistory:OM,getToasts:zM});jM("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function vd(t){return t.label!==void 0}const LM=3,qM="24px",FM="16px",fv=4e3,PM=356,UM=14,IM=45,VM=200;function Ka(...t){return t.filter(Boolean).join(" ")}function HM(t){const[a,l]=t.split("-"),r=[];return a&&r.push(a),l&&r.push(l),r}const BM=t=>{var a,l,r,o,d,u,h,x,g;const{invert:y,toast:p,unstyled:j,interacting:N,setHeights:v,visibleToasts:C,heights:S,index:_,toasts:E,expanded:A,removeToast:M,defaultRichColors:H,closeButton:I,style:W,cancelButtonStyle:Q,actionButtonStyle:K,className:q="",descriptionClassName:$="",duration:re,position:le,gap:xe,expandByDefault:me,classNames:D,icons:X,closeButtonAriaLabel:Z="Close toast"}=t,[be,ye]=he.useState(null),[fe,Te]=he.useState(null),[ne,ge]=he.useState(!1),[Oe,gt]=he.useState(!1),[Ze,Qe]=he.useState(!1),[Ht,bs]=he.useState(!1),[Ns,cs]=he.useState(!1),[yl,Ks]=he.useState(0),[vl,An]=he.useState(0),Wa=he.useRef(p.duration||re||fv),es=he.useRef(null),Ut=he.useRef(null),Za=_===0,vi=_+1<=C,ws=p.type,Mn=p.dismissible!==!1,Ss=p.className||"",wu=p.descriptionClassName||"",jl=he.useMemo(()=>S.findIndex(Ee=>Ee.toastId===p.id)||0,[S,p.id]),Jo=he.useMemo(()=>{var Ee;return(Ee=p.closeButton)!=null?Ee:I},[p.closeButton,I]),bl=he.useMemo(()=>p.duration||re||fv,[p.duration,re]),ji=he.useRef(0),Ja=he.useRef(0),ec=he.useRef(0),_n=he.useRef(null),[Nl,Cs]=le.split("-"),ba=he.useMemo(()=>S.reduce((Ee,wt,ts)=>ts>=jl?Ee:Ee+wt.height,0),[S,jl]),ps=_M(),Su=p.invert||y,bi=ws==="loading";Ja.current=he.useMemo(()=>jl*xe+ba,[jl,ba]),he.useEffect(()=>{Wa.current=bl},[bl]),he.useEffect(()=>{ge(!0)},[]),he.useEffect(()=>{const Ee=Ut.current;if(Ee){const wt=Ee.getBoundingClientRect().height;return An(wt),v(ts=>[{toastId:p.id,height:wt,position:p.position},...ts]),()=>v(ts=>ts.filter(ys=>ys.toastId!==p.id))}},[v,p.id]),he.useLayoutEffect(()=>{if(!ne)return;const Ee=Ut.current,wt=Ee.style.height;Ee.style.height="auto";const ts=Ee.getBoundingClientRect().height;Ee.style.height=wt,An(ts),v(ys=>ys.find(Dt=>Dt.toastId===p.id)?ys.map(Dt=>Dt.toastId===p.id?{...Dt,height:ts}:Dt):[{toastId:p.id,height:ts,position:p.position},...ys])},[ne,p.title,p.description,v,p.id,p.jsx,p.action,p.cancel]);const Pa=he.useCallback(()=>{gt(!0),Ks(Ja.current),v(Ee=>Ee.filter(wt=>wt.toastId!==p.id)),setTimeout(()=>{M(p)},VM)},[p,M,v,Ja]);he.useEffect(()=>{if(p.promise&&ws==="loading"||p.duration===1/0||p.type==="loading")return;let Ee;return A||N||ps?(()=>{if(ec.current<ji.current){const ys=new Date().getTime()-ji.current;Wa.current=Wa.current-ys}ec.current=new Date().getTime()})():(()=>{Wa.current!==1/0&&(ji.current=new Date().getTime(),Ee=setTimeout(()=>{p.onAutoClose==null||p.onAutoClose.call(p,p),Pa()},Wa.current))})(),()=>clearTimeout(Ee)},[A,N,p,ws,ps,Pa]),he.useEffect(()=>{p.delete&&(Pa(),p.onDismiss==null||p.onDismiss.call(p,p))},[Pa,p.delete]);function ur(){var Ee;if(X?.loading){var wt;return he.createElement("div",{className:Ka(D?.loader,p==null||(wt=p.classNames)==null?void 0:wt.loader,"sonner-loader"),"data-visible":ws==="loading"},X.loading)}return he.createElement(wM,{className:Ka(D?.loader,p==null||(Ee=p.classNames)==null?void 0:Ee.loader),visible:ws==="loading"})}const mr=p.icon||X?.[ws]||bM(ws);var wl,Ua;return he.createElement("li",{tabIndex:0,ref:Ut,className:Ka(q,Ss,D?.toast,p==null||(a=p.classNames)==null?void 0:a.toast,D?.default,D?.[ws],p==null||(l=p.classNames)==null?void 0:l[ws]),"data-sonner-toast":"","data-rich-colors":(wl=p.richColors)!=null?wl:H,"data-styled":!(p.jsx||p.unstyled||j),"data-mounted":ne,"data-promise":!!p.promise,"data-swiped":Ns,"data-removed":Oe,"data-visible":vi,"data-y-position":Nl,"data-x-position":Cs,"data-index":_,"data-front":Za,"data-swiping":Ze,"data-dismissible":Mn,"data-type":ws,"data-invert":Su,"data-swipe-out":Ht,"data-swipe-direction":fe,"data-expanded":!!(A||me&&ne),"data-testid":p.testId,style:{"--index":_,"--toasts-before":_,"--z-index":E.length-_,"--offset":`${Oe?yl:Ja.current}px`,"--initial-height":me?"auto":`${vl}px`,...W,...p.style},onDragEnd:()=>{Qe(!1),ye(null),_n.current=null},onPointerDown:Ee=>{Ee.button!==2&&(bi||!Mn||(es.current=new Date,Ks(Ja.current),Ee.target.setPointerCapture(Ee.pointerId),Ee.target.tagName!=="BUTTON"&&(Qe(!0),_n.current={x:Ee.clientX,y:Ee.clientY})))},onPointerUp:()=>{var Ee,wt,ts;if(Ht||!Mn)return;_n.current=null;const ys=Number(((Ee=Ut.current)==null?void 0:Ee.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Tn=Number(((wt=Ut.current)==null?void 0:wt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Dt=new Date().getTime()-((ts=es.current)==null?void 0:ts.getTime()),Ds=be==="x"?ys:Tn,Sl=Math.abs(Ds)/Dt;if(Math.abs(Ds)>=IM||Sl>.11){Ks(Ja.current),p.onDismiss==null||p.onDismiss.call(p,p),Te(be==="x"?ys>0?"right":"left":Tn>0?"down":"up"),Pa(),bs(!0);return}else{var Es,Os;(Es=Ut.current)==null||Es.style.setProperty("--swipe-amount-x","0px"),(Os=Ut.current)==null||Os.style.setProperty("--swipe-amount-y","0px")}cs(!1),Qe(!1),ye(null)},onPointerMove:Ee=>{var wt,ts,ys;if(!_n.current||!Mn||((wt=window.getSelection())==null?void 0:wt.toString().length)>0)return;const Dt=Ee.clientY-_n.current.y,Ds=Ee.clientX-_n.current.x;var Sl;const Es=(Sl=t.swipeDirections)!=null?Sl:HM(le);!be&&(Math.abs(Ds)>1||Math.abs(Dt)>1)&&ye(Math.abs(Ds)>Math.abs(Dt)?"x":"y");let Os={x:0,y:0};const hr=Na=>1/(1.5+Math.abs(Na)/20);if(be==="y"){if(Es.includes("top")||Es.includes("bottom"))if(Es.includes("top")&&Dt<0||Es.includes("bottom")&&Dt>0)Os.y=Dt;else{const Na=Dt*hr(Dt);Os.y=Math.abs(Na)<Math.abs(Dt)?Na:Dt}}else if(be==="x"&&(Es.includes("left")||Es.includes("right")))if(Es.includes("left")&&Ds<0||Es.includes("right")&&Ds>0)Os.x=Ds;else{const Na=Ds*hr(Ds);Os.x=Math.abs(Na)<Math.abs(Ds)?Na:Ds}(Math.abs(Os.x)>0||Math.abs(Os.y)>0)&&cs(!0),(ts=Ut.current)==null||ts.style.setProperty("--swipe-amount-x",`${Os.x}px`),(ys=Ut.current)==null||ys.style.setProperty("--swipe-amount-y",`${Os.y}px`)}},Jo&&!p.jsx&&ws!=="loading"?he.createElement("button",{"aria-label":Z,"data-disabled":bi,"data-close-button":!0,onClick:bi||!Mn?()=>{}:()=>{Pa(),p.onDismiss==null||p.onDismiss.call(p,p)},className:Ka(D?.closeButton,p==null||(r=p.classNames)==null?void 0:r.closeButton)},(Ua=X?.close)!=null?Ua:MM):null,(ws||p.icon||p.promise)&&p.icon!==null&&(X?.[ws]!==null||p.icon)?he.createElement("div",{"data-icon":"",className:Ka(D?.icon,p==null||(o=p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||ur():null,p.type!=="loading"?mr:null):null,he.createElement("div",{"data-content":"",className:Ka(D?.content,p==null||(d=p.classNames)==null?void 0:d.content)},he.createElement("div",{"data-title":"",className:Ka(D?.title,p==null||(u=p.classNames)==null?void 0:u.title)},p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title),p.description?he.createElement("div",{"data-description":"",className:Ka($,wu,D?.description,p==null||(h=p.classNames)==null?void 0:h.description)},typeof p.description=="function"?p.description():p.description):null),he.isValidElement(p.cancel)?p.cancel:p.cancel&&vd(p.cancel)?he.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||Q,onClick:Ee=>{vd(p.cancel)&&Mn&&(p.cancel.onClick==null||p.cancel.onClick.call(p.cancel,Ee),Pa())},className:Ka(D?.cancelButton,p==null||(x=p.classNames)==null?void 0:x.cancelButton)},p.cancel.label):null,he.isValidElement(p.action)?p.action:p.action&&vd(p.action)?he.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||K,onClick:Ee=>{vd(p.action)&&(p.action.onClick==null||p.action.onClick.call(p.action,Ee),!Ee.defaultPrevented&&Pa())},className:Ka(D?.actionButton,p==null||(g=p.classNames)==null?void 0:g.actionButton)},p.action.label):null)};function gv(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function $M(t,a){const l={};return[t,a].forEach((r,o)=>{const d=o===1,u=d?"--mobile-offset":"--offset",h=d?FM:qM;function x(g){["top","right","bottom","left"].forEach(y=>{l[`${u}-${y}`]=typeof g=="number"?`${g}px`:g})}typeof r=="number"||typeof r=="string"?x(r):typeof r=="object"?["top","right","bottom","left"].forEach(g=>{r[g]===void 0?l[`${u}-${g}`]=h:l[`${u}-${g}`]=typeof r[g]=="number"?`${r[g]}px`:r[g]}):x(h)}),l}const KM=he.forwardRef(function(a,l){const{id:r,invert:o,position:d="bottom-right",hotkey:u=["altKey","KeyT"],expand:h,closeButton:x,className:g,offset:y,mobileOffset:p,theme:j="light",richColors:N,duration:v,style:C,visibleToasts:S=LM,toastOptions:_,dir:E=gv(),gap:A=UM,icons:M,containerAriaLabel:H="Notifications"}=a,[I,W]=he.useState([]),Q=he.useMemo(()=>r?I.filter(ne=>ne.toasterId===r):I.filter(ne=>!ne.toasterId),[I,r]),K=he.useMemo(()=>Array.from(new Set([d].concat(Q.filter(ne=>ne.position).map(ne=>ne.position)))),[Q,d]),[q,$]=he.useState([]),[re,le]=he.useState(!1),[xe,me]=he.useState(!1),[D,X]=he.useState(j!=="system"?j:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Z=he.useRef(null),be=u.join("+").replace(/Key/g,"").replace(/Digit/g,""),ye=he.useRef(null),fe=he.useRef(!1),Te=he.useCallback(ne=>{W(ge=>{var Oe;return(Oe=ge.find(gt=>gt.id===ne.id))!=null&&Oe.delete||Vs.dismiss(ne.id),ge.filter(({id:gt})=>gt!==ne.id)})},[]);return he.useEffect(()=>Vs.subscribe(ne=>{if(ne.dismiss){requestAnimationFrame(()=>{W(ge=>ge.map(Oe=>Oe.id===ne.id?{...Oe,delete:!0}:Oe))});return}setTimeout(()=>{wS.flushSync(()=>{W(ge=>{const Oe=ge.findIndex(gt=>gt.id===ne.id);return Oe!==-1?[...ge.slice(0,Oe),{...ge[Oe],...ne},...ge.slice(Oe+1)]:[ne,...ge]})})})}),[I]),he.useEffect(()=>{if(j!=="system"){X(j);return}if(j==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?X("dark"):X("light")),typeof window>"u")return;const ne=window.matchMedia("(prefers-color-scheme: dark)");try{ne.addEventListener("change",({matches:ge})=>{X(ge?"dark":"light")})}catch{ne.addListener(({matches:Oe})=>{try{X(Oe?"dark":"light")}catch(gt){console.error(gt)}})}},[j]),he.useEffect(()=>{I.length<=1&&le(!1)},[I]),he.useEffect(()=>{const ne=ge=>{var Oe;if(u.every(Qe=>ge[Qe]||ge.code===Qe)){var Ze;le(!0),(Ze=Z.current)==null||Ze.focus()}ge.code==="Escape"&&(document.activeElement===Z.current||(Oe=Z.current)!=null&&Oe.contains(document.activeElement))&&le(!1)};return document.addEventListener("keydown",ne),()=>document.removeEventListener("keydown",ne)},[u]),he.useEffect(()=>{if(Z.current)return()=>{ye.current&&(ye.current.focus({preventScroll:!0}),ye.current=null,fe.current=!1)}},[Z.current]),he.createElement("section",{ref:l,"aria-label":`${H} ${be}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},K.map((ne,ge)=>{var Oe;const[gt,Ze]=ne.split("-");return Q.length?he.createElement("ol",{key:ne,dir:E==="auto"?gv():E,tabIndex:-1,ref:Z,className:g,"data-sonner-toaster":!0,"data-sonner-theme":D,"data-y-position":gt,"data-x-position":Ze,style:{"--front-toast-height":`${((Oe=q[0])==null?void 0:Oe.height)||0}px`,"--width":`${PM}px`,"--gap":`${A}px`,...C,...$M(y,p)},onBlur:Qe=>{fe.current&&!Qe.currentTarget.contains(Qe.relatedTarget)&&(fe.current=!1,ye.current&&(ye.current.focus({preventScroll:!0}),ye.current=null))},onFocus:Qe=>{Qe.target instanceof HTMLElement&&Qe.target.dataset.dismissible==="false"||fe.current||(fe.current=!0,ye.current=Qe.relatedTarget)},onMouseEnter:()=>le(!0),onMouseMove:()=>le(!0),onMouseLeave:()=>{xe||le(!1)},onDragEnd:()=>le(!1),onPointerDown:Qe=>{Qe.target instanceof HTMLElement&&Qe.target.dataset.dismissible==="false"||me(!0)},onPointerUp:()=>me(!1)},Q.filter(Qe=>!Qe.position&&ge===0||Qe.position===ne).map((Qe,Ht)=>{var bs,Ns;return he.createElement(BM,{key:Qe.id,icons:M,index:Ht,toast:Qe,defaultRichColors:N,duration:(bs=_?.duration)!=null?bs:v,className:_?.className,descriptionClassName:_?.descriptionClassName,invert:o,visibleToasts:S,closeButton:(Ns=_?.closeButton)!=null?Ns:x,interacting:xe,position:ne,style:_?.style,unstyled:_?.unstyled,classNames:_?.classNames,cancelButtonStyle:_?.cancelButtonStyle,actionButtonStyle:_?.actionButtonStyle,closeButtonAriaLabel:_?.closeButtonAriaLabel,removeToast:Te,toasts:Q.filter(cs=>cs.position==Qe.position),heights:q.filter(cs=>cs.position==Qe.position),setHeights:$,expandByDefault:h,gap:A,expanded:re,swipeDirections:a.swipeDirections})})):null}))}),xt={success:(t,a)=>{Xe.success(t,{description:a})},error:(t,a)=>{Xe.error(t,{description:a})},warning:(t,a)=>{Xe.warning(t,{description:a})},info:(t,a)=>{Xe.info(t,{description:a})},loading:t=>Xe.loading(t),dismiss:t=>{Xe.dismiss(t)},promise:(t,a)=>Xe.promise(t,a)},Ib=b.createContext(null),QM=50;function GM({children:t}){const a=_e(),[l,r]=b.useState([]),o=b.useMemo(()=>l.filter(y=>!y.read).length,[l]),d=b.useCallback(y=>{r(p=>p.some(j=>j.id===y.id)?p:[y,...p].slice(0,QM))},[]),u=b.useCallback(()=>{r([])},[]),h=b.useCallback(y=>{if(y.type==="notification"){const p=y.payload;d({...p,read:!1});const j=XM(p.type);switch(p.action==="create"&&xt.info(`New ${j}`,p.summary),p.type){case"incident":a.invalidateQueries({queryKey:["incidents"]});break;case"work_order":a.invalidateQueries({queryKey:["work-orders"]});break;case"project":a.invalidateQueries({queryKey:["projects"]});break;case"service_shop":a.invalidateQueries({queryKey:["service-shops"]});break}a.invalidateQueries({queryKey:["notifications"]})}},[a,d]),{isConnected:x}=ou({onMessage:h,onConnect:()=>{console.log("[NotificationContext] WebSocket connected")},onDisconnect:()=>{console.log("[NotificationContext] WebSocket disconnected")},enabled:!0}),g=b.useMemo(()=>({notifications:l,unreadCount:o,isConnected:x,addNotification:d,clearNotifications:u}),[l,o,x,d,u]);return e.jsx(Ib.Provider,{value:g,children:t})}function YM(){const t=b.useContext(Ib);if(!t)throw new Error("useNotificationContext must be used within NotificationProvider");return t}function XM(t){switch(t){case"incident":return"Incident";case"work_order":return"Work Order";case"project":return"Project";case"service_shop":return"Service Shop";case"device":return"Device";default:return t}}function WM(){const[t,a]=b.useState(!1),[l,r]=b.useState(!1),{isConnected:o}=YM(),d=()=>{a(!t)},u=()=>{r(!l)};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(xM,{onMenuClick:u}),l&&e.jsx("div",{className:"fixed inset-0 z-40 bg-black/50 lg:hidden",onClick:()=>r(!1)}),e.jsx("div",{className:z("lg:block",l?"block":"hidden"),children:e.jsx(yM,{collapsed:t,onToggle:d})}),e.jsx("main",{className:z("pt-16 transition-all duration-300",t?"lg:pl-16":"lg:pl-64"),children:e.jsx("div",{className:"p-6 mx-auto max-w-[1600px]",children:e.jsx(I2,{})})}),e.jsxs("footer",{className:z("fixed bottom-0 left-0 right-0 z-30 flex h-8 items-center justify-between border-t border-gray-200 bg-white px-4 text-xs text-gray-500 transition-all duration-300",t?"lg:pl-16":"lg:pl-64"),children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{className:z("h-2 w-2 rounded-full",o?"bg-green-500":"bg-yellow-500 animate-pulse")}),o?"Connected":"Reconnecting..."]}),e.jsxs("span",{children:["Real-time updates ",o?"enabled":"paused"]})]}),e.jsx("div",{children:e.jsx("span",{children:"ESSP Dashboard v1.0.0"})})]})]})}function ZM(){return e.jsx(KM,{position:"top-right",toastOptions:{style:{background:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)"},classNames:{success:"border-green-200 bg-green-50",error:"border-red-200 bg-red-50",warning:"border-yellow-200 bg-yellow-50",info:"border-blue-200 bg-blue-50"}},expand:!1,richColors:!0,closeButton:!0})}function JM({title:t="Access Denied",message:a="You don't have permission to access this page.",showHomeButton:l=!0,showBackButton:r=!0}){const{profile:o,user:d}=Nt(),u=o?.roles||d?.roles||[],h=pM(u);return e.jsxs("div",{className:"flex min-h-[60vh] flex-col items-center justify-center px-4 text-center",children:[e.jsx("div",{className:"rounded-2xl bg-gradient-to-br from-rose-50 to-red-100 p-6 shadow-lg",children:e.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-xl bg-gradient-to-br from-rose-500 to-red-600 shadow-lg shadow-rose-500/30",children:e.jsx(A5,{className:"h-10 w-10 text-white"})})}),e.jsx("h1",{className:"mt-8 text-3xl font-bold text-gray-900",children:t}),e.jsx("p",{className:"mt-3 max-w-md text-gray-600",children:a}),e.jsxs("div",{className:"mt-4 rounded-lg bg-gray-50 px-4 py-2 text-sm text-gray-500",children:[e.jsx("span",{className:"font-medium",children:"Your roles:"})," ",u.length>0?u.map((x,g)=>e.jsxs("span",{children:[e.jsx("code",{className:"rounded bg-gray-200 px-1.5 py-0.5 text-xs",children:x.replace("ssp_","")}),g<u.length-1&&", "]},x)):e.jsx("span",{className:"italic",children:"No roles assigned"})]}),e.jsxs("div",{className:"mt-8 flex gap-3",children:[r&&e.jsxs(T,{variant:"outline",onClick:()=>window.history.back(),className:"border-gray-300",children:[e.jsx(Ya,{className:"h-4 w-4"}),"Go Back"]}),l&&e.jsx(ce,{to:h,children:e.jsxs(T,{className:"bg-gradient-to-r from-cyan-600 to-teal-600 hover:from-cyan-700 hover:to-teal-700",children:[e.jsx(Uj,{className:"h-4 w-4"}),"Go to Dashboard"]})})]}),e.jsx("p",{className:"mt-8 text-sm text-gray-400",children:"If you believe this is an error, please contact your administrator."})]})}function e_({children:t,permissions:a,roles:l}){const{isAuthenticated:r,isLoading:o,hasPermission:d,hasRole:u}=Nt(),h=va();if(o)return e.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-cyan-600 border-t-transparent"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Loading..."})]})});if(!r)return e.jsx(mj,{to:"/login",state:{from:h},replace:!0});if(u("ssp_admin"))return e.jsx(e.Fragment,{children:t});if(a?.length||l?.length){const x=!a?.length||a.some(p=>d(p)),g=!l?.length||l.some(p=>u(p));if(!(a?.length&&x||l?.length&&g||!a?.length&&!l?.length))return e.jsx(JM,{})}return e.jsx(e.Fragment,{children:t})}const t_=[{username:"admin",password:"admin123",role:"ssp_admin",label:"Admin",icon:pa,color:"text-cyan-600 bg-cyan-100"},{username:"school_contact",password:"school123",role:"ssp_school_contact",label:"School Contact",icon:Ft,color:"text-green-600 bg-green-100"},{username:"support_agent",password:"support123",role:"ssp_support_agent",label:"Support Agent",icon:dl,color:"text-blue-600 bg-blue-100"},{username:"lead_tech",password:"lead123",role:"ssp_lead_tech",label:"Lead Tech",icon:Yt,color:"text-purple-600 bg-purple-100"},{username:"field_tech",password:"tech123",role:"ssp_field_tech",label:"Field Tech",icon:Ge,color:"text-amber-600 bg-amber-100"},{username:"warehouse",password:"warehouse123",role:"ssp_warehouse_manager",label:"Warehouse",icon:rt,color:"text-rose-600 bg-rose-100"},{username:"sales_marketing",password:"sales123",role:"ssp_sales_marketing",label:"Sales",icon:Oa,color:"text-orange-600 bg-orange-100"}];function s_(){const t=La(),a=va(),{login:l,isLoading:r,error:o}=Nt(),[d,u]=b.useState(""),[h,x]=b.useState(""),[g,y]=b.useState(null),j=a.state?.from?.pathname||"/overview",N=async C=>{if(C.preventDefault(),y(null),!d.trim()){y("Username is required");return}if(!h.trim()){y("Password is required");return}await l({username:d,password:h})&&t(j,{replace:!0})},v=g||o;return e.jsxs("div",{className:"flex min-h-screen",children:[e.jsxs("div",{className:"hidden lg:flex lg:w-1/2 header-gradient relative overflow-hidden",children:[e.jsxs("div",{className:"absolute top-0 left-0 w-full h-full opacity-10",children:[e.jsx("div",{className:"absolute top-20 left-20 w-64 h-64 rounded-full bg-cyan-300 blur-3xl"}),e.jsx("div",{className:"absolute bottom-20 right-20 w-96 h-96 rounded-full bg-teal-300 blur-3xl"}),e.jsx("div",{className:"absolute top-1/2 left-1/2 w-48 h-48 rounded-full bg-white blur-2xl"})]}),e.jsxs("div",{className:"relative z-10 flex flex-col justify-center px-12 text-white",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-2xl bg-gradient-to-br from-cyan-400 to-cyan-600 shadow-xl",children:e.jsx(Jt,{className:"h-8 w-8"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold",children:"ESSP"}),e.jsx("p",{className:"text-cyan-200 text-lg",children:"Education Sector Support Platform"})]})]}),e.jsxs("div",{className:"space-y-6 max-w-md",children:[e.jsx("h2",{className:"text-2xl font-semibold",children:"Empowering Education Through Technology"}),e.jsx("p",{className:"text-cyan-100 text-lg leading-relaxed",children:"A comprehensive platform for managing school infrastructure, devices, and maintenance operations across the education sector."}),e.jsxs("div",{className:"space-y-4 pt-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-white/10 backdrop-blur",children:e.jsx(Ud,{className:"h-6 w-6 text-cyan-300"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"School Management"}),e.jsx("p",{className:"text-cyan-200 text-sm",children:"Track schools, devices, and programs"})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-white/10 backdrop-blur",children:e.jsx(pa,{className:"h-6 w-6 text-cyan-300"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Secure & Reliable"}),e.jsx("p",{className:"text-cyan-200 text-sm",children:"Enterprise-grade security"})]})]})]})]}),e.jsx("div",{className:"mt-12 pt-8 border-t border-white/20",children:e.jsx("p",{className:"text-cyan-200 text-sm",children:"Powered by EdVirons Technology"})})]})]}),e.jsx("div",{className:"flex w-full lg:w-1/2 items-center justify-center bg-gradient-to-br from-slate-50 to-cyan-50 p-8",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"lg:hidden flex items-center justify-center gap-3 mb-8",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-cyan-500 to-teal-600 shadow-lg",children:e.jsx(Jt,{className:"h-6 w-6 text-white"})}),e.jsx("span",{className:"text-2xl font-bold text-gray-900",children:"ESSP"})]}),e.jsxs(F,{className:"shadow-xl border-0 bg-white/80 backdrop-blur",children:[e.jsxs(ie,{className:"space-y-1 text-center pb-2",children:[e.jsx("div",{className:"mx-auto mb-4 flex h-14 w-14 items-center justify-center rounded-full bg-gradient-to-br from-cyan-100 to-teal-100",children:e.jsx(qy,{className:"h-7 w-7 text-cyan-600"})}),e.jsx(oe,{className:"text-2xl font-bold text-gray-900",children:"Welcome Back"}),e.jsx(fs,{className:"text-gray-500",children:"Sign in to access the ESSP Dashboard"})]}),e.jsxs(P,{children:[e.jsxs("form",{onSubmit:N,className:"space-y-4",children:[v&&e.jsxs("div",{className:"flex items-center gap-2 rounded-lg bg-red-50 border border-red-100 p-3 text-sm text-red-600",children:[e.jsx(Xa,{className:"h-4 w-4 flex-shrink-0"}),e.jsx("span",{children:v})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"username",className:"text-sm font-medium text-gray-700",children:"Username"}),e.jsxs("div",{className:"relative",children:[e.jsx(Pt,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),e.jsx(ue,{id:"username",type:"text",placeholder:"Enter your username",value:d,onChange:C=>u(C.target.value),className:"pl-10 border-gray-200 focus:border-cyan-500 focus:ring-cyan-500",autoComplete:"username",autoFocus:!0,disabled:r})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"password",className:"text-sm font-medium text-gray-700",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(qy,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),e.jsx(ue,{id:"password",type:"password",placeholder:"Enter your password",value:h,onChange:C=>x(C.target.value),className:"pl-10 border-gray-200 focus:border-cyan-500 focus:ring-cyan-500",autoComplete:"current-password",disabled:r})]})]}),e.jsx(T,{type:"submit",className:"w-full bg-gradient-to-r from-cyan-600 to-teal-600 hover:from-cyan-700 hover:to-teal-700 text-white shadow-lg shadow-cyan-500/25 transition-all hover:shadow-xl hover:shadow-cyan-500/30",disabled:r,children:r?e.jsxs(e.Fragment,{children:[e.jsx(jt,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign In"})]}),e.jsxs("div",{className:"mt-6 rounded-lg bg-gradient-to-r from-slate-50 to-gray-50 border border-gray-200 p-4",children:[e.jsx("p",{className:"text-xs text-gray-600 mb-3 font-medium",children:"Demo Accounts (click to fill credentials)"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:t_.map(C=>{const S=C.icon;return e.jsxs("button",{type:"button",onClick:()=>{u(C.username),x(C.password)},className:"flex items-center gap-2 text-left text-sm bg-white rounded-lg px-3 py-2 border border-gray-200 hover:border-gray-300 hover:shadow-sm transition-all",children:[e.jsx("div",{className:`flex h-7 w-7 items-center justify-center rounded-md ${C.color.split(" ")[1]}`,children:e.jsx(S,{className:`h-3.5 w-3.5 ${C.color.split(" ")[0]}`})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("div",{className:"font-medium text-gray-700 text-xs truncate",children:C.label}),e.jsx("div",{className:"text-[10px] text-gray-400 truncate",children:C.role.replace("ssp_","")})]})]},C.username)})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("p",{className:"text-xs text-gray-400",children:"ESSP Admin Dashboard v1.0"})})]})]})]})})]})}const jo={healthy:{icon:xl,color:"text-green-500",bgColor:"bg-green-50",label:"Healthy"},degraded:{icon:Xa,color:"text-yellow-500",bgColor:"bg-yellow-50",label:"Degraded"},unhealthy:{icon:Uo,color:"text-red-500",bgColor:"bg-red-50",label:"Unhealthy"}},a_=[{name:"ims-api",status:"healthy",latencyMs:12,lastCheck:new Date().toISOString()},{name:"ssot-school",status:"healthy",latencyMs:8,lastCheck:new Date().toISOString()},{name:"ssot-devices",status:"healthy",latencyMs:15,lastCheck:new Date().toISOString()},{name:"ssot-parts",status:"healthy",latencyMs:10,lastCheck:new Date().toISOString()},{name:"sync-worker",status:"healthy",latencyMs:5,lastCheck:new Date().toISOString()}];function n_({services:t=a_,isLoading:a}){const r=t.every(o=>o.status==="healthy")?"healthy":t.some(o=>o.status==="unhealthy")?"unhealthy":"degraded";return a?e.jsxs(F,{children:[e.jsx(ie,{className:"pb-2",children:e.jsxs(oe,{className:"flex items-center gap-2 text-base",children:[e.jsx(cl,{className:"h-5 w-5"}),"Service Health"]})}),e.jsx(P,{children:e.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(o=>e.jsx("div",{className:"skeleton h-8 rounded"},o))})})]}):e.jsxs(F,{children:[e.jsx(ie,{className:"pb-2",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(oe,{className:"flex items-center gap-2 text-base",children:[e.jsx(cl,{className:"h-5 w-5"}),"Service Health"]}),e.jsxs("div",{className:z("flex items-center gap-1.5 rounded-full px-2 py-0.5 text-xs font-medium",jo[r].bgColor,jo[r].color),children:[(()=>{const o=jo[r].icon;return e.jsx(o,{className:"h-3 w-3"})})(),jo[r].label]})]})}),e.jsx(P,{children:e.jsx("div",{className:"space-y-2",children:t.map(o=>{const d=jo[o.status],u=d.icon;return e.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-gray-100 p-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(u,{className:z("h-4 w-4",d.color)}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:o.name})]}),e.jsx("div",{className:"flex items-center gap-3 text-xs text-gray-500",children:e.jsxs("span",{children:[o.latencyMs,"ms"]})})]},o.name)})})})]})}function jd({title:t,value:a,subtitle:l,icon:r,href:o,iconColor:d,iconBgColor:u}){return e.jsx(ce,{to:o,children:e.jsx(F,{className:"transition-shadow hover:shadow-md",children:e.jsxs(P,{className:"flex items-center gap-4 p-4",children:[e.jsx("div",{className:z("rounded-lg p-3",u),children:e.jsx(r,{className:z("h-6 w-6",d)})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:t}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.toLocaleString()}),l&&e.jsx("p",{className:"text-xs text-gray-500",children:l})]})]})})})}const l_={incidents:{total:156,open:23,slaBreached:3},workOrders:{total:89,inProgress:15,completedToday:8},programs:{active:12,pending:5}};function r_({metrics:t=l_,isLoading:a}){return a?e.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[1,2,3,4].map(l=>e.jsx(F,{children:e.jsx(P,{className:"p-4",children:e.jsx("div",{className:"skeleton h-20 rounded"})})},l))}):e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsx(jd,{title:"Open Incidents",value:t.incidents.open,subtitle:`${t.incidents.slaBreached} SLA breached`,icon:We,href:"/incidents?status=new,acknowledged,in_progress",iconColor:"text-amber-600",iconBgColor:"bg-amber-50"}),e.jsx(jd,{title:"Active Work Orders",value:t.workOrders.inProgress,subtitle:`${t.workOrders.completedToday} completed today`,icon:Ge,href:"/work-orders?status=in_repair",iconColor:"text-blue-600",iconBgColor:"bg-blue-50"}),e.jsx(jd,{title:"Active Projects",value:t.programs.active,subtitle:`${t.programs.pending} pending`,icon:Ea,href:"/projects?status=active",iconColor:"text-purple-600",iconBgColor:"bg-purple-50"}),e.jsx(jd,{title:"Total Incidents",value:t.incidents.total,subtitle:"All time",icon:rt,href:"/incidents",iconColor:"text-gray-600",iconBgColor:"bg-gray-100"})]})}const pv={incident:We,workorder:Ge,program:Ea,user:Pt,default:cl},yv={incident:"text-amber-500 bg-amber-50",workorder:"text-blue-500 bg-blue-50",program:"text-purple-500 bg-purple-50",user:"text-green-500 bg-green-50",default:"text-gray-500 bg-gray-50"},i_=[{id:"1",type:"incident",action:"created",actor:"John Doe",target:"INC-2024-001",timestamp:new Date(Date.now()-120*1e3).toISOString(),metadata:{severity:"high"}},{id:"2",type:"workorder",action:"status_changed",actor:"Jane Smith",target:"WO-2024-015",timestamp:new Date(Date.now()-900*1e3).toISOString(),metadata:{from:"assigned",to:"in_repair"}},{id:"3",type:"program",action:"phase_completed",actor:"Mike Johnson",target:"PRG-2024-003",timestamp:new Date(Date.now()-2700*1e3).toISOString(),metadata:{phase:"survey"}},{id:"4",type:"workorder",action:"deliverable_submitted",actor:"Sarah Williams",target:"WO-2024-012",timestamp:new Date(Date.now()-7200*1e3).toISOString(),metadata:{}},{id:"5",type:"incident",action:"resolved",actor:"Alex Brown",target:"INC-2024-089",timestamp:new Date(Date.now()-10800*1e3).toISOString(),metadata:{}}];function o_(t){return{incident:{created:"created incident",updated:"updated incident",resolved:"resolved incident",closed:"closed incident"},workorder:{created:"created work order",status_changed:"changed status of work order",deliverable_submitted:"submitted deliverable for",completed:"completed work order"},program:{created:"created program",phase_completed:"completed phase in program",updated:"updated program"}}[t.type]?.[t.action]||"performed action on"}function c_({activities:t=i_,isLoading:a}){return a?e.jsxs(F,{children:[e.jsx(ie,{className:"pb-2",children:e.jsxs(oe,{className:"flex items-center gap-2 text-base",children:[e.jsx(it,{className:"h-5 w-5"}),"Recent Activity"]})}),e.jsx(P,{children:e.jsx("div",{className:"space-y-4",children:[1,2,3,4,5].map(l=>e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"skeleton h-8 w-8 rounded-full"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"skeleton h-4 w-3/4 rounded"}),e.jsx("div",{className:"skeleton h-3 w-1/4 rounded"})]})]},l))})})]}):e.jsxs(F,{children:[e.jsx(ie,{className:"pb-2",children:e.jsxs(oe,{className:"flex items-center gap-2 text-base",children:[e.jsx(it,{className:"h-5 w-5"}),"Recent Activity"]})}),e.jsx(P,{children:e.jsx("div",{className:"space-y-4",children:t.map(l=>{const r=pv[l.type]||pv.default,o=yv[l.type]||yv.default;return e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`rounded-full p-2 ${o}`,children:e.jsx(r,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("p",{className:"text-sm text-gray-900",children:[e.jsx("span",{className:"font-medium",children:l.actor})," ",o_(l)," ",e.jsx("span",{className:"font-medium",children:l.target})]}),e.jsx("p",{className:"text-xs text-gray-500",children:Vo(l.timestamp)})]})]},l.id)})})})]})}function d_(){const t=new Date().getHours();return t<12?{text:"Good morning",icon:Bx}:t<17?{text:"Good afternoon",icon:nC}:{text:"Good evening",icon:Hx}}function u_(){return new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}const m_={ssp_admin:"System Administrator",ssp_school_contact:"School Contact",ssp_support_agent:"Support Agent",ssp_lead_tech:"Lead Technician",ssp_field_tech:"Field Technician",ssp_warehouse_manager:"Warehouse Manager",ssp_demo_team:"Demo Team",ssp_sales:"Sales Representative"},vv=[{value:"12",label:"Open Incidents",permission:"incident:read"},{value:"8",label:"My Work Orders",permission:"workorder:read"},{value:"156",label:"Active Schools",permission:"school:read"},{value:"2.4K",label:"Total Devices",permission:"device:read"}];function h_(){const{user:t,hasPermission:a,hasRole:l}=Nt(),r=d_(),o=r.icon,d=t?.displayName||t?.username||"User",u=t?.roles?.[0],h=u?m_[u]||u.replace("ssp_","").replace("_"," "):"",x=b.useMemo(()=>l("ssp_admin")?vv:vv.filter(g=>!!(!g.permission&&!g.roles||g.permission&&a(g.permission)||g.roles?.some(y=>l(y)))),[a,l]);return e.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-r from-cyan-600 via-teal-600 to-cyan-700 p-6 text-white shadow-lg",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/5 rounded-full -translate-y-32 translate-x-32"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-white/5 rounded-full translate-y-24 -translate-x-24"}),e.jsx("div",{className:"absolute top-1/2 right-1/4 w-24 h-24 bg-cyan-400/20 rounded-full blur-xl"}),e.jsxs("div",{className:"relative flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-white/20 backdrop-blur",children:e.jsx(o,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl md:text-3xl font-bold",children:[r.text,", ",d,"!"]}),h&&e.jsx("p",{className:"text-cyan-200 text-sm",children:h})]})]}),e.jsx("p",{className:"text-cyan-100 ml-13",children:u_()})]}),e.jsx("div",{className:"hidden md:flex items-center gap-4",children:e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-cyan-200",children:"Welcome to"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Jt,{className:"h-5 w-5 text-cyan-300"}),e.jsx("p",{className:"text-xl font-bold",children:"ESSP Dashboard"})]})]})})]}),x.length>0&&e.jsx("div",{className:`relative mt-6 grid grid-cols-2 md:grid-cols-${Math.min(x.length,4)} gap-4`,children:x.map(g=>e.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-xl p-3",children:[e.jsx("p",{className:"text-2xl font-bold",children:g.value}),e.jsx("p",{className:"text-cyan-200 text-sm",children:g.label})]},g.label))})]})}const jv=[{label:"New Incident",description:"Report a new issue",icon:We,href:"/incidents?action=create",gradient:"from-amber-500 to-orange-500",iconColor:"text-amber-600",hoverBg:"hover:bg-amber-50",permission:"incident:create",roles:["ssp_admin","ssp_support_agent","ssp_school_contact"]},{label:"Create Work Order",description:"Start a repair task",icon:Ge,href:"/work-orders?action=create",gradient:"from-blue-500 to-cyan-500",iconColor:"text-blue-600",hoverBg:"hover:bg-blue-50",permission:"workorder:create",roles:["ssp_admin","ssp_support_agent","ssp_lead_tech"]},{label:"View Schools",description:"Browse school list",icon:Ft,href:"/schools",gradient:"from-emerald-500 to-teal-500",iconColor:"text-emerald-600",hoverBg:"hover:bg-emerald-50",permission:"school:read",roles:["ssp_admin","ssp_support_agent","ssp_lead_tech","ssp_demo_team","ssp_sales","ssp_contractor"]},{label:"Device Inventory",description:"Check device status",icon:is,href:"/devices",gradient:"from-purple-500 to-indigo-500",iconColor:"text-purple-600",hoverBg:"hover:bg-purple-50",permission:"device:read",roles:["ssp_admin","ssp_support_agent","ssp_warehouse_manager"]},{label:"Parts Catalog",description:"Manage spare parts",icon:rt,href:"/parts-catalog",gradient:"from-rose-500 to-pink-500",iconColor:"text-rose-600",hoverBg:"hover:bg-rose-50",permission:"parts:read",roles:["ssp_admin","ssp_support_agent","ssp_lead_tech","ssp_supplier","ssp_warehouse_manager"]},{label:"Reports",description:"View analytics",icon:rs,href:"/audit-logs",gradient:"from-slate-500 to-gray-600",iconColor:"text-slate-600",hoverBg:"hover:bg-slate-50",roles:["ssp_admin"]}];function x_(){const{hasPermission:t,hasRole:a}=Nt(),l=b.useMemo(()=>a("ssp_admin")?jv:jv.filter(r=>!r.permission&&!r.roles?!0:r.permission&&r.roles?t(r.permission)&&r.roles.some(o=>a(o)):r.permission&&!r.roles?t(r.permission):r.roles&&!r.permission?r.roles.some(o=>a(o)):!1),[t,a]);return l.length===0?null:e.jsxs(F,{className:"border-0 shadow-md bg-white/80 backdrop-blur",children:[e.jsx(ie,{className:"pb-3",children:e.jsxs(oe,{className:"flex items-center gap-2 text-base",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-gradient-to-br from-cyan-500 to-teal-600",children:e.jsx(Tt,{className:"h-4 w-4 text-white"})}),"Quick Actions"]})}),e.jsx(P,{children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3",children:l.map(r=>{const o=r.icon;return e.jsxs(ce,{to:r.href,className:`group relative flex flex-col items-center justify-center p-4 rounded-xl bg-white border border-gray-100 transition-all duration-200 ${r.hoverBg} hover:shadow-md hover:border-transparent hover:-translate-y-0.5`,children:[e.jsx("div",{className:`absolute top-0 left-0 right-0 h-1 rounded-t-xl bg-gradient-to-r ${r.gradient} opacity-0 group-hover:opacity-100 transition-opacity`}),e.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br ${r.gradient} mb-3 shadow-sm group-hover:shadow-md transition-shadow`,children:e.jsx(o,{className:"h-6 w-6 text-white"})}),e.jsx("span",{className:"text-sm font-medium text-gray-900 text-center",children:r.label}),e.jsx("span",{className:"text-xs text-gray-500 text-center hidden md:block mt-1",children:r.description}),e.jsx(Pe,{className:"absolute bottom-2 right-2 h-4 w-4 text-gray-300 opacity-0 group-hover:opacity-100 transition-opacity"})]},r.label)})})})]})}const f_=[{id:"wo-001",title:"Laptop screen replacement",type:"work_order",status:"urgent",dueDate:"2024-12-14",school:"Nairobi Primary"},{id:"wo-002",title:"Battery replacement - Dell Latitude",type:"work_order",status:"in_progress",dueDate:"2024-12-16",school:"Mombasa Secondary"},{id:"appr-001",title:"Work order approval pending",type:"approval",status:"pending",school:"Kisumu Academy"},{id:"inc-001",title:"Device not turning on",type:"incident",status:"pending",school:"Nakuru High"}],g_={urgent:{label:"Urgent",color:"bg-red-100 text-red-800",icon:Xa},pending:{label:"Pending",color:"bg-yellow-100 text-yellow-800",icon:it},in_progress:{label:"In Progress",color:"bg-blue-100 text-blue-800",icon:Ge}},p_={work_order:{label:"Work Order",href:"/work-orders"},approval:{label:"Approval",href:"/approvals"},incident:{label:"Incident",href:"/incidents"}};function y_({tasks:t=f_,isLoading:a}){const l=t.filter(o=>o.status==="urgent").length,r=t.filter(o=>o.status==="pending").length;return a?e.jsxs(F,{children:[e.jsx(ie,{className:"pb-3",children:e.jsxs(oe,{className:"flex items-center gap-2 text-base",children:[e.jsx(Do,{className:"h-5 w-5"}),"My Tasks"]})}),e.jsx(P,{children:e.jsx("div",{className:"space-y-3",children:[1,2,3,4].map(o=>e.jsx("div",{className:"skeleton h-16 rounded"},o))})})]}):e.jsxs(F,{children:[e.jsx(ie,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(oe,{className:"flex items-center gap-2 text-base",children:[e.jsx(Do,{className:"h-5 w-5"}),"My Tasks"]}),e.jsxs("div",{className:"flex gap-2",children:[l>0&&e.jsxs(ee,{className:"bg-red-100 text-red-800",children:[l," urgent"]}),r>0&&e.jsxs(ee,{className:"bg-yellow-100 text-yellow-800",children:[r," pending"]})]})]})}),e.jsx(P,{children:t.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(_t,{className:"h-12 w-12 mx-auto mb-3 text-green-500"}),e.jsx("p",{className:"font-medium",children:"All caught up!"}),e.jsx("p",{className:"text-sm",children:"No pending tasks assigned to you."})]}):e.jsxs("div",{className:"space-y-3",children:[t.slice(0,5).map(o=>{const d=g_[o.status],u=p_[o.type],h=d.icon;return e.jsx(ce,{to:`${u.href}/${o.id}`,className:"block p-3 rounded-lg border border-gray-100 hover:border-gray-200 hover:bg-gray-50 transition-colors",children:e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"flex items-start gap-3 min-w-0",children:[e.jsx("div",{className:z("rounded-full p-1.5 mt-0.5",o.status==="urgent"?"bg-red-100":o.status==="pending"?"bg-yellow-100":"bg-blue-100"),children:e.jsx(h,{className:z("h-4 w-4",o.status==="urgent"?"text-red-600":o.status==="pending"?"text-yellow-600":"text-blue-600")})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"font-medium text-gray-900 truncate",children:o.title}),e.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-gray-500",children:[e.jsx("span",{children:u.label}),o.school&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:""}),e.jsx("span",{children:o.school})]}),o.dueDate&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:""}),e.jsxs("span",{children:["Due ",o.dueDate]})]})]})]})]}),e.jsx(ee,{className:d.color,children:d.label})]})},o.id)}),t.length>5&&e.jsx(ce,{to:"/work-orders?assignee=me",children:e.jsxs(T,{variant:"outline",className:"w-full",children:["View all ",t.length," tasks",e.jsx(Pe,{className:"h-4 w-4 ml-2"})]})})]})})]})}const v_=[{id:"n1",title:"SLA Warning",message:"Work order WO-001 is approaching SLA deadline (2 hours remaining)",type:"warning",timestamp:"10 min ago",read:!1,href:"/work-orders/wo-001"},{id:"n2",title:"Sync Completed",message:"Device inventory sync completed successfully. 234 devices updated.",type:"success",timestamp:"1 hour ago",read:!1},{id:"n3",title:"Low Stock Alert",message:"5 parts are below minimum stock level",type:"alert",timestamp:"2 hours ago",read:!1,href:"/parts-catalog?filter=low-stock"},{id:"n4",title:"New Assignment",message:"You have been assigned to incident INC-042",type:"info",timestamp:"3 hours ago",read:!0,href:"/incidents/inc-042"},{id:"n5",title:"Approval Required",message:"Work order WO-015 requires your approval",type:"info",timestamp:"5 hours ago",read:!0,href:"/approvals"}],j_={warning:{icon:it,color:"text-amber-600",bgColor:"bg-amber-50",badgeColor:"bg-amber-100 text-amber-800"},info:{icon:Ix,color:"text-blue-600",bgColor:"bg-blue-50",badgeColor:"bg-blue-100 text-blue-800"},success:{icon:xl,color:"text-green-600",bgColor:"bg-green-50",badgeColor:"bg-green-100 text-green-800"},alert:{icon:We,color:"text-red-600",bgColor:"bg-red-50",badgeColor:"bg-red-100 text-red-800"}};function b_({notifications:t=v_,isLoading:a,onDismiss:l,onMarkAllRead:r}){const o=t.filter(d=>!d.read).length;return a?e.jsxs(F,{children:[e.jsx(ie,{className:"pb-3",children:e.jsxs(oe,{className:"flex items-center gap-2 text-base",children:[e.jsx(wn,{className:"h-5 w-5"}),"Notifications"]})}),e.jsx(P,{children:e.jsx("div",{className:"space-y-3",children:[1,2,3].map(d=>e.jsx("div",{className:"skeleton h-16 rounded"},d))})})]}):e.jsxs(F,{children:[e.jsx(ie,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(oe,{className:"flex items-center gap-2 text-base",children:[e.jsx(wn,{className:"h-5 w-5"}),"Notifications",o>0&&e.jsxs(ee,{className:"bg-red-100 text-red-800 ml-1",children:[o," new"]})]}),o>0&&r&&e.jsx(T,{variant:"ghost",size:"sm",onClick:r,className:"text-xs text-gray-500 hover:text-gray-700",children:"Mark all read"})]})}),e.jsx(P,{children:t.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(wn,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),e.jsx("p",{className:"font-medium",children:"All caught up!"}),e.jsx("p",{className:"text-sm",children:"No new notifications."})]}):e.jsxs("div",{className:"space-y-2",children:[t.slice(0,5).map(d=>{const u=j_[d.type],h=u.icon,x=e.jsxs("div",{className:z("flex items-start gap-3 p-3 rounded-lg transition-colors",d.read?"bg-gray-50 hover:bg-gray-100":"bg-white border border-gray-200 hover:border-gray-300",d.href&&"cursor-pointer"),children:[e.jsx("div",{className:z("rounded-full p-1.5 mt-0.5",u.bgColor),children:e.jsx(h,{className:z("h-4 w-4",u.color)})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:z("text-sm truncate",d.read?"font-medium text-gray-700":"font-semibold text-gray-900"),children:d.title}),e.jsx("p",{className:"text-xs text-gray-500 line-clamp-2 mt-0.5",children:d.message})]}),!d.read&&e.jsx("div",{className:"h-2 w-2 rounded-full bg-blue-500 mt-1.5 flex-shrink-0"})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:d.timestamp})]}),l&&e.jsx("button",{onClick:g=>{g.preventDefault(),g.stopPropagation(),l(d.id)},className:"text-gray-400 hover:text-gray-600 p-1",children:e.jsx(Et,{className:"h-4 w-4"})})]});return d.href?e.jsx(ce,{to:d.href,children:x},d.id):e.jsx("div",{children:x},d.id)}),t.length>5&&e.jsx(ce,{to:"/notifications",children:e.jsxs(T,{variant:"outline",className:"w-full mt-2",children:["View all ",t.length," notifications",e.jsx(Pe,{className:"h-4 w-4 ml-2"})]})})]})})]})}const Rt=b.forwardRef(({className:t,error:a,...l},r)=>e.jsx("textarea",{className:z("flex min-h-[80px] w-full rounded-md border bg-white px-3 py-2 text-sm","placeholder:text-gray-500","focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2","disabled:cursor-not-allowed disabled:opacity-50",a?"border-red-300":"border-gray-300",t),ref:r,...l}));Rt.displayName="Textarea";const ja={startSession:async t=>(await Ye.post("/chat/sessions",t||{})).data,getQueuePosition:async t=>(await Ye.get(`/chat/sessions/${t}/queue`)).data,endSession:async(t,a)=>{await Ye.post(`/chat/sessions/${t}/end`,a||{})},acceptChat:async()=>(await Ye.post("/chat/accept")).data,transferChat:async(t,a)=>{await Ye.post(`/chat/sessions/${t}/transfer`,a)},getQueue:async()=>(await Ye.get("/chat/queue")).data,getActiveChats:async()=>(await Ye.get("/chat/active")).data,setAvailability:async t=>{await Ye.put("/chat/availability",t)},getAvailability:async()=>(await Ye.get("/chat/availability")).data,getMetrics:async(t,a)=>(await Ye.get("/chat/metrics",{params:{from:t,to:a}})).data,sendAIMessage:async(t,a)=>(await Ye.post(`/chat/ai/sessions/${t}/message`,a)).data,requestEscalation:async(t,a)=>(await Ye.post(`/chat/ai/sessions/${t}/escalate`,a||{})).data,getAIContext:async t=>(await Ye.get(`/chat/ai/sessions/${t}/context`)).data},Ct={all:["livechat"],queue:()=>[...Ct.all,"queue"],activeChats:()=>[...Ct.all,"active"],availability:()=>[...Ct.all,"availability"],queuePosition:t=>[...Ct.all,"queuePosition",t],metrics:(t,a)=>[...Ct.all,"metrics",t,a]};function N_(){const t=_e();return Re({mutationFn:a=>ja.startSession(a),onSuccess:()=>{t.invalidateQueries({queryKey:Ct.queue()})}})}function Vb(){const t=_e();return Re({mutationFn:({sessionId:a,data:l})=>ja.endSession(a,l),onSuccess:()=>{t.invalidateQueries({queryKey:Ct.queue()}),t.invalidateQueries({queryKey:Ct.activeChats()})}})}function w_(){const t=_e();return Re({mutationFn:()=>ja.acceptChat(),onSuccess:()=>{t.invalidateQueries({queryKey:Ct.queue()}),t.invalidateQueries({queryKey:Ct.activeChats()}),t.invalidateQueries({queryKey:Ct.availability()})}})}function S_(){const t=_e();return Re({mutationFn:({sessionId:a,data:l})=>ja.transferChat(a,l),onSuccess:()=>{t.invalidateQueries({queryKey:Ct.activeChats()})}})}function nf(t=!0){return Se({queryKey:Ct.queue(),queryFn:()=>ja.getQueue(),enabled:t,refetchInterval:1e4})}function cu(t=!0){return Se({queryKey:Ct.activeChats(),queryFn:()=>ja.getActiveChats(),enabled:t,refetchInterval:1e4})}function C_(t=!0){return Se({queryKey:Ct.availability(),queryFn:()=>ja.getAvailability(),enabled:t})}function k_(){const t=_e();return Re({mutationFn:a=>ja.setAvailability(a),onSuccess:()=>{t.invalidateQueries({queryKey:Ct.availability()})}})}function A_(t,a){return Se({queryKey:Ct.metrics(t,a),queryFn:()=>ja.getMetrics(t,a)})}function M_(){const t=_e();return Re({mutationFn:({sessionId:a,content:l,deviceSerial:r})=>ja.sendAIMessage(a,{content:l,deviceSerial:r}),onSuccess:()=>{t.invalidateQueries({queryKey:["messages"]})}})}function __(){const t=_e();return Re({mutationFn:({sessionId:a,reason:l})=>ja.requestEscalation(a,{reason:l}),onSuccess:()=>{t.invalidateQueries({queryKey:Ct.queue()}),t.invalidateQueries({queryKey:["messages"]})}})}function T_(t,a=!0){return Se({queryKey:[...Ct.all,"ai-context",t],queryFn:()=>ja.getAIContext(t),enabled:a&&!!t})}function R_({className:t}){const[a,l]=b.useState(!1),[r,o]=b.useState(!1),[d,u]=b.useState(null),[h,x]=b.useState(0),[g,y]=b.useState(""),[p,j]=b.useState(!1),N=b.useRef(null),{user:v}=Nt(),C=N_(),S=Vb(),_=M_(),E=__(),{data:A,refetch:M}=sf(d?.threadId),H=af(d?.threadId||"");b.useEffect(()=>{N.current?.scrollIntoView({behavior:"smooth"})},[A?.messages]),ou({onMessage:b.useCallback(me=>{if(me.type==="chat_message"&&d?.threadId&&(M(),(r||!a)&&x(D=>D+1)),me.type==="typing_indicator"){const D=me.payload;D.threadId===d?.threadId&&D.userId==="ai_assistant"&&j(D.isTyping)}if(me.type==="chat_session_update"){const D=me.payload;D.sessionId===d?.id&&u(X=>X?{...X,status:D.status,assignedAgentId:D.agentId,assignedAgentName:D.agentName}:null)}},[d?.id,d?.threadId,M,r,a])});const I=()=>{l(!0),o(!1),x(0)},W=()=>{o(!0)},Q=async()=>{if(d&&d.status!=="ended")try{await S.mutateAsync({sessionId:d.id})}catch(me){console.error("Failed to end session:",me)}l(!1),o(!1),u(null),x(0)},K=async()=>{if(v)try{const me=await C.mutateAsync({subject:"Live Chat Support"});u(me.session)}catch(me){console.error("Failed to start chat session:",me)}},q=async()=>{if(!g.trim()||!d?.threadId)return;const me=g.trim();y("");try{if(d.status==="ai_active"){j(!0);const D=await _.mutateAsync({sessionId:d.id,content:me});j(!1),D.sessionStatus!==d.status&&u(X=>X?{...X,status:D.sessionStatus}:null)}else await H.mutateAsync({content:me})}catch(D){console.error("Failed to send message:",D),j(!1)}},$=async()=>{if(d)try{const me=await E.mutateAsync({sessionId:d.id,reason:"User requested human agent"});u(me.session)}catch(me){console.error("Failed to request human agent:",me)}},re=me=>{me.key==="Enter"&&!me.shiftKey&&(me.preventDefault(),q())},le=A?.messages||[],xe=d?.status==="ai_active";return a?r?e.jsx("div",{className:z("fixed bottom-6 right-6 w-72 rounded-lg shadow-lg cursor-pointer z-50",xe?"bg-purple-600":"bg-cyan-600","text-white",t),onClick:()=>{o(!1),x(0)},children:e.jsxs("div",{className:"flex items-center justify-between p-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[xe?e.jsx(Ma,{className:"h-5 w-5"}):e.jsx(bn,{className:"h-5 w-5"}),e.jsx("span",{className:"font-medium",children:xe?"AI Assistant":"Support Chat"}),h>0&&e.jsx("span",{className:"w-5 h-5 bg-red-500 rounded-full text-xs flex items-center justify-center",children:h>9?"9+":h})]}),e.jsx("button",{onClick:me=>{me.stopPropagation(),Q()},className:"hover:bg-white/20 rounded p-1",children:e.jsx(Et,{className:"h-4 w-4"})})]})}):e.jsxs("div",{className:z("fixed bottom-6 right-6 w-96 h-[500px] max-h-[80vh] bg-white rounded-lg shadow-2xl flex flex-col z-50 overflow-hidden",t),children:[e.jsxs("div",{className:z("flex items-center justify-between p-4 text-white",xe?"bg-purple-600":"bg-cyan-600"),children:[e.jsxs("div",{className:"flex items-center gap-2",children:[xe?e.jsx(Ma,{className:"h-5 w-5"}):e.jsx(bn,{className:"h-5 w-5"}),e.jsx("span",{className:"font-medium",children:xe?"AI Assistant":"Support Chat"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:W,className:"hover:bg-white/20 rounded p-1",children:e.jsx(JC,{className:"h-4 w-4"})}),e.jsx("button",{onClick:Q,className:"hover:bg-white/20 rounded p-1",children:e.jsx(Et,{className:"h-4 w-4"})})]})]}),d?e.jsxs(e.Fragment,{children:[d.status==="ai_active"&&e.jsxs("div",{className:"px-4 py-2 bg-purple-50 border-b border-purple-100 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ma,{className:"h-4 w-4 text-purple-600"}),e.jsx("span",{className:"text-sm text-purple-700",children:"AI Assistant"})]}),e.jsx(T,{variant:"outline",size:"sm",onClick:$,disabled:E.isPending,className:"text-xs h-7 border-purple-300 text-purple-700 hover:bg-purple-100",children:E.isPending?e.jsx(jt,{className:"h-3 w-3 animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(Pt,{className:"h-3 w-3 mr-1"}),"Talk to Human"]})})]}),d.status==="waiting"&&e.jsx("div",{className:"px-4 py-2 bg-amber-50 border-b border-amber-100 text-center",children:e.jsxs("p",{className:"text-sm text-amber-700",children:[e.jsx(jt,{className:"h-3 w-3 animate-spin inline mr-2"}),"Connecting you with an agent...",d.queuePosition&&d.queuePosition>0&&e.jsxs("span",{className:"ml-1",children:["(Position: ",d.queuePosition,")"]})]})}),d.status==="active"&&d.assignedAgentName&&e.jsx("div",{className:"px-4 py-2 bg-green-50 border-b border-green-100 text-center",children:e.jsxs("p",{className:"text-sm text-green-700",children:["Connected with ",d.assignedAgentName]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[le.length===0?e.jsx("p",{className:"text-center text-gray-500 text-sm",children:"No messages yet. Start the conversation!"}):le.map(me=>{const D=me.senderId===v?.username,X=me.contentType==="system",Z=me.senderRole==="ai"||me.senderId==="ai_assistant";return X?e.jsx("div",{className:"text-center",children:e.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:me.content})},me.id):e.jsxs("div",{className:z("flex flex-col max-w-[80%]",D?"ml-auto items-end":"items-start"),children:[e.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[Z&&e.jsx(Ma,{className:"h-3 w-3 text-purple-600"}),e.jsx("span",{className:z("text-xs",Z?"text-purple-600":"text-gray-500"),children:me.senderName})]}),e.jsx("div",{className:z("rounded-lg px-3 py-2",D?"bg-cyan-600 text-white":Z?"bg-purple-100 text-gray-900":"bg-gray-100 text-gray-900"),children:e.jsx("p",{className:"text-sm whitespace-pre-wrap",children:me.content})}),e.jsx("span",{className:"text-xs text-gray-400 mt-1",children:$s(new Date(me.createdAt),{addSuffix:!0})})]},me.id)}),p&&e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ma,{className:"h-3 w-3 text-purple-600"}),e.jsx("span",{className:"text-xs text-purple-600",children:"AI Assistant"})]}),e.jsx("div",{className:"bg-purple-100 rounded-lg px-3 py-2",children:e.jsxs("div",{className:"flex gap-1",children:[e.jsx("span",{className:"w-2 h-2 bg-purple-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),e.jsx("span",{className:"w-2 h-2 bg-purple-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),e.jsx("span",{className:"w-2 h-2 bg-purple-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})]}),e.jsx("div",{ref:N})]}),d.status!=="ended"&&e.jsx("div",{className:"p-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Rt,{value:g,onChange:me=>y(me.target.value),onKeyPress:re,placeholder:xe?"Describe your issue...":"Type a message...",className:"flex-1 min-h-[40px] max-h-[100px] resize-none",rows:1,disabled:p}),e.jsx(T,{onClick:q,disabled:!g.trim()||H.isPending||_.isPending||p,size:"sm",className:z("h-10",xe?"bg-purple-600 hover:bg-purple-700":"bg-cyan-600 hover:bg-cyan-700"),children:H.isPending||_.isPending?e.jsx(jt,{className:"h-4 w-4 animate-spin"}):e.jsx(hi,{className:"h-4 w-4"})})]})})]}):e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-6 text-center",children:[e.jsx(Ma,{className:"h-12 w-12 text-purple-600 mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Need Help?"}),e.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Our AI assistant is ready to help. You can also request a human agent anytime."}),e.jsx(T,{onClick:K,disabled:C.isPending,className:"bg-purple-600 hover:bg-purple-700",children:C.isPending?e.jsxs(e.Fragment,{children:[e.jsx(jt,{className:"h-4 w-4 mr-2 animate-spin"}),"Starting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ma,{className:"h-4 w-4 mr-2"}),"Start Chat"]})})]})]}):e.jsxs("button",{onClick:I,className:z("fixed bottom-6 right-6 w-14 h-14 rounded-full bg-cyan-600 text-white shadow-lg hover:bg-cyan-700 transition-all hover:scale-105 flex items-center justify-center z-50",t),"aria-label":"Open chat",children:[e.jsx(bn,{className:"h-6 w-6"}),h>0&&e.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full text-xs flex items-center justify-center",children:h>9?"9+":h})]})}const Hb=b.createContext(void 0);function nr(){const t=b.useContext(Hb);if(!t)throw new Error("useLivechatContext must be used within a LivechatProvider");return t}function D_({children:t}){const a=_e(),[l,r]=b.useState(null),[o,d]=b.useState(!1),[u,h]=b.useState(null),[x,g]=b.useState(!1),[y,p]=b.useState(null),[j,N]=b.useState(new Map),[v,C]=b.useState(null),S=b.useCallback(W=>{switch(W.type){case"chat_session_update":{const{sessionId:Q,status:K,agentId:q,agentName:$,queuePosition:re}=W.payload;l?.id===Q&&(r(le=>le&&{...le,status:K,assignedAgentId:q,assignedAgentName:$,queuePosition:re}),re!==void 0&&h(re)),a.invalidateQueries({queryKey:Ct.queue()}),a.invalidateQueries({queryKey:Ct.activeChats()});break}case"new_chat_waiting":{const{sessionId:Q,schoolContactName:K,subject:q}=W.payload;C({sessionId:Q,contactName:K,subject:q}),a.invalidateQueries({queryKey:Ct.queue()});break}case"chat_message":{const{threadId:Q,message:K}=W.payload;l?.threadId===Q&&a.setQueryData(pt.thread(Q),q=>q&&{...q,messages:[...q.messages,K]}),a.invalidateQueries({queryKey:Ct.activeChats()});break}case"chat_typing":{const{threadId:Q,userId:K,userName:q,isTyping:$}=W.payload;l?.threadId===Q&&N(re=>{const le=new Map(re);return $?le.set(K,{userName:q,timestamp:Date.now()}):le.delete(K),le});break}case"presence_update":{a.invalidateQueries({queryKey:Ct.availability()});break}}},[l,a]);ou({onMessage:S}),b.useEffect(()=>{const W=setInterval(()=>{const Q=Date.now();N(K=>{const q=new Map(K);let $=!1;for(const[re,le]of K)Q-le.timestamp>5e3&&(q.delete(re),$=!0);return $?q:K})},1e3);return()=>clearInterval(W)},[]);const _=b.useCallback(()=>{d(!0)},[]),E=b.useCallback(()=>{d(!1)},[]),A=b.useCallback(()=>{d(W=>!W)},[]),M=b.useCallback((W,Q,K,q)=>{l?.id===W&&r($=>$&&{...$,status:Q,assignedAgentId:K,assignedAgentName:q})},[l]),H=b.useCallback(()=>{C(null)},[]),I={currentSession:l,setCurrentSession:r,isWidgetOpen:o,openWidget:_,closeWidget:E,toggleWidget:A,queuePosition:u,isAgentAvailable:x,setAgentAvailable:g,onSessionUpdate:M,activeSessionId:y,setActiveSessionId:p,typingInSession:j,newChatNotification:v,clearNewChatNotification:H};return e.jsx(Hb.Provider,{value:I,children:t})}const De=b.forwardRef(({className:t,required:a,children:l,...r},o)=>e.jsxs("label",{ref:o,className:z("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t),...r,children:[l,a&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}));De.displayName="Label";function E_(){const{data:t,isLoading:a}=C_(),l=k_(),{setAgentAvailable:r}=nr(),[o,d]=b.useState(!1),[u,h]=b.useState(t?.maxConcurrentChats||5),x=t?.isAvailable??!1,g=t?.currentChatCount??0,y=()=>{const j=!x;l.mutate({available:j,maxConcurrentChats:u},{onSuccess:()=>{r(j)}})},p=j=>{const N=Math.max(1,Math.min(10,parseInt(j)||1));h(N),x&&l.mutate({available:!0,maxConcurrentChats:N})};return a?e.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-gray-100 animate-pulse",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-gray-300"}),e.jsx("div",{className:"w-16 h-4 bg-gray-300 rounded"})]}):e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:y,disabled:l.isPending,className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-colors ${x?"bg-green-50 border border-green-200 hover:bg-green-100":"bg-gray-50 border border-gray-200 hover:bg-gray-100"}`,children:[e.jsx(qj,{className:`w-3 h-3 ${x?"fill-green-500 text-green-500":"fill-gray-400 text-gray-400"}`}),e.jsx("span",{className:`text-sm font-medium ${x?"text-green-700":"text-gray-600"}`,children:x?"Online":"Offline"}),e.jsx(hl,{className:"w-4 h-4 text-gray-400"})]}),x&&e.jsxs("span",{className:"text-sm text-gray-500",children:[g,"/",u," chats"]}),e.jsx(Yx,{open:o,onClose:()=>d(!1),trigger:e.jsx(T,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>d(!o),children:e.jsx(rl,{className:"h-4 w-4 text-gray-500"})}),align:"end",children:e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsx("div",{children:e.jsx("h4",{className:"font-medium text-sm mb-2",children:"Chat Settings"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx(De,{htmlFor:"max-chats",className:"text-sm",children:"Max concurrent chats"})}),e.jsx(ue,{id:"max-chats",type:"number",min:1,max:10,value:u,onChange:j=>p(j.target.value),className:"w-full"}),e.jsx("p",{className:"text-xs text-gray-500",children:"New chats won't be assigned when you reach this limit (1-10)"})]})]})})]})}function Bb(){const{data:t}=nf(),{data:a}=cu(),{data:l}=A_(),r=t?.totalWaiting??0,o=a?.total??0,d=l?.averageWaitTimeSeconds??0,u=h=>h<60?`${Math.round(h)}s`:`${Math.round(h/60)}m`;return e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-amber-50 border border-amber-200",children:[e.jsx(Yt,{className:"w-4 h-4 text-amber-600"}),e.jsxs("span",{className:"text-sm font-medium text-amber-700",children:["Queue: ",r]})]}),e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-cyan-50 border border-cyan-200",children:[e.jsx(qt,{className:"w-4 h-4 text-cyan-600"}),e.jsxs("span",{className:"text-sm font-medium text-cyan-700",children:["Active: ",o]})]}),e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-gray-50 border border-gray-200",children:[e.jsx(it,{className:"w-4 h-4 text-gray-600"}),e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Avg Wait: ",u(d)]})]})]})}function O_(){return e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 px-6 py-4 bg-white border-b",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-cyan-100",children:e.jsx(dl,{className:"h-5 w-5 text-cyan-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Live Chat"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Manage customer conversations"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[e.jsx(E_,{}),e.jsx("div",{className:"hidden lg:block",children:e.jsx(Bb,{})})]})]})}const $b=b.createContext(null);function Kb(){const t=b.useContext($b);if(!t)throw new Error("Tabs components must be used within a Tabs provider");return t}function lr({value:t,onValueChange:a,children:l,className:r}){return e.jsx($b.Provider,{value:{value:t,onValueChange:a},children:e.jsx("div",{className:z("w-full",r),children:l})})}function rr({children:t,className:a}){return e.jsx("div",{className:z("inline-flex h-10 items-center justify-center rounded-lg bg-gray-100 p-1",a),role:"tablist",children:t})}function kt({value:t,children:a,className:l,disabled:r=!1}){const{value:o,onValueChange:d}=Kb(),u=o===t;return e.jsx("button",{type:"button",role:"tab","aria-selected":u,disabled:r,onClick:()=>d(t),className:z("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1.5 text-sm font-medium","ring-offset-white transition-all","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2","disabled:pointer-events-none disabled:opacity-50",u?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-900",l),children:a})}function At({value:t,children:a,className:l}){const{value:r}=Kb();return r!==t?null:e.jsx("div",{role:"tabpanel",className:z("mt-4 focus-visible:outline-none",l),children:a})}function z_({item:t,onAccept:a,isAccepting:l}){const r=Math.round(t.waitingTimeSeconds/60);return e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-amber-50 border border-amber-200 hover:bg-amber-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-amber-200 flex items-center justify-center",children:e.jsx(Pt,{className:"w-5 h-5 text-amber-700"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"font-medium text-gray-900 truncate",children:t.schoolContactName}),e.jsx("p",{className:"text-sm text-gray-600 truncate",children:t.subject||"New chat"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsxs(ee,{variant:"outline",className:"text-xs bg-white",children:[e.jsx(it,{className:"w-3 h-3 mr-1"}),r,"m waiting"]}),e.jsxs(ee,{variant:"outline",className:"text-xs bg-purple-50 text-purple-700 border-purple-200",children:[e.jsx(Ma,{className:"w-3 h-3 mr-1"}),"AI Escalated"]})]})]})]}),e.jsx(T,{size:"sm",onClick:a,disabled:l,className:"flex-shrink-0 bg-amber-600 hover:bg-amber-700",children:l?"Accepting...":"Accept"})]})}function L_({onChatAccepted:t}){const{data:a,isLoading:l,error:r}=nf(),o=w_(),{newChatNotification:d,clearNewChatNotification:u,setActiveSessionId:h}=nr(),x=()=>{o.mutate(void 0,{onSuccess:p=>{h(p.session.id),t?.(p.session.id),u()}})};if(l)return e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"animate-pulse space-y-3",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3"}),e.jsx("div",{className:"h-16 bg-gray-200 rounded"}),e.jsx("div",{className:"h-16 bg-gray-200 rounded"})]})});if(r)return e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-red-50 border border-red-200 text-red-700",children:[e.jsx(Xa,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm",children:"Failed to load queue"})]})});const g=a?.items??[],y=a?.totalWaiting??0;return e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"flex items-center justify-between p-4 border-b",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Yt,{className:"w-5 h-5 text-amber-600"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Queue"}),y>0&&e.jsx("span",{className:"px-2 py-0.5 text-xs font-medium bg-amber-100 text-amber-700 rounded-full",children:y})]})}),d&&e.jsx("div",{className:"p-3 mx-3 mt-3 rounded-lg bg-amber-100 border border-amber-300",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(wn,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-amber-900",children:"New chat waiting"}),e.jsx("p",{className:"text-sm text-amber-700 truncate",children:d.contactName})]}),e.jsx(T,{size:"sm",variant:"ghost",onClick:u,className:"text-amber-700 hover:text-amber-900",children:"Dismiss"})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-3 space-y-2",children:g.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[e.jsx(Yt,{className:"w-12 h-12 text-gray-300 mb-3"}),e.jsx("p",{className:"text-sm text-gray-500",children:"No chats waiting"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"New chats will appear here"})]}):g.map(p=>e.jsx(z_,{item:p,onAccept:x,isAccepting:o.isPending},p.sessionId))})]})}function q_({item:t,isSelected:a,onClick:l}){const{session:r,unreadCount:o,lastMessageAt:d}=t,u=d?new Date(d).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"";return e.jsx("button",{onClick:l,className:z("w-full text-left p-3 rounded-lg border transition-colors",a?"bg-cyan-50 border-cyan-300 ring-1 ring-cyan-300":"bg-white border-gray-200 hover:bg-gray-50"),children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:z("flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center",a?"bg-cyan-200":"bg-gray-200"),children:e.jsx(Pt,{className:z("w-5 h-5",a?"text-cyan-700":"text-gray-600")})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:z("font-medium truncate",a?"text-cyan-900":"text-gray-900"),children:r.schoolContactName}),o>0&&e.jsx(ee,{className:"bg-red-500 text-white text-xs ml-2",children:o})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.aiHandled&&!r.aiResolved&&e.jsxs(ee,{variant:"outline",className:"text-xs bg-purple-50 text-purple-700 border-purple-200",children:[e.jsx(Ma,{className:"w-3 h-3 mr-1"}),"AI Escalated"]}),r.issueCategory&&e.jsx(ee,{variant:"outline",className:"text-xs",children:r.issueCategory})]}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[e.jsx(qt,{className:"w-3 h-3"}),e.jsxs("span",{children:[r.totalMessages," messages"]})]}),u&&e.jsx("span",{className:"text-xs text-gray-400",children:u})]})]})]})})}function F_(){const{data:t,isLoading:a,error:l}=cu(),{activeSessionId:r,setActiveSessionId:o}=nr();if(a)return e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"animate-pulse space-y-3",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3"}),e.jsx("div",{className:"h-20 bg-gray-200 rounded"}),e.jsx("div",{className:"h-20 bg-gray-200 rounded"})]})});if(l)return e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-red-50 border border-red-200 text-red-700",children:[e.jsx(Xa,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm",children:"Failed to load active chats"})]})});const d=t?.items??[],u=t?.total??0;return e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"flex items-center justify-between p-4 border-b",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(qt,{className:"w-5 h-5 text-cyan-600"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Active Chats"}),u>0&&e.jsx("span",{className:"px-2 py-0.5 text-xs font-medium bg-cyan-100 text-cyan-700 rounded-full",children:u})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-3 space-y-2",children:d.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[e.jsx(qt,{className:"w-12 h-12 text-gray-300 mb-3"}),e.jsx("p",{className:"text-sm text-gray-500",children:"No active chats"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Accept a chat from the queue to start"})]}):d.map(h=>e.jsx(q_,{item:h,isSelected:r===h.session.id,onClick:()=>o(h.session.id)},h.session.id))})]})}function bv({onChatAccepted:t}){const[a,l]=b.useState("queue"),{data:r}=nf(),{data:o}=cu(),d=r?.totalWaiting??0,u=o?.total??0;return e.jsx("div",{className:"flex flex-col h-full bg-white border-r",children:e.jsxs(lr,{value:a,onValueChange:h=>l(h),className:"flex flex-col h-full",children:[e.jsx("div",{className:"border-b px-2 pt-2",children:e.jsxs(rr,{className:"w-full grid grid-cols-2",children:[e.jsxs(kt,{value:"queue",className:"relative",children:["Queue",d>0&&e.jsx("span",{className:"ml-1.5 px-1.5 py-0.5 text-xs bg-amber-500 text-white rounded-full",children:d})]}),e.jsxs(kt,{value:"active",className:"relative",children:["Active",u>0&&e.jsx("span",{className:"ml-1.5 px-1.5 py-0.5 text-xs bg-cyan-500 text-white rounded-full",children:u})]})]})}),e.jsx(At,{value:"queue",className:"flex-1 m-0 overflow-hidden",children:e.jsx(L_,{onChatAccepted:t})}),e.jsx(At,{value:"active",className:"flex-1 m-0 overflow-hidden",children:e.jsx(F_,{})})]})})}function P_({sessionId:t}){const[a,l]=b.useState(!1),{data:r,isLoading:o}=T_(t);if(o||!r)return null;const{turnCount:d,category:u,severity:h,escalationReason:x,summary:g,collectedInfo:y}=r,p={low:"bg-green-100 text-green-700 border-green-200",medium:"bg-amber-100 text-amber-700 border-amber-200",high:"bg-orange-100 text-orange-700 border-orange-200",critical:"bg-red-100 text-red-700 border-red-200"}[h||"medium"]||"bg-gray-100 text-gray-700 border-gray-200";return e.jsxs("div",{className:"mx-4 mb-4 rounded-lg bg-purple-50 border border-purple-200 overflow-hidden",children:[e.jsxs("button",{onClick:()=>l(!a),className:"w-full flex items-center justify-between p-3 hover:bg-purple-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ma,{className:"w-5 h-5 text-purple-600"}),e.jsx("span",{className:"font-medium text-purple-900",children:"AI Handoff Summary"}),e.jsxs(ee,{variant:"outline",className:"bg-purple-100 text-purple-700 border-purple-200",children:[d," turns"]})]}),a?e.jsx(Oj,{className:"w-5 h-5 text-purple-600"}):e.jsx(hl,{className:"w-5 h-5 text-purple-600"})]}),!a&&e.jsxs("div",{className:"px-3 pb-3 flex items-center gap-2 flex-wrap",children:[u&&e.jsx(ee,{variant:"outline",className:"text-xs",children:u}),h&&e.jsx(ee,{variant:"outline",className:`text-xs ${p}`,children:h}),x&&e.jsx("span",{className:"text-sm text-purple-700 truncate",children:x})]}),a&&e.jsxs("div",{className:"px-3 pb-3 space-y-3 border-t border-purple-200 pt-3",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[u&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Category:"}),e.jsx(ee,{variant:"outline",children:u})]}),h&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Severity:"}),e.jsx(ee,{variant:"outline",className:p,children:h})]})]}),x&&e.jsxs("div",{className:"flex items-start gap-2 p-2 rounded bg-white",children:[e.jsx(We,{className:"w-4 h-4 text-amber-500 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-700",children:"Escalation Reason"}),e.jsx("p",{className:"text-sm text-gray-600",children:x})]})]}),y&&Object.keys(y).length>0&&e.jsxs("div",{className:"p-2 rounded bg-white",children:[e.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[e.jsx(Ix,{className:"w-4 h-4 text-blue-500"}),e.jsx("p",{className:"text-xs font-medium text-gray-700",children:"Collected Information"})]}),e.jsx("dl",{className:"grid grid-cols-2 gap-2 text-sm",children:Object.entries(y).map(([j,N])=>e.jsxs("div",{children:[e.jsx("dt",{className:"text-xs text-gray-500 capitalize",children:j.replace(/_/g," ")}),e.jsx("dd",{className:"text-gray-900",children:String(N)||"-"})]},j))})]}),g&&Object.keys(g).length>0&&e.jsxs("div",{className:"p-2 rounded bg-white text-sm",children:[e.jsx("p",{className:"text-xs font-medium text-gray-700 mb-1",children:"AI Summary"}),e.jsx("pre",{className:"text-xs text-gray-600 whitespace-pre-wrap",children:JSON.stringify(g,null,2)})]})]})]})}const Qb=b.createContext(void 0);function lf(){const t=b.useContext(Qb);if(!t)throw new Error("DropdownMenu components must be used within a DropdownMenu");return t}function rf({children:t}){const[a,l]=b.useState(!1);return e.jsx(Qb.Provider,{value:{open:a,onOpenChange:l},children:e.jsx("div",{className:"relative inline-block text-left",children:t})})}const du=b.forwardRef(({className:t,asChild:a,children:l,...r},o)=>{const{open:d,onOpenChange:u}=lf();return a&&b.isValidElement(l)?b.cloneElement(l,{onClick:()=>u(!d)}):e.jsx("button",{ref:o,type:"button",className:z("inline-flex items-center justify-center",t),onClick:()=>u(!d),...r,children:l})});du.displayName="DropdownMenuTrigger";const uu=b.forwardRef(({className:t,align:a="center",sideOffset:l=4,children:r,...o},d)=>{const{open:u,onOpenChange:h}=lf(),x=b.useRef(null);return b.useEffect(()=>{const g=y=>{x.current&&!x.current.contains(y.target)&&h(!1)};return u&&document.addEventListener("mousedown",g),()=>{document.removeEventListener("mousedown",g)}},[u,h]),u?e.jsx("div",{ref:x,className:z("absolute z-50 min-w-[8rem] overflow-hidden rounded-md border border-gray-200 bg-white p-1 shadow-md","animate-in fade-in-0 zoom-in-95",a==="start"&&"left-0",a==="center"&&"left-1/2 -translate-x-1/2",a==="end"&&"right-0",t),style:{marginTop:l},...o,children:r}):null});uu.displayName="DropdownMenuContent";const Ga=b.forwardRef(({className:t,inset:a,children:l,onClick:r,...o},d)=>{const{onOpenChange:u}=lf();return e.jsx("button",{ref:d,type:"button",className:z("relative flex w-full cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors","hover:bg-gray-100 focus:bg-gray-100","disabled:pointer-events-none disabled:opacity-50",a&&"pl-8",t),onClick:h=>{r?.(h),u(!1)},...o,children:l})});Ga.displayName="DropdownMenuItem";const U_=b.forwardRef(({className:t,children:a,checked:l,...r},o)=>e.jsxs(Ga,{ref:o,className:z("relative pl-8",t),...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l&&e.jsx(ga,{className:"h-4 w-4"})}),a]}));U_.displayName="DropdownMenuCheckboxItem";const I_=b.forwardRef(({className:t,children:a,checked:l,...r},o)=>e.jsxs(Ga,{ref:o,className:z("relative pl-8",t),...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l&&e.jsx(qj,{className:"h-2 w-2 fill-current"})}),a]}));I_.displayName="DropdownMenuRadioItem";const V_=b.forwardRef(({className:t,inset:a,...l},r)=>e.jsx("div",{ref:r,className:z("px-2 py-1.5 text-sm font-semibold",a&&"pl-8",t),...l}));V_.displayName="DropdownMenuLabel";const H_=b.forwardRef(({className:t,...a},l)=>e.jsx("div",{ref:l,className:z("-mx-1 my-1 h-px bg-gray-100",t),...a}));H_.displayName="DropdownMenuSeparator";const B_=b.forwardRef(({className:t,inset:a,children:l,...r},o)=>e.jsxs("button",{ref:o,type:"button",className:z("flex w-full cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none hover:bg-gray-100",a&&"pl-8",t),...r,children:[l,e.jsx(Da,{className:"ml-auto h-4 w-4"})]}));B_.displayName="DropdownMenuSubTrigger";const $_=b.forwardRef(({className:t,...a},l)=>e.jsx("div",{ref:l,className:z("absolute left-full top-0 z-50 min-w-[8rem] overflow-hidden rounded-md border bg-white p-1 shadow-lg",t),...a}));$_.displayName="DropdownMenuSubContent";function K_({session:t,onTransfer:a,onEndChat:l}){const r={ai_active:"bg-purple-100 text-purple-700 border-purple-200",waiting:"bg-amber-100 text-amber-700 border-amber-200",active:"bg-green-100 text-green-700 border-green-200",ended:"bg-gray-100 text-gray-700 border-gray-200"}[t.status],o=new Date(t.startedAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b bg-white",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-cyan-100 flex items-center justify-center",children:e.jsx(Pt,{className:"w-5 h-5 text-cyan-600"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:t.schoolContactName}),e.jsx(ee,{variant:"outline",className:r,children:t.status.replace("_"," ")})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[e.jsx(Ft,{className:"w-4 h-4"}),e.jsxs("span",{className:"truncate",children:["School #",t.schoolId]}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsxs("span",{children:["Started ",o]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(T,{variant:"outline",size:"sm",onClick:a,className:"hidden sm:flex",children:[e.jsx(Pd,{className:"w-4 h-4 mr-1"}),"Transfer"]}),e.jsxs(T,{variant:"outline",size:"sm",onClick:l,className:"text-red-600 hover:text-red-700 hover:bg-red-50 hidden sm:flex",children:[e.jsx(Et,{className:"w-4 h-4 mr-1"}),"End Chat"]}),e.jsxs(rf,{children:[e.jsx(du,{asChild:!0,className:"sm:hidden",children:e.jsx(T,{variant:"ghost",size:"icon",children:e.jsx(Ux,{className:"w-5 h-5"})})}),e.jsxs(uu,{align:"end",children:[e.jsxs(Ga,{onClick:a,children:[e.jsx(Pd,{className:"w-4 h-4 mr-2"}),"Transfer Chat"]}),e.jsxs(Ga,{onClick:l,className:"text-red-600",children:[e.jsx(Et,{className:"w-4 h-4 mr-2"}),"End Chat"]})]})]})]})]})}function Q_({messages:t,typingUser:a}){const{user:l}=Nt(),r=b.useRef(null);b.useEffect(()=>{r.current?.scrollIntoView({behavior:"smooth"})},[t,a]);const o=x=>new Date(x).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),d=x=>x.senderId===l?.username,u=x=>x.senderRole==="ai_assistant"||x.senderName==="AI Assistant",h=x=>x.contentType==="system";return e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[t.map(x=>{if(h(x))return e.jsx("div",{className:"flex justify-center",children:e.jsx("span",{className:"px-3 py-1 text-xs text-gray-500 bg-gray-100 rounded-full",children:x.content})},x.id);const g=d(x),y=u(x);return e.jsxs("div",{className:z("flex items-end gap-2",g?"flex-row-reverse":"flex-row"),children:[e.jsx("div",{className:z("flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center",g?"bg-cyan-100":y?"bg-purple-100":"bg-gray-100"),children:y?e.jsx(Ma,{className:"w-4 h-4 text-purple-600"}):e.jsx(Pt,{className:z("w-4 h-4",g?"text-cyan-600":"text-gray-600")})}),e.jsxs("div",{className:z("max-w-[70%] rounded-2xl px-4 py-2",g?"bg-cyan-600 text-white rounded-br-md":y?"bg-purple-100 text-purple-900 rounded-bl-md":"bg-gray-100 text-gray-900 rounded-bl-md"),children:[!g&&e.jsx("p",{className:z("text-xs font-medium mb-1",y?"text-purple-700":"text-gray-600"),children:x.senderName}),e.jsx("p",{className:"text-sm whitespace-pre-wrap break-words",children:x.content}),e.jsx("p",{className:z("text-xs mt-1",g?"text-cyan-100":y?"text-purple-500":"text-gray-400"),children:o(x.createdAt)})]})]},x.id)}),a&&e.jsxs("div",{className:"flex items-end gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center",children:e.jsx(Pt,{className:"w-4 h-4 text-gray-600"})}),e.jsx("div",{className:"bg-gray-100 rounded-2xl rounded-bl-md px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs("span",{className:"text-xs text-gray-500",children:[a," is typing"]}),e.jsxs("div",{className:"flex gap-1 ml-2",children:[e.jsx("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),e.jsx("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),e.jsx("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})})]}),e.jsx("div",{ref:r})]})}function G_({onSend:t,onTyping:a,disabled:l,placeholder:r="Type a message..."}){const[o,d]=b.useState(""),[u,h]=b.useState(!1),x=b.useRef(null),g=b.useRef(null);b.useEffect(()=>(o&&!u&&(h(!0),a?.(!0)),x.current&&clearTimeout(x.current),x.current=setTimeout(()=>{u&&(h(!1),a?.(!1))},2e3),()=>{x.current&&clearTimeout(x.current)}),[o,u,a]);const y=()=>{const N=o.trim();!N||l||(t(N),d(""),h(!1),a?.(!1),g.current&&(g.current.style.height="auto"))},p=N=>{N.key==="Enter"&&!N.shiftKey&&(N.preventDefault(),y())},j=N=>{d(N.target.value);const v=N.target;v.style.height="auto",v.style.height=Math.min(v.scrollHeight,150)+"px"};return e.jsxs("div",{className:"border-t bg-white p-4",children:[e.jsxs("div",{className:"flex items-end gap-2",children:[e.jsx(T,{variant:"ghost",size:"icon",className:"flex-shrink-0 text-gray-500 hover:text-gray-700",disabled:l,children:e.jsx(Id,{className:"w-5 h-5"})}),e.jsx("div",{className:"flex-1 relative",children:e.jsx(Rt,{ref:g,value:o,onChange:j,onKeyDown:p,placeholder:r,disabled:l,rows:1,className:"resize-none pr-12 min-h-[44px] max-h-[150px]"})}),e.jsx(T,{onClick:y,disabled:!o.trim()||l,size:"icon",className:"flex-shrink-0 bg-cyan-600 hover:bg-cyan-700",children:e.jsx(hi,{className:"w-5 h-5"})})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Press Enter to send, Shift+Enter for new line"})]})}const Gb=b.createContext(void 0);function Y_(){const t=b.useContext(Gb);if(!t)throw new Error("Dialog components must be used within a Dialog");return t}function of({open:t=!1,onOpenChange:a,children:l}){const[r,o]=b.useState(t),d=a!==void 0,u=d?t:r,h=d?a:o;return e.jsx(Gb.Provider,{value:{open:u,onOpenChange:h},children:l})}function cf({className:t,children:a,...l}){const{open:r,onOpenChange:o}=Y_();return b.useEffect(()=>{const d=u=>{u.key==="Escape"&&o(!1)};return r&&(document.addEventListener("keydown",d),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",d),document.body.style.overflow=""}},[r,o]),r?e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[e.jsx("div",{className:"fixed inset-0 bg-black/50",onClick:()=>o(!1)}),e.jsxs("div",{className:z("relative z-50 w-full max-w-lg rounded-lg bg-white p-6 shadow-lg","animate-in fade-in-0 zoom-in-95",t),...l,children:[e.jsxs("button",{type:"button",className:"absolute right-4 top-4 rounded-sm opacity-70 transition-opacity hover:opacity-100",onClick:()=>o(!1),children:[e.jsx(Et,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]}),a]})]}):null}function df({className:t,...a}){return e.jsx("div",{className:z("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})}function Yb({className:t,...a}){return e.jsx("div",{className:z("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})}function uf({className:t,...a}){return e.jsx("h2",{className:z("text-lg font-semibold leading-none tracking-tight",t),...a})}function mf({className:t,...a}){return e.jsx("p",{className:z("text-sm text-gray-500",t),...a})}function X_({open:t,onOpenChange:a,sessionId:l}){const[r,o]=b.useState(""),[d,u]=b.useState(""),h=S_(),{setActiveSessionId:x}=nr(),g=()=>{r.trim()&&h.mutate({sessionId:l,data:{targetAgentId:r.trim(),reason:d.trim()||void 0}},{onSuccess:()=>{a(!1),o(""),u(""),x(null)}})},y=()=>{a(!1),o(""),u("")};return e.jsx(of,{open:t,onOpenChange:y,children:e.jsxs(cf,{className:"sm:max-w-[425px]",children:[e.jsxs(df,{children:[e.jsxs(uf,{className:"flex items-center gap-2",children:[e.jsx(Pd,{className:"w-5 h-5 text-cyan-600"}),"Transfer Chat"]}),e.jsx(mf,{children:"Transfer this chat to another support agent. The conversation history will be preserved."})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(De,{htmlFor:"agent-id",children:"Target Agent ID"}),e.jsxs("div",{className:"relative",children:[e.jsx(Pt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(ue,{id:"agent-id",value:r,onChange:p=>o(p.target.value),placeholder:"Enter agent ID or username",className:"pl-10"})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Enter the ID of the agent you want to transfer to"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(De,{htmlFor:"reason",children:"Reason (optional)"}),e.jsx(Rt,{id:"reason",value:d,onChange:p=>u(p.target.value),placeholder:"Why are you transferring this chat?",rows:3})]})]}),e.jsxs(Yb,{children:[e.jsx(T,{variant:"outline",onClick:y,children:"Cancel"}),e.jsx(T,{onClick:g,disabled:!r.trim()||h.isPending,className:"bg-cyan-600 hover:bg-cyan-700",children:h.isPending?"Transferring...":"Transfer"})]})]})})}function W_({open:t,onOpenChange:a,sessionId:l,contactName:r}){const o=Vb(),{setActiveSessionId:d}=nr(),u=()=>{o.mutate({sessionId:l},{onSuccess:()=>{a(!1),d(null)}})};return e.jsx(of,{open:t,onOpenChange:a,children:e.jsxs(cf,{children:[e.jsxs(df,{children:[e.jsxs(uf,{className:"flex items-center gap-2",children:[e.jsx(We,{className:"w-5 h-5 text-amber-500"}),"End Chat Session"]}),e.jsxs(mf,{children:["Are you sure you want to end the chat with ",e.jsx("strong",{children:r}),"? The school contact will be notified that the session has ended."]})]}),e.jsxs(Yb,{children:[e.jsx(T,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),e.jsx(T,{onClick:u,disabled:o.isPending,className:"bg-red-600 hover:bg-red-700",children:o.isPending?"Ending...":"End Chat"})]})]})})}function Nv(){const{activeSessionId:t,typingInSession:a}=nr(),{data:l}=cu(),[r,o]=b.useState(!1),[d,u]=b.useState(!1),x=b.useMemo(()=>l?.items?.find(S=>S.session.id===t),[l,t])?.session,g=x?.threadId,{data:y,isLoading:p}=sf(g),j=af(g||""),N=b.useMemo(()=>g?a.get(g)?.userName:void 0,[g,a]),v=S=>{g&&j.mutate({content:S})};if(!t||!x)return e.jsxs("div",{className:"flex flex-col items-center justify-center h-full bg-gray-50",children:[e.jsx(qt,{className:"w-16 h-16 text-gray-300 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"No chat selected"}),e.jsx("p",{className:"text-sm text-gray-500 text-center max-w-xs",children:"Select an active chat from the sidebar or accept a new chat from the queue"})]});if(p)return e.jsxs("div",{className:"flex flex-col h-full bg-white",children:[e.jsx("div",{className:"p-4 border-b animate-pulse",children:e.jsx("div",{className:"h-10 bg-gray-200 rounded w-1/3"})}),e.jsxs("div",{className:"flex-1 p-4 space-y-4",children:[e.jsx("div",{className:"h-16 bg-gray-100 rounded w-2/3"}),e.jsx("div",{className:"h-16 bg-gray-100 rounded w-1/2 ml-auto"}),e.jsx("div",{className:"h-16 bg-gray-100 rounded w-2/3"})]})]});const C=y?.messages??[];return e.jsxs("div",{className:"flex flex-col h-full bg-white",children:[e.jsx(K_,{session:x,onTransfer:()=>o(!0),onEndChat:()=>u(!0)}),x.aiHandled&&!x.aiResolved&&e.jsx(P_,{sessionId:x.id}),e.jsx(Q_,{messages:C,typingUser:N}),e.jsx(G_,{onSend:v,disabled:j.isPending||x.status==="ended",placeholder:x.status==="ended"?"This chat has ended":"Type a message..."}),e.jsx(X_,{open:r,onOpenChange:o,sessionId:x.id}),e.jsx(W_,{open:d,onOpenChange:u,sessionId:x.id,contactName:x.schoolContactName})]})}function Z_(){const{activeSessionId:t,setActiveSessionId:a}=nr(),[l,r]=b.useState(!1),o=u=>{a(u),r(!0)},d=()=>{r(!1)};return e.jsxs("div",{className:"flex flex-col h-full bg-gray-50",children:[e.jsx(O_,{}),e.jsx("div",{className:"lg:hidden px-4 py-2 bg-white border-b overflow-x-auto",children:e.jsx(Bb,{})}),e.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[e.jsxs("div",{className:"hidden md:flex flex-1",children:[e.jsx("div",{className:"w-80 flex-shrink-0 border-r bg-white",children:e.jsx(bv,{onChatAccepted:o})}),e.jsx("div",{className:"flex-1",children:e.jsx(Nv,{})})]}),e.jsx("div",{className:"flex md:hidden flex-1",children:!l||!t?e.jsx("div",{className:"w-full bg-white",children:e.jsx(bv,{onChatAccepted:u=>{o(u)}})}):e.jsxs("div",{className:"w-full flex flex-col",children:[e.jsx("div",{className:"px-4 py-2 bg-white border-b",children:e.jsxs(T,{variant:"ghost",size:"sm",onClick:d,className:"text-gray-600",children:[e.jsx(Ya,{className:"w-4 h-4 mr-1"}),"Back to list"]})}),e.jsx("div",{className:"flex-1",children:e.jsx(Nv,{})})]})})]})]})}const yi={getOptions:async()=>(await Ye.get("/edtech-profiles/options")).data,getBySchoolId:async t=>(await Ye.get(`/edtech-profiles/school/${t}`)).data,saveProfile:async t=>(await Ye.post("/edtech-profiles",t)).data,generateAI:async t=>(await Ye.post(`/edtech-profiles/${t}/generate-ai`)).data,submitFollowUp:async(t,a)=>(await Ye.post(`/edtech-profiles/${t}/submit-followup`,a)).data,complete:async t=>(await Ye.post(`/edtech-profiles/${t}/complete`)).data,getHistory:async(t,a)=>(await Ye.get(`/edtech-profiles/school/${t}/history`,{params:{limit:a}})).data},Sn={all:["edtech"],options:()=>[...Sn.all,"options"],profile:t=>[...Sn.all,"profile",t],history:t=>[...Sn.all,"history",t]};function J_(){return Se({queryKey:Sn.options(),queryFn:()=>yi.getOptions(),staleTime:1440*60*1e3})}function hf(t,a=!0){return Se({queryKey:Sn.profile(t||""),queryFn:()=>yi.getBySchoolId(t),enabled:a&&!!t})}function eT(){const t=_e();return Re({mutationFn:a=>yi.saveProfile(a),onSuccess:(a,l)=>{t.invalidateQueries({queryKey:Sn.profile(l.schoolId)})}})}function tT(){const t=_e();return Re({mutationFn:a=>yi.generateAI(a.profileId),onSuccess:(a,l)=>{t.invalidateQueries({queryKey:Sn.profile(l.schoolId)})}})}function sT(){const t=_e();return Re({mutationFn:a=>yi.submitFollowUp(a.profileId,a.data),onSuccess:(a,l)=>{t.invalidateQueries({queryKey:Sn.profile(l.schoolId)})}})}function aT(){const t=_e();return Re({mutationFn:a=>yi.complete(a.profileId),onSuccess:(a,l)=>{t.invalidateQueries({queryKey:Sn.profile(l.schoolId)})}})}function Ms({open:t,onClose:a,children:l,className:r}){return b.useEffect(()=>{const o=d=>{d.key==="Escape"&&a()};return t&&(document.addEventListener("keydown",o),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",o),document.body.style.overflow=""}},[t,a]),t?e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 transition-opacity",onClick:a,"aria-hidden":"true"}),e.jsx("div",{className:z("relative z-50 w-full max-w-lg max-h-[90vh] overflow-auto rounded-lg bg-white shadow-xl",r),role:"dialog","aria-modal":"true",children:l})]}):null}function _s({children:t,onClose:a,className:l}){return e.jsxs("div",{className:z("flex items-center justify-between p-6 border-b border-gray-200",l),children:[e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:t}),a&&e.jsxs(T,{variant:"ghost",size:"sm",onClick:a,className:"h-8 w-8 p-0",children:[e.jsx(Et,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})}function Ts({children:t,className:a}){return e.jsx("div",{className:z("p-6",a),children:t})}function Rs({children:t,className:a}){return e.jsx("div",{className:z("flex items-center justify-end gap-3 p-6 border-t border-gray-200",a),children:t})}function mu({open:t,onClose:a,onConfirm:l,title:r,description:o,confirmText:d="Confirm",cancelText:u="Cancel",variant:h="default",isLoading:x=!1}){return e.jsxs(Ms,{open:t,onClose:a,className:"max-w-md",children:[e.jsx(_s,{onClose:a,children:r}),e.jsx(Ts,{children:e.jsx("p",{className:"text-gray-600",children:o})}),e.jsxs(Rs,{children:[e.jsx(T,{variant:"outline",onClick:a,disabled:x,children:u}),e.jsx(T,{variant:h==="destructive"?"destructive":"default",onClick:l,disabled:x,children:x?"Loading...":d})]})]})}const wv=[{id:1,title:"Infrastructure",description:"Devices, network, software"},{id:2,title:"Pain Points",description:"Challenges & needs"},{id:3,title:"Goals",description:"Priorities & timeline"},{id:4,title:"AI Analysis",description:"Summary & recommendations"}],nT=[is,We,sa,Jt];function lT({currentStep:t,onStepClick:a,allowNavigation:l=!1}){return e.jsx("nav",{"aria-label":"Progress",className:"mb-8",children:e.jsx("ol",{className:"flex items-center justify-between",children:wv.map((r,o)=>{const d=nT[o],u=r.id<t,h=r.id===t,x=l&&r.id<=t;return e.jsxs("li",{className:"relative flex-1",children:[o<wv.length-1&&e.jsx("div",{className:z("absolute top-5 left-1/2 w-full h-0.5 -z-10",u?"bg-indigo-600":"bg-gray-200")}),e.jsxs("button",{type:"button",onClick:()=>x&&a?.(r.id),disabled:!x,className:z("group flex flex-col items-center w-full",x?"cursor-pointer":"cursor-default"),children:[e.jsx("span",{className:z("flex h-10 w-10 items-center justify-center rounded-full border-2 transition-colors",u?"border-indigo-600 bg-indigo-600 text-white":h?"border-indigo-600 bg-white text-indigo-600":"border-gray-300 bg-white text-gray-400"),children:u?e.jsx(ga,{className:"h-5 w-5"}):e.jsx(d,{className:"h-5 w-5"})}),e.jsx("span",{className:z("mt-2 text-sm font-medium",h?"text-indigo-600":u?"text-gray-900":"text-gray-500"),children:r.title}),e.jsx("span",{className:z("text-xs hidden sm:block",h?"text-indigo-500":"text-gray-400"),children:r.description})]})]},r.id)})})})}const Xb=b.createContext(void 0);function hu(){const t=b.useContext(Xb);if(!t)throw new Error("Select components must be used within a Select");return t}function Me({value:t,defaultValue:a,onChange:l,onValueChange:r,options:o,placeholder:d="Select...",disabled:u=!1,className:h,error:x=!1,children:g}){const[y,p]=b.useState(a),[j,N]=b.useState(!1),v=b.useRef(null),C=t!==void 0,S=C?t:y,_=E=>{C||p(E),l?.(E),r?.(E)};if(b.useEffect(()=>{if(!o)return;const E=A=>{v.current&&!v.current.contains(A.target)&&N(!1)};return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[o]),o){const E=o.find(A=>A.value===S);return e.jsxs("div",{ref:v,className:z("relative",h),children:[e.jsxs("button",{type:"button",onClick:()=>!u&&N(!j),className:z("flex h-10 w-full items-center justify-between rounded-md border bg-white px-3 py-2 text-sm","focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",x?"border-red-300":"border-gray-300",u?"cursor-not-allowed opacity-50":"cursor-pointer"),disabled:u,children:[e.jsx("span",{className:E?"text-gray-900":"text-gray-500",children:E?.label||d}),e.jsx(hl,{className:"h-4 w-4 text-gray-400"})]}),j&&e.jsx("div",{className:"absolute z-50 mt-1 w-full rounded-md border border-gray-200 bg-white shadow-lg",children:e.jsx("div",{className:"max-h-60 overflow-auto py-1",children:o.map(A=>e.jsxs("button",{type:"button",onClick:()=>{A.disabled||(_(A.value),N(!1))},className:z("flex w-full items-center justify-between px-3 py-2 text-sm",A.disabled?"cursor-not-allowed text-gray-400":"cursor-pointer text-gray-900 hover:bg-gray-50",A.value===S&&"bg-blue-50"),disabled:A.disabled,children:[e.jsx("span",{children:A.label}),A.value===S&&e.jsx(ga,{className:"h-4 w-4 text-blue-600"})]},A.value))})})]})}return e.jsx(Xb.Provider,{value:{value:S,onValueChange:_,open:j,setOpen:N},children:e.jsx("div",{className:z("relative",h),children:g})})}const ut=b.forwardRef(({className:t,children:a,...l},r)=>{const{open:o,setOpen:d}=hu();return e.jsxs("button",{ref:r,type:"button",role:"combobox","aria-expanded":o,onClick:()=>d(!o),className:z("flex h-10 w-full items-center justify-between rounded-md border border-gray-300 bg-white px-3 py-2 text-sm","focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2","disabled:cursor-not-allowed disabled:opacity-50",t),...l,children:[a,e.jsx(hl,{className:"h-4 w-4 opacity-50"})]})});ut.displayName="SelectTrigger";function ft({placeholder:t}){const{value:a}=hu();return e.jsx("span",{className:a?"text-gray-900":"text-gray-500",children:a||t})}const mt=b.forwardRef(({className:t,children:a,...l},r)=>{const{open:o,setOpen:d}=hu(),u=b.useRef(null);return b.useEffect(()=>{const h=x=>{u.current&&!u.current.contains(x.target)&&d(!1)};return o&&document.addEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}},[o,d]),o?e.jsx("div",{ref:u,className:z("absolute z-50 mt-1 w-full min-w-[8rem] overflow-hidden rounded-md border border-gray-200 bg-white shadow-md","animate-in fade-in-0 zoom-in-95",t),...l,children:e.jsx("div",{className:"max-h-60 overflow-auto py-1",children:a})}):null});mt.displayName="SelectContent";const Ue=b.forwardRef(({className:t,value:a,children:l,...r},o)=>{const{value:d,onValueChange:u,setOpen:h}=hu(),x=d===a;return e.jsxs("button",{ref:o,type:"button",role:"option","aria-selected":x,onClick:()=>{u(a),h(!1)},className:z("relative flex w-full cursor-pointer select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none","hover:bg-gray-100 focus:bg-gray-100",x&&"bg-gray-100",t),...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:x&&e.jsx(ga,{className:"h-4 w-4"})}),l]})});Ue.displayName="SelectItem";const xu=b.forwardRef(({className:t,onCheckedChange:a,onChange:l,...r},o)=>{const d=u=>{l?.(u),a?.(u.target.checked)};return e.jsxs("div",{className:"relative inline-flex items-center",children:[e.jsx("input",{type:"checkbox",ref:o,className:"sr-only peer",onChange:d,...r}),e.jsx("div",{className:z("h-4 w-4 shrink-0 rounded border border-gray-300 bg-white transition-colors","peer-focus-visible:outline-none peer-focus-visible:ring-2 peer-focus-visible:ring-cyan-500 peer-focus-visible:ring-offset-2","peer-checked:border-cyan-600 peer-checked:bg-cyan-600","peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),children:e.jsx(ga,{className:"h-3 w-3 text-white opacity-0 peer-checked:opacity-100 absolute top-0.5 left-0.5 pointer-events-none"})})]})});xu.displayName="Checkbox";function Gt({questionNumber:t,totalQuestions:a,question:l,description:r,children:o}){const d=t/a*100;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"font-medium text-indigo-600",children:["Question ",t," of ",a]}),e.jsxs("span",{className:"text-gray-500",children:[Math.round(d),"% complete"]})]}),e.jsx("div",{className:"h-2 w-full rounded-full bg-gray-100",children:e.jsx("div",{className:"h-2 rounded-full bg-gradient-to-r from-indigo-500 to-purple-500 transition-all duration-300",style:{width:`${d}%`}})})]}),e.jsxs("div",{className:"rounded-xl border border-indigo-100 bg-gradient-to-br from-indigo-50/50 to-purple-50/50 p-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:l}),r&&e.jsx("p",{className:"text-gray-600 mb-6",children:r}),e.jsx("div",{className:"mt-6",children:o})]})]})}function rT({data:t,options:a,onChange:l,currentQuestion:r,totalQuestions:o}){const d=(g,y)=>{l({...t,[g]:y})},u=(g,y)=>{const p={...t.deviceTypes,[g]:y},j=Object.values(p).reduce((N,v)=>N+(v||0),0);l({...t,deviceTypes:p,totalDevices:j})},h=g=>{const y=t.existingSoftware||[];y.includes(g)?d("existingSoftware",y.filter(p=>p!==g)):d("existingSoftware",[...y,g])};return(()=>{switch(r){case 1:return e.jsx(Gt,{questionNumber:1,totalQuestions:o,question:"How many digital devices do you use in school currently?",description:"Enter the count for each device type your school owns or uses.",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white rounded-lg border border-gray-200",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-blue-100",children:e.jsx(is,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(De,{htmlFor:"laptops",className:"text-sm font-medium",children:"Laptops"}),e.jsx(ue,{id:"laptops",type:"number",min:0,value:t.deviceTypes.laptops||"",onChange:g=>u("laptops",parseInt(g.target.value)||0),placeholder:"0",className:"mt-1"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white rounded-lg border border-gray-200",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-green-100",children:e.jsx(is,{className:"h-5 w-5 text-green-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(De,{htmlFor:"chromebooks",className:"text-sm font-medium",children:"Chromebooks"}),e.jsx(ue,{id:"chromebooks",type:"number",min:0,value:t.deviceTypes.chromebooks||"",onChange:g=>u("chromebooks",parseInt(g.target.value)||0),placeholder:"0",className:"mt-1"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white rounded-lg border border-gray-200",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-purple-100",children:e.jsx(q5,{className:"h-5 w-5 text-purple-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(De,{htmlFor:"tablets",className:"text-sm font-medium",children:"Tablets"}),e.jsx(ue,{id:"tablets",type:"number",min:0,value:t.deviceTypes.tablets||"",onChange:g=>u("tablets",parseInt(g.target.value)||0),placeholder:"0",className:"mt-1"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white rounded-lg border border-gray-200",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-amber-100",children:e.jsx(li,{className:"h-5 w-5 text-amber-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(De,{htmlFor:"desktops",className:"text-sm font-medium",children:"Desktops"}),e.jsx(ue,{id:"desktops",type:"number",min:0,value:t.deviceTypes.desktops||"",onChange:g=>u("desktops",parseInt(g.target.value)||0),placeholder:"0",className:"mt-1"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white rounded-lg border border-gray-200",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-gray-100",children:e.jsx(hx,{className:"h-5 w-5 text-gray-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(De,{htmlFor:"other",className:"text-sm font-medium",children:"Other Devices"}),e.jsx(ue,{id:"other",type:"number",min:0,value:t.deviceTypes.other||"",onChange:g=>u("other",parseInt(g.target.value)||0),placeholder:"0",className:"mt-1"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-indigo-50 rounded-lg border border-indigo-200",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-indigo-100",children:e.jsx(_5,{className:"h-5 w-5 text-indigo-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(De,{className:"text-sm font-medium text-indigo-700",children:"Total Devices"}),e.jsx("div",{className:"mt-1 h-10 flex items-center text-2xl font-bold text-indigo-600",children:t.totalDevices||0})]})]})]})});case 2:return e.jsx(Gt,{questionNumber:2,totalQuestions:o,question:"What is the average age of your devices?",description:"Select the option that best describes the age of most devices in your school.",children:e.jsxs(Me,{value:t.deviceAge,onValueChange:g=>d("deviceAge",g),children:[e.jsx(ut,{className:"w-full max-w-md",children:e.jsx(ft,{placeholder:"Select device age range"})}),e.jsx(mt,{children:(a?.deviceAge||[]).map(g=>e.jsx(Ue,{value:g,children:g.replace(/_/g," ").replace(/\b\w/g,y=>y.toUpperCase())},g))})]})});case 3:return e.jsx(Gt,{questionNumber:3,totalQuestions:o,question:"How would you rate your network quality?",description:"Consider factors like reliability, coverage, and speed when rating.",children:e.jsxs(Me,{value:t.networkQuality,onValueChange:g=>d("networkQuality",g),children:[e.jsx(ut,{className:"w-full max-w-md",children:e.jsx(ft,{placeholder:"Select network quality"})}),e.jsx(mt,{children:(a?.networkQuality||[]).map(g=>e.jsx(Ue,{value:g,children:g.charAt(0).toUpperCase()+g.slice(1)},g))})]})});case 4:return e.jsx(Gt,{questionNumber:4,totalQuestions:o,question:"What is your internet connection speed?",description:"Select the speed tier that best matches your school's internet connection.",children:e.jsxs(Me,{value:t.internetSpeed,onValueChange:g=>d("internetSpeed",g),children:[e.jsx(ut,{className:"w-full max-w-md",children:e.jsx(ft,{placeholder:"Select internet speed"})}),e.jsx(mt,{children:(a?.internetSpeed||[]).map(g=>e.jsx(Ue,{value:g,children:g.charAt(0).toUpperCase()+g.slice(1)},g))})]})});case 5:return e.jsx(Gt,{questionNumber:5,totalQuestions:o,question:"What Learning Management System does your school use?",description:"Select your primary LMS platform, or 'None' if you don't use one.",children:e.jsxs(Me,{value:t.lmsPlatform,onValueChange:g=>d("lmsPlatform",g),children:[e.jsx(ut,{className:"w-full max-w-md",children:e.jsx(ft,{placeholder:"Select LMS platform"})}),e.jsx(mt,{children:(a?.lmsPlatforms||[]).map(g=>e.jsx(Ue,{value:g,children:g},g))})]})});case 6:return e.jsx(Gt,{questionNumber:6,totalQuestions:o,question:"What educational software does your school currently use?",description:"Select all the software tools and platforms your school uses.",children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:(a?.existingSoftware||[]).map(g=>e.jsxs("label",{className:"flex items-center gap-3 p-3 bg-white rounded-lg border border-gray-200 cursor-pointer hover:border-indigo-300 hover:bg-indigo-50/50 transition-colors",children:[e.jsx(xu,{id:`software-${g}`,checked:t.existingSoftware?.includes(g),onCheckedChange:()=>h(g)}),e.jsx("span",{className:"text-sm font-medium",children:g})]},g))})});case 7:return e.jsx(Gt,{questionNumber:7,totalQuestions:o,question:"How many IT staff support your school?",description:"Include full-time IT staff, part-time support, and teachers with IT responsibilities.",children:e.jsx("div",{className:"max-w-md",children:e.jsx(ue,{id:"itStaffCount",type:"number",min:0,value:t.itStaffCount||"",onChange:g=>d("itStaffCount",parseInt(g.target.value)||0),placeholder:"Enter number of IT staff",className:"text-lg"})})});default:return null}})()}function iT({data:t,options:a,onChange:l,currentQuestion:r,totalQuestions:o}){const d=(g,y)=>{l({...t,[g]:y})},u=g=>{const y=t.painPoints||[];if(y.includes(g)){d("painPoints",y.filter(j=>j!==g));const p=t.biggestChallenges||[];p.includes(g)&&d("biggestChallenges",p.filter(j=>j!==g))}else d("painPoints",[...y,g])},h=g=>{const y=t.biggestChallenges||[];y.includes(g)?d("biggestChallenges",y.filter(p=>p!==g)):y.length<3&&d("biggestChallenges",[...y,g])};return(()=>{switch(r){case 1:return e.jsx(Gt,{questionNumber:1,totalQuestions:o,question:"What technology challenges does your school currently face?",description:"Select all the challenges that apply to your school.",children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:(a?.painPoints||[]).map(g=>e.jsxs("label",{className:z("flex items-start gap-3 p-3 rounded-lg border cursor-pointer transition-colors",t.painPoints?.includes(g)?"border-amber-400 bg-amber-50":"border-gray-200 bg-white hover:border-amber-300 hover:bg-amber-50/50"),children:[e.jsx(xu,{id:`pain-${g}`,checked:t.painPoints?.includes(g),onCheckedChange:()=>u(g),className:"mt-0.5"}),e.jsx("span",{className:"text-sm leading-tight",children:g})]},g))})});case 2:return e.jsx(Gt,{questionNumber:2,totalQuestions:o,question:"Which are your TOP 3 biggest challenges?",description:`Select up to 3 challenges from the ones you selected. ${t.biggestChallenges?.length||0}/3 selected.`,children:(t.painPoints?.length||0)===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:e.jsx("p",{children:"Please go back and select your challenges first."})}):e.jsx("div",{className:"space-y-2",children:(t.painPoints||[]).map(g=>{const y=t.biggestChallenges?.includes(g),p=y?(t.biggestChallenges?.indexOf(g)??-1)+1:null;return e.jsxs("button",{type:"button",onClick:()=>h(g),disabled:!y&&(t.biggestChallenges?.length||0)>=3,className:z("w-full flex items-center gap-3 p-3 rounded-lg border text-left transition-colors",y?"border-red-400 bg-red-50":(t.biggestChallenges?.length||0)>=3?"border-gray-100 bg-gray-50 opacity-50 cursor-not-allowed":"border-gray-200 bg-white hover:border-red-300 hover:bg-red-50/50"),children:[e.jsx("span",{className:z("w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold",y?"bg-red-600 text-white":"bg-gray-100 text-gray-400"),children:p||"-"}),e.jsx("span",{className:"text-sm",children:g})]},g)})})});case 3:return e.jsxs(Gt,{questionNumber:3,totalQuestions:o,question:"How satisfied are you with your current tech support?",description:"Rate your satisfaction from 1 (very dissatisfied) to 5 (very satisfied).",children:[e.jsx("div",{className:"flex justify-center gap-4",children:[1,2,3,4,5].map(g=>e.jsx("button",{type:"button",onClick:()=>d("supportSatisfaction",g),className:z("w-14 h-14 rounded-full flex items-center justify-center transition-all",t.supportSatisfaction===g?"bg-yellow-500 text-white scale-110 shadow-lg":"bg-white border-2 border-gray-200 hover:border-yellow-400 hover:scale-105"),children:e.jsx(Bj,{className:z("w-7 h-7",t.supportSatisfaction&&g<=t.supportSatisfaction?"fill-current":"")})},g))}),e.jsxs("div",{className:"flex justify-between text-sm text-gray-500 mt-4 max-w-sm mx-auto",children:[e.jsx("span",{children:"Very Dissatisfied"}),e.jsx("span",{children:"Very Satisfied"})]})]});case 4:return e.jsx(Gt,{questionNumber:4,totalQuestions:o,question:"How often does your school need tech support?",description:"Select the frequency that best describes your support needs.",children:e.jsxs(Me,{value:t.supportFrequency,onValueChange:g=>d("supportFrequency",g),children:[e.jsx(ut,{className:"w-full max-w-md",children:e.jsx(ft,{placeholder:"Select frequency"})}),e.jsx(mt,{children:(a?.supportFrequency||[]).map(g=>e.jsx(Ue,{value:g,children:g.charAt(0).toUpperCase()+g.slice(1)},g))})]})});case 5:return e.jsx(Gt,{questionNumber:5,totalQuestions:o,question:"How long does it typically take to resolve tech issues?",description:"Select the average time it takes to resolve technical problems.",children:e.jsxs(Me,{value:t.avgResolutionTime,onValueChange:g=>d("avgResolutionTime",g),children:[e.jsx(ut,{className:"w-full max-w-md",children:e.jsx(ft,{placeholder:"Select resolution time"})}),e.jsx(mt,{children:(a?.resolutionTime||[]).map(g=>e.jsx(Ue,{value:g,children:g.replace(/_/g," ").replace(/\b\w/g,y=>y.toUpperCase())},g))})]})});case 6:return e.jsx(Gt,{questionNumber:6,totalQuestions:o,question:"What is your biggest frustration with technology at your school?",description:"Share your main pain point or frustration in your own words.",children:e.jsx(Rt,{id:"biggestFrustration",value:t.biggestFrustration||"",onChange:g=>d("biggestFrustration",g.target.value),placeholder:"Describe your biggest frustration...",rows:4,className:"w-full"})});case 7:return e.jsx(Gt,{questionNumber:7,totalQuestions:o,question:"If you could have one tech-related wish granted, what would it be?",description:"What single improvement would make the biggest difference for your school?",children:e.jsx(Rt,{id:"wishList",value:t.wishList||"",onChange:g=>d("wishList",g.target.value),placeholder:"What would make the biggest difference for your school?",rows:4,className:"w-full"})});default:return null}})()}function oT({data:t,options:a,onChange:l,currentQuestion:r,totalQuestions:o}){const d=(p,j)=>{l({...t,[p]:j})},u=p=>{const j=t.strategicGoals||[],N=t.priorityRanking||[];j.includes(p)?(d("strategicGoals",j.filter(v=>v!==p)),d("priorityRanking",N.filter(v=>v!==p))):(d("strategicGoals",[...j,p]),d("priorityRanking",[...N,p]))},h=p=>{if(p<=0)return;const j=[...t.priorityRanking||[]];[j[p-1],j[p]]=[j[p],j[p-1]],d("priorityRanking",j)},x=p=>{const j=t.priorityRanking||[];if(p>=j.length-1)return;const N=[...j];[N[p],N[p+1]]=[N[p+1],N[p]],d("priorityRanking",N)},g=p=>{const j=p.split(",").map(N=>N.trim()).filter(Boolean);d("decisionMakers",j)};return(()=>{switch(r){case 1:return e.jsx(Gt,{questionNumber:1,totalQuestions:o,question:"What EdTech initiatives is your school interested in pursuing?",description:"Select all the goals and initiatives your school wants to achieve.",children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:(a?.strategicGoals||[]).map(p=>e.jsxs("label",{className:z("flex items-start gap-3 p-3 rounded-lg border cursor-pointer transition-colors",t.strategicGoals?.includes(p)?"border-emerald-400 bg-emerald-50":"border-gray-200 bg-white hover:border-emerald-300 hover:bg-emerald-50/50"),children:[e.jsx(xu,{id:`goal-${p}`,checked:t.strategicGoals?.includes(p),onCheckedChange:()=>u(p),className:"mt-0.5"}),e.jsx("span",{className:"text-sm leading-tight",children:p})]},p))})});case 2:return e.jsx(Gt,{questionNumber:2,totalQuestions:o,question:"Please rank your selected goals by priority",description:"Use the arrows to reorder your goals from highest to lowest priority.",children:(t.strategicGoals?.length||0)<=1?e.jsx("div",{className:"text-center py-8 text-gray-500",children:e.jsx("p",{children:(t.strategicGoals?.length||0)===0?"Please go back and select your goals first.":"Only one goal selected - no ranking needed. Click Next to continue."})}):e.jsx("div",{className:"space-y-2",children:(t.priorityRanking||[]).map((p,j)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white border border-violet-200 rounded-lg",children:[e.jsx("span",{className:"w-8 h-8 rounded-full bg-violet-600 text-white text-sm flex items-center justify-center font-bold",children:j+1}),e.jsx("span",{className:"flex-1 text-sm",children:p}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{type:"button",onClick:()=>h(j),disabled:j===0,className:z("p-2 rounded-lg hover:bg-violet-100 transition-colors",j===0?"opacity-30 cursor-not-allowed":""),children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})}),e.jsx("button",{type:"button",onClick:()=>x(j),disabled:j===(t.priorityRanking?.length||0)-1,className:z("p-2 rounded-lg hover:bg-violet-100 transition-colors",j===(t.priorityRanking?.length||0)-1?"opacity-30 cursor-not-allowed":""),children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]},p))})});case 3:return e.jsx(Gt,{questionNumber:3,totalQuestions:o,question:"What is your available budget for EdTech investments?",description:"Select the budget range your school has allocated for technology initiatives.",children:e.jsxs(Me,{value:t.budgetRange,onValueChange:p=>d("budgetRange",p),children:[e.jsx(ut,{className:"w-full max-w-md",children:e.jsx(ft,{placeholder:"Select budget range"})}),e.jsx(mt,{children:(a?.budgetRange||[]).map(p=>e.jsx(Ue,{value:p,children:p.charAt(0).toUpperCase()+p.slice(1)},p))})]})});case 4:return e.jsx(Gt,{questionNumber:4,totalQuestions:o,question:"What is your ideal implementation timeline?",description:"When would you like to start implementing these initiatives?",children:e.jsxs(Me,{value:t.timeline,onValueChange:p=>d("timeline",p),children:[e.jsx(ut,{className:"w-full max-w-md",children:e.jsx(ft,{placeholder:"Select timeline"})}),e.jsx(mt,{children:(a?.timeline||[]).map(p=>e.jsx(Ue,{value:p,children:p.replace(/_/g," ").replace(/\b\w/g,j=>j.toUpperCase())},p))})]})});case 5:return e.jsx(Gt,{questionNumber:5,totalQuestions:o,question:"Describe any specific expansion or improvement plans",description:"Share details about your planned technology expansions or improvements.",children:e.jsx(Rt,{id:"expansionPlans",value:t.expansionPlans||"",onChange:p=>d("expansionPlans",p.target.value),placeholder:"e.g., We plan to expand the computer lab, implement a 1:1 device program for Grade 5-8, upgrade our network infrastructure...",rows:4,className:"w-full"})});case 6:return e.jsx(Gt,{questionNumber:6,totalQuestions:o,question:"Who else is involved in technology decisions at your school?",description:"List the key decision makers for technology purchases and implementations.",children:e.jsxs("div",{className:"max-w-md",children:[e.jsx(ue,{id:"decisionMakers",value:t.decisionMakers?.join(", ")||"",onChange:p=>g(p.target.value),placeholder:"e.g., Principal, ICT Coordinator, Board Chair"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Separate multiple roles with commas"})]})});default:return null}})()}const cT={high:"bg-red-100 text-red-800 border-red-200",medium:"bg-yellow-100 text-yellow-800 border-yellow-200",low:"bg-green-100 text-green-800 border-green-200"},dT={infrastructure:"",training:"",software:"",security:"",support:""};function uT({profile:t,followUpResponses:a,onResponseChange:l,isGenerating:r}){return r?e.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-purple-400 rounded-full blur-xl opacity-30 animate-pulse"}),e.jsx(Jt,{className:"h-16 w-16 text-purple-600 relative z-10 animate-pulse"})]}),e.jsx("h3",{className:"mt-6 text-lg font-medium text-gray-900",children:"Analyzing Your Profile"}),e.jsx("p",{className:"mt-2 text-sm text-gray-500 text-center max-w-sm",children:"Our AI is reviewing your assessment to generate a personalized summary and recommendations..."}),e.jsx(jt,{className:"mt-4 h-6 w-6 text-purple-600 animate-spin"})]}):!t.aiSummary&&!t.followUpQuestions?.length?e.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[e.jsx(Xa,{className:"h-12 w-12 text-amber-500"}),e.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"AI Analysis Not Available"}),e.jsx("p",{className:"mt-2 text-sm text-gray-500 text-center max-w-sm",children:'Click "Generate AI Analysis" to receive personalized recommendations based on your assessment.'})]}):e.jsxs("div",{className:"space-y-6",children:[t.aiSummary&&e.jsxs("div",{className:"rounded-lg border border-purple-200 bg-gradient-to-br from-purple-50 to-indigo-50 p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(Jt,{className:"h-5 w-5 text-purple-600"}),e.jsx("h3",{className:"font-medium text-gray-900",children:"Your EdTech Profile Summary"})]}),e.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:t.aiSummary})]}),t.aiRecommendations&&t.aiRecommendations.length>0&&e.jsxs("div",{className:"rounded-lg border border-indigo-100 bg-indigo-50/50 p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(UC,{className:"h-5 w-5 text-indigo-600"}),e.jsx("h3",{className:"font-medium text-gray-900",children:"Recommendations"})]}),e.jsx("div",{className:"space-y-3",children:t.aiRecommendations.map((o,d)=>e.jsx(mT,{recommendation:o},d))})]}),t.followUpQuestions&&t.followUpQuestions.length>0&&e.jsxs("div",{className:"rounded-lg border border-blue-100 bg-blue-50/50 p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(bn,{className:"h-5 w-5 text-blue-600"}),e.jsx("h3",{className:"font-medium text-gray-900",children:"Follow-up Questions"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Please answer these questions to help us better understand your needs:"}),e.jsx("div",{className:"space-y-4",children:t.followUpQuestions.map(o=>e.jsx(hT,{question:o,response:a[o.id]||"",onResponseChange:d=>l(o.id,d)},o.id))})]}),e.jsx("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 mt-0.5",children:e.jsx("svg",{className:"h-5 w-5 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-green-800",children:"Almost Done!"}),e.jsx("p",{className:"mt-1 text-sm text-green-700",children:t.followUpQuestions?.length?'Answer the follow-up questions above, then click "Complete Assessment" to save your EdTech profile.':'Click "Complete Assessment" to save your EdTech profile. You can update it anytime from your dashboard.'})]})]})})]})}function mT({recommendation:t}){return e.jsxs("div",{className:"bg-white rounded-lg border border-gray-100 p-3 shadow-sm",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:dT[t.category]||""}),e.jsx("h4",{className:"font-medium text-gray-900 text-sm",children:t.title})]}),e.jsx(ee,{className:z("text-xs",cT[t.priority]),children:t.priority})]}),e.jsx("p",{className:"mt-2 text-sm text-gray-600 pl-7",children:t.description})]})}function hT({question:t,response:a,onResponseChange:l}){return e.jsxs("div",{className:"bg-white rounded-lg border border-blue-100 p-3",children:[e.jsx(De,{htmlFor:`question-${t.id}`,className:"text-sm font-medium text-gray-900",children:t.question}),t.context&&e.jsx("p",{className:"text-xs text-gray-500 mt-1 mb-2",children:t.context}),e.jsx(Rt,{id:`question-${t.id}`,value:a,onChange:r=>l(r.target.value),placeholder:"Your answer...",rows:2,className:"mt-2"})]})}const Wb={laptops:0,chromebooks:0,tablets:0,desktops:0,other:0},xT={totalDevices:0,deviceTypes:Wb,networkQuality:"",internetSpeed:"",lmsPlatform:"",existingSoftware:[],itStaffCount:0,deviceAge:""},fT={painPoints:[],supportSatisfaction:0,biggestChallenges:[],supportFrequency:"",avgResolutionTime:"",biggestFrustration:"",wishList:""},gT={strategicGoals:[],budgetRange:"",timeline:"",expansionPlans:"",priorityRanking:[],decisionMakers:[]},Sv={1:7,2:7,3:6,4:1};function Cv({open:t,onClose:a,schoolId:l}){const[r,o]=b.useState(1),[d,u]=b.useState(1),[h,x]=b.useState(xT),[g,y]=b.useState(fT),[p,j]=b.useState(gT),[N,v]=b.useState({}),[C,S]=b.useState(!1),_=Sv[r]||1,E=d>=_,A=d===1,{data:M}=J_(),{data:H,refetch:I}=hf(l,t),W=eT(),Q=tT(),K=sT(),q=aT(),$=H?.profile;b.useEffect(()=>{$&&(x({totalDevices:$.totalDevices,deviceTypes:$.deviceTypes||Wb,networkQuality:$.networkQuality,internetSpeed:$.internetSpeed,lmsPlatform:$.lmsPlatform,existingSoftware:$.existingSoftware||[],itStaffCount:$.itStaffCount,deviceAge:$.deviceAge}),y({painPoints:$.painPoints||[],supportSatisfaction:$.supportSatisfaction,biggestChallenges:$.biggestChallenges||[],supportFrequency:$.supportFrequency,avgResolutionTime:$.avgResolutionTime,biggestFrustration:$.biggestFrustration,wishList:$.wishList}),j({strategicGoals:$.strategicGoals||[],budgetRange:$.budgetRange,timeline:$.timeline,expansionPlans:$.expansionPlans,priorityRanking:$.priorityRanking||[],decisionMakers:$.decisionMakers||[]}),v($.followUpResponses||{}))},[$]),b.useEffect(()=>{t||(o(1),u(1),S(!1))},[t]),b.useEffect(()=>{u(1)},[r]);const re=()=>{E||u(be=>be+1)},le=()=>{if(A){r>1&&(o(be=>be-1),u(Sv[r-1]||1));return}u(be=>be-1)},xe=b.useCallback(async()=>{const be={schoolId:l,...h,...g,...p};try{if(await W.mutateAsync(be),r<4&&(o(r+1),r===3&&!$?.aiSummary)){S(!0);const fe=(await I()).data?.profile;fe?.id&&(await Q.mutateAsync({profileId:fe.id,schoolId:l}),await I()),S(!1)}}catch(ye){console.error("Failed to save profile:",ye),S(!1)}},[r,h,g,p,l,$,W,Q,I]),me=b.useCallback(async()=>{if($?.id)try{Object.keys(N).length>0&&await K.mutateAsync({profileId:$.id,schoolId:l,data:{responses:N}}),await q.mutateAsync({profileId:$.id,schoolId:l}),a()}catch(be){console.error("Failed to complete profile:",be)}},[$,N,l,K,q,a]),D=b.useCallback(async()=>{if($?.id){S(!0);try{await Q.mutateAsync({profileId:$.id,schoolId:l}),await I()}catch(be){console.error("Failed to generate AI:",be)}S(!1)}},[$,l,Q,I]),X=W.isPending||Q.isPending||K.isPending||q.isPending,Z=()=>{switch(r){case 1:return e.jsx(rT,{data:h,options:M,onChange:x,currentQuestion:d,totalQuestions:_});case 2:return e.jsx(iT,{data:g,options:M,onChange:y,currentQuestion:d,totalQuestions:_});case 3:return e.jsx(oT,{data:p,options:M,onChange:j,currentQuestion:d,totalQuestions:_});case 4:return e.jsx(uT,{profile:$||{},followUpResponses:N,onResponseChange:(be,ye)=>v(fe=>({...fe,[be]:ye})),isGenerating:C});default:return null}};return e.jsxs(Ms,{open:t,onClose:a,className:"max-w-3xl max-h-[90vh]",children:[e.jsx(_s,{onClose:a,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-gradient-to-br from-indigo-500 to-purple-600 text-white",children:e.jsx(Jt,{className:"h-4 w-4"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold",children:"EdTech Profile Assessment"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Help us understand your school's technology landscape"})]})]})}),e.jsxs(Ts,{className:"max-h-[60vh] overflow-y-auto",children:[e.jsx(lT,{currentStep:r,onStepClick:o,allowNavigation:!!$}),Z()]}),e.jsx(Rs,{children:e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsxs(T,{variant:"outline",onClick:le,disabled:r===1&&A||X,children:[e.jsx(Po,{className:"w-4 h-4 mr-1"}),"Back"]}),e.jsxs("div",{className:"flex gap-2",children:[r===4&&!$?.aiSummary&&!C&&e.jsxs(T,{variant:"outline",onClick:D,disabled:X,children:[e.jsx(Jt,{className:"w-4 h-4 mr-1"}),"Generate AI Analysis"]}),r<4?E?e.jsx(T,{onClick:xe,disabled:X,className:"bg-indigo-600 hover:bg-indigo-700",children:X?e.jsxs(e.Fragment,{children:[e.jsx(jt,{className:"w-4 h-4 mr-1 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:["Save & Continue",e.jsx(Da,{className:"w-4 h-4 ml-1"})]})}):e.jsxs(T,{onClick:re,className:"bg-indigo-600 hover:bg-indigo-700",children:["Next",e.jsx(Da,{className:"w-4 h-4 ml-1"})]}):e.jsx(T,{onClick:me,disabled:X||C,className:"bg-green-600 hover:bg-green-700",children:X?e.jsxs(e.Fragment,{children:[e.jsx(jt,{className:"w-4 h-4 mr-1 animate-spin"}),"Completing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ga,{className:"w-4 h-4 mr-1"}),"Complete Assessment"]})})]})]})})]})}const pT={high:"bg-red-100 text-red-800",medium:"bg-yellow-100 text-yellow-800",low:"bg-green-100 text-green-800"};function yT({profile:t}){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-2",children:t.status==="completed"?e.jsxs(e.Fragment,{children:[e.jsx(_t,{className:"h-5 w-5 text-green-600"}),e.jsx("span",{className:"text-sm font-medium text-green-800",children:"Profile Completed"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"h-5 w-5 rounded-full border-2 border-amber-500 border-dashed"}),e.jsx("span",{className:"text-sm font-medium text-amber-800",children:"Draft"})]})}),t.completedAt&&e.jsxs("span",{className:"text-xs text-gray-500",children:["Last updated: ",new Date(t.completedAt).toLocaleDateString()]})]}),t.aiSummary&&e.jsxs("div",{className:"rounded-lg bg-gradient-to-br from-purple-50 to-indigo-50 border border-purple-100 p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Jt,{className:"h-4 w-4 text-purple-600"}),e.jsx("span",{className:"text-sm font-medium text-purple-900",children:"AI Summary"})]}),e.jsx("p",{className:"text-sm text-gray-700",children:t.aiSummary})]}),e.jsxs("div",{className:"rounded-lg border border-gray-100 p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(is,{className:"h-4 w-4 text-indigo-600"}),e.jsx("span",{className:"text-sm font-medium",children:"Infrastructure"})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-2 text-center",children:[e.jsx("div",{className:"text-xl font-bold text-indigo-600",children:t.totalDevices||0}),e.jsx("div",{className:"text-xs text-gray-500",children:"Total Devices"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-2 text-center",children:[e.jsx("div",{className:"text-xl font-bold text-blue-600",children:t.networkQuality||"-"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Network Quality"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-2 text-center",children:[e.jsx("div",{className:"text-xl font-bold text-green-600",children:t.itStaffCount||0}),e.jsx("div",{className:"text-xs text-gray-500",children:"IT Staff"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-2 text-center",children:[e.jsx("div",{className:"text-lg font-medium text-purple-600 truncate",children:t.lmsPlatform||"None"}),e.jsx("div",{className:"text-xs text-gray-500",children:"LMS Platform"})]})]}),t.deviceTypes&&e.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Device Breakdown"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(t.deviceTypes).map(([a,l])=>l>0?e.jsxs(ee,{variant:"secondary",className:"text-xs",children:[a,": ",l]},a):null)})]})]}),(t.biggestChallenges?.length||0)>0&&e.jsxs("div",{className:"rounded-lg border border-amber-100 bg-amber-50/50 p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(We,{className:"h-4 w-4 text-amber-600"}),e.jsx("span",{className:"text-sm font-medium",children:"Top Challenges"})]}),e.jsx("div",{className:"space-y-2",children:t.biggestChallenges?.slice(0,3).map((a,l)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-5 h-5 rounded-full bg-amber-200 text-amber-800 text-xs flex items-center justify-center font-medium",children:l+1}),e.jsx("span",{className:"text-sm text-gray-700",children:a})]},l))})]}),(t.priorityRanking?.length||0)>0&&e.jsxs("div",{className:"rounded-lg border border-emerald-100 bg-emerald-50/50 p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(sa,{className:"h-4 w-4 text-emerald-600"}),e.jsx("span",{className:"text-sm font-medium",children:"Priority Goals"})]}),e.jsx("div",{className:"space-y-2",children:t.priorityRanking?.slice(0,3).map((a,l)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-5 h-5 rounded-full bg-emerald-200 text-emerald-800 text-xs flex items-center justify-center font-medium",children:l+1}),e.jsx("span",{className:"text-sm text-gray-700",children:a})]},l))})]}),e.jsxs("div",{className:"flex gap-4",children:[t.budgetRange&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Budget:"}),e.jsx(ee,{variant:"secondary",children:t.budgetRange})]}),t.timeline&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Ot,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-gray-500",children:"Timeline:"}),e.jsx(ee,{variant:"secondary",children:t.timeline.replace(/_/g," ")})]})]}),t.aiRecommendations&&t.aiRecommendations.length>0&&e.jsxs("div",{className:"rounded-lg border border-indigo-100 bg-indigo-50/50 p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(Jt,{className:"h-4 w-4 text-indigo-600"}),e.jsx("span",{className:"text-sm font-medium",children:"AI Recommendations"})]}),e.jsx("div",{className:"space-y-2",children:t.aiRecommendations.map((a,l)=>e.jsxs("div",{className:"flex items-start gap-2 bg-white rounded-lg p-2 border border-indigo-100",children:[e.jsx(ee,{className:z("text-xs mt-0.5",pT[a.priority]),children:a.priority}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:a.title}),e.jsx("div",{className:"text-xs text-gray-500 truncate",children:a.description})]})]},l))})]})]})}function vT({schoolId:t}){const[a,l]=b.useState(!1),[r,o]=b.useState(!1),{data:d,isLoading:u}=hf(t),h=d?.profile,x=!!h,g=h?.status==="completed";return u?e.jsx(F,{children:e.jsx(P,{className:"py-8",children:e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx(jt,{className:"h-8 w-8 text-indigo-600 animate-spin"}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Loading EdTech profile..."})]})})}):x?e.jsxs(e.Fragment,{children:[e.jsxs(F,{children:[e.jsx(ie,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(oe,{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-gradient-to-br from-indigo-500 to-purple-600 text-white",children:e.jsx(Jt,{className:"h-4 w-4"})}),"EdTech Profile"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[g?e.jsxs(ee,{className:"bg-green-100 text-green-800 border-green-200",children:[e.jsx(_t,{className:"h-3 w-3 mr-1"}),"Complete"]}):e.jsx(ee,{className:"bg-amber-100 text-amber-800 border-amber-200",children:"Draft"}),e.jsxs(T,{variant:"outline",size:"sm",onClick:()=>l(!0),children:[e.jsx(sr,{className:"h-3 w-3 mr-1"}),g?"Update":"Continue"]})]})]})}),e.jsx(P,{children:r?e.jsxs(e.Fragment,{children:[e.jsx(yT,{profile:h}),e.jsx(T,{variant:"ghost",size:"sm",className:"mt-4 w-full",onClick:()=>o(!1),children:"Show Less"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[e.jsxs("div",{className:"bg-indigo-50 rounded-lg p-3 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:h.totalDevices||0}),e.jsx("div",{className:"text-xs text-gray-500",children:"Devices"})]}),e.jsxs("div",{className:"bg-amber-50 rounded-lg p-3 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-amber-600",children:h.biggestChallenges?.length||0}),e.jsx("div",{className:"text-xs text-gray-500",children:"Challenges"})]}),e.jsxs("div",{className:"bg-emerald-50 rounded-lg p-3 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-emerald-600",children:h.strategicGoals?.length||0}),e.jsx("div",{className:"text-xs text-gray-500",children:"Goals"})]})]}),h.aiSummary&&e.jsxs("div",{className:"bg-purple-50 rounded-lg p-3 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-1 text-xs font-medium text-purple-700 mb-1",children:[e.jsx(Jt,{className:"h-3 w-3"}),"AI Summary"]}),e.jsx("p",{className:"text-sm text-gray-700 line-clamp-2",children:h.aiSummary})]}),h.priorityRanking?.[0]&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(sa,{className:"h-4 w-4 text-emerald-600"}),e.jsx("span",{className:"text-gray-500",children:"Top Priority:"}),e.jsx("span",{className:"font-medium text-gray-900",children:h.priorityRanking[0]})]}),e.jsxs(T,{variant:"ghost",size:"sm",className:"mt-4 w-full",onClick:()=>o(!0),children:["View Full Profile",e.jsx(Pe,{className:"ml-1 h-3 w-3"})]})]})})]}),e.jsx(Cv,{open:a,onClose:()=>l(!1),schoolId:t})]}):e.jsxs(e.Fragment,{children:[e.jsx(F,{className:"overflow-hidden",children:e.jsxs("div",{className:"bg-gradient-to-r from-indigo-500 via-purple-500 to-indigo-600 p-6 text-white",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-white/20 backdrop-blur",children:e.jsx(Jt,{className:"h-6 w-6"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Complete Your EdTech Assessment"}),e.jsx("p",{className:"mt-1 text-sm text-indigo-100",children:"Help us understand your school's technology landscape to provide better support and personalized recommendations."})]})]}),e.jsxs("div",{className:"mt-6 flex flex-wrap gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-indigo-100",children:[e.jsx(is,{className:"h-4 w-4"}),e.jsx("span",{children:"Infrastructure"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-indigo-100",children:[e.jsx(sa,{className:"h-4 w-4"}),e.jsx("span",{children:"Goals & Priorities"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-indigo-100",children:[e.jsx(Jt,{className:"h-4 w-4"}),e.jsx("span",{children:"AI Recommendations"})]})]}),e.jsxs(T,{onClick:()=>l(!0),className:"mt-6 bg-white text-indigo-600 hover:bg-indigo-50",children:["Start Assessment",e.jsx(Pe,{className:"ml-2 h-4 w-4"})]})]})}),e.jsx(Cv,{open:a,onClose:()=>l(!1),schoolId:t})]})}function jT(t){return $s(t,{addSuffix:!0})}const Gh=[{status:"new",label:"Reported",icon:We,color:"text-blue-600",bgColor:"bg-blue-100"},{status:"acknowledged",label:"Acknowledged",icon:_t,color:"text-yellow-600",bgColor:"bg-yellow-100"},{status:"in_progress",label:"In Progress",icon:Ge,color:"text-purple-600",bgColor:"bg-purple-100"},{status:"resolved",label:"Resolved",icon:_t,color:"text-green-600",bgColor:"bg-green-100"}],kv=[{id:"INC-2024-0156",title:"Laptop not turning on - Lab Room 3",status:"in_progress",priority:"high",createdAt:"2024-12-10T09:30:00Z",acknowledgedAt:"2024-12-10T10:15:00Z",inProgressAt:"2024-12-11T08:00:00Z",assignedTo:"James Wilson",lastUpdate:"Technician dispatched, expected arrival tomorrow",estimatedResolution:"2024-12-15"},{id:"INC-2024-0142",title:"Projector display issues - Main Hall",status:"acknowledged",priority:"medium",createdAt:"2024-12-08T14:20:00Z",acknowledgedAt:"2024-12-08T15:00:00Z",assignedTo:"Support Team",lastUpdate:"Reviewing issue, will assign technician soon"},{id:"INC-2024-0128",title:"Network connectivity issue",status:"resolved",priority:"high",createdAt:"2024-12-01T08:00:00Z",acknowledgedAt:"2024-12-01T08:30:00Z",inProgressAt:"2024-12-01T10:00:00Z",resolvedAt:"2024-12-02T14:00:00Z",resolution:"Router replaced, network restored",resolutionTime:"30 hours"}],Av=[{id:"msg-1",from:"Support Team",subject:"Update on INC-2024-0156",preview:"Technician has been assigned and will arrive tomorrow morning...",timestamp:"2 hours ago",unread:!0},{id:"msg-2",from:"James Wilson",subject:"Parts ordered for your laptop repair",preview:"The replacement screen has been ordered and should arrive by...",timestamp:"1 day ago",unread:!1}];function bT({incident:t}){const a=Gh.findIndex(l=>l.status===t.status);return e.jsx("div",{className:"flex items-center gap-1 mt-3",children:Gh.map((l,r)=>{const o=r<a,d=r===a,u=l.icon;return e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:z("flex items-center justify-center w-8 h-8 rounded-full transition-all",o?"bg-green-100":d?l.bgColor:"bg-gray-100"),children:e.jsx(u,{className:z("w-4 h-4",o?"text-green-600":d?l.color:"text-gray-400")})}),r<Gh.length-1&&e.jsx("div",{className:z("w-8 h-1 mx-1",o?"bg-green-300":"bg-gray-200")})]},l.status)})})}function NT(){const{user:t}=Nt(),a=t?.displayName||t?.username||"User",l="Greenwood Primary School",r=t?.schoolId||"demo-school-001",{data:o}=tf({limit:5}),{data:d}=ar(),u=kv.filter(g=>g.status!=="resolved").length,h=d?.total||Av.filter(g=>g.unread).length,x=o?.items?.slice(0,2).map(g=>({id:g.id,from:g.createdByName||"Support Team",subject:g.subject,preview:g.lastMessage?.content||"",timestamp:jT(new Date(g.lastMessageAt||g.updatedAt)),unread:g.unreadCountSchool>0}))||Av;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-r from-green-600 via-emerald-600 to-teal-600 p-6 text-white shadow-lg",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/5 rounded-full -translate-y-32 translate-x-32"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-white/5 rounded-full translate-y-24 -translate-x-24"}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-white/20 backdrop-blur",children:e.jsx(Ft,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl md:text-3xl font-bold",children:["Welcome, ",a,"!"]}),e.jsx("p",{className:"text-green-100",children:l})]})]}),e.jsxs("div",{className:"mt-6 grid grid-cols-2 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-xl p-3",children:[e.jsx("p",{className:"text-2xl font-bold",children:u}),e.jsx("p",{className:"text-green-200 text-sm",children:"Open Incidents"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-xl p-3",children:[e.jsx("p",{className:"text-2xl font-bold",children:h}),e.jsx("p",{className:"text-green-200 text-sm",children:"New Messages"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-xl p-3 hidden md:block",children:[e.jsx("p",{className:"text-2xl font-bold",children:"~24h"}),e.jsx("p",{className:"text-green-200 text-sm",children:"Avg. Response Time"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs(ce,{to:"/incidents?action=create",className:"flex items-center gap-4 p-4 rounded-xl bg-gradient-to-r from-amber-500 to-orange-500 text-white shadow-md hover:shadow-lg transition-all hover:-translate-y-0.5",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-white/20",children:e.jsx(Tt,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-lg",children:"Report New Incident"}),e.jsx("p",{className:"text-amber-100 text-sm",children:"Submit a new issue for your school"})]}),e.jsx(Pe,{className:"ml-auto h-5 w-5"})]}),e.jsxs(ce,{to:"/messages",className:"flex items-center gap-4 p-4 rounded-xl bg-gradient-to-r from-blue-500 to-cyan-500 text-white shadow-md hover:shadow-lg transition-all hover:-translate-y-0.5",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-white/20",children:e.jsx(qt,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-lg",children:"Contact Support"}),e.jsx("p",{className:"text-blue-100 text-sm",children:"Send a message to the support team"})]}),h>0&&e.jsxs(ee,{className:"ml-auto bg-white text-blue-600",children:[h," new"]})]})]}),e.jsx(vT,{schoolId:r}),e.jsxs(F,{children:[e.jsx(ie,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(oe,{className:"flex items-center gap-2",children:[e.jsx(We,{className:"h-5 w-5 text-amber-600"}),"My Reported Incidents"]}),e.jsx(ce,{to:"/incidents",children:e.jsxs(T,{variant:"outline",size:"sm",children:["View All",e.jsx(Pe,{className:"ml-2 h-4 w-4"})]})})]})}),e.jsx(P,{children:e.jsx("div",{className:"space-y-4",children:kv.map(g=>e.jsx("div",{className:"p-4 rounded-lg border border-gray-100 hover:border-gray-200 hover:bg-gray-50/50 transition-colors",children:e.jsx("div",{className:"flex items-start justify-between gap-4",children:e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"text-sm font-mono text-gray-500",children:g.id}),e.jsx(ee,{className:z(g.priority==="high"?"bg-red-100 text-red-800":g.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:g.priority})]}),e.jsx("h4",{className:"font-medium text-gray-900",children:g.title}),e.jsx(bT,{incident:g}),e.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-1",children:[e.jsx(it,{className:"h-4 w-4"}),e.jsx("span",{children:"Latest Update"}),g.assignedTo&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:""}),e.jsxs("span",{children:["Assigned to ",g.assignedTo]})]})]}),e.jsx("p",{className:"text-sm text-gray-700",children:g.status==="resolved"?`Resolved: ${g.resolution}`:g.lastUpdate}),g.estimatedResolution&&g.status!=="resolved"&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1 flex items-center gap-1",children:[e.jsx($j,{className:"h-3 w-3"}),"Expected resolution: ",new Date(g.estimatedResolution).toLocaleDateString()]}),g.resolutionTime&&e.jsxs("p",{className:"text-xs text-green-600 mt-1 flex items-center gap-1",children:[e.jsx(Oa,{className:"h-3 w-3"}),"Resolved in ",g.resolutionTime]})]})]})})},g.id))})})]}),e.jsxs(F,{children:[e.jsx(ie,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(oe,{className:"flex items-center gap-2",children:[e.jsx(qt,{className:"h-5 w-5 text-blue-600"}),"Messages from Support"]}),h>0&&e.jsxs(ee,{className:"bg-blue-100 text-blue-800",children:[h," unread"]})]})}),e.jsx(P,{children:x.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(qt,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),e.jsx("p",{children:"No messages yet"})]}):e.jsx("div",{className:"space-y-3",children:x.map(g=>e.jsx(ce,{to:`/messages/${g.id}`,className:z("block p-3 rounded-lg border transition-colors",g.unread?"border-blue-200 bg-blue-50/50 hover:bg-blue-50":"border-gray-100 hover:border-gray-200 hover:bg-gray-50"),children:e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-gray-900",children:g.from}),g.unread&&e.jsx("span",{className:"w-2 h-2 bg-blue-600 rounded-full"})]}),e.jsx("p",{className:"font-medium text-sm text-gray-700 truncate",children:g.subject}),e.jsx("p",{className:"text-sm text-gray-500 truncate",children:g.preview})]}),e.jsx("span",{className:"text-xs text-gray-400 whitespace-nowrap",children:g.timestamp})]})},g.id))})})]}),e.jsxs(F,{children:[e.jsx(ie,{children:e.jsxs(oe,{className:"flex items-center gap-2",children:[e.jsx(dl,{className:"h-5 w-5 text-cyan-600"}),"Need Immediate Help?"]})}),e.jsxs(P,{children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-cyan-50 to-blue-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Live Chat Support"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Connect with a support agent in real-time for immediate assistance."})]}),e.jsx("div",{className:"text-cyan-600",children:e.jsx(dl,{className:"h-8 w-8"})})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-3 text-center",children:"Click the chat button in the bottom right corner to start a conversation."})]})]}),e.jsx(R_,{})]})}function wT(t){return $s(t,{addSuffix:!0})}const ST={assigned:{label:"Assigned",color:"text-blue-600",bgColor:"bg-blue-100",icon:it},in_progress:{label:"In Progress",color:"text-purple-600",bgColor:"bg-purple-100",icon:Ge},pending_parts:{label:"Pending Parts",color:"text-yellow-600",bgColor:"bg-yellow-100",icon:$j},completed:{label:"Completed",color:"text-green-600",bgColor:"bg-green-100",icon:_t}},bo=[{id:"WO-2024-0892",title:"Laptop screen replacement",status:"in_progress",priority:"high",schoolName:"Greenwood Primary School",schoolAddress:"123 Oak Street, Nairobi",scheduledDate:"2024-12-14",scheduledTime:"09:00 AM",deviceTag:"DEV-LP-0042",estimatedDuration:"2 hours"},{id:"WO-2024-0895",title:"Battery replacement - Dell Latitude",status:"assigned",priority:"medium",schoolName:"Mombasa Secondary School",schoolAddress:"456 Palm Road, Mombasa",scheduledDate:"2024-12-14",scheduledTime:"02:00 PM",deviceTag:"DEV-LP-0156",estimatedDuration:"1 hour"},{id:"WO-2024-0878",title:"Keyboard replacement",status:"pending_parts",priority:"low",schoolName:"Kisumu Academy",schoolAddress:"789 Lake View, Kisumu",scheduledDate:"2024-12-16",deviceTag:"DEV-LP-0089",estimatedDuration:"45 mins",partsNote:"Waiting for keyboard delivery"},{id:"WO-2024-0865",title:"Motherboard diagnostic",status:"completed",priority:"high",schoolName:"Nakuru High School",completedAt:"2024-12-13T16:30:00Z",deviceTag:"DEV-LP-0201",resolution:"Replaced faulty RAM module"}],Mv=[{id:"msg-1",from:"Support Team",subject:"Parts ready for pickup - WO-2024-0878",preview:"The keyboard for work order WO-2024-0878 is now available...",timestamp:"1 hour ago",unread:!0},{id:"msg-2",from:"Lead Technician",subject:"Schedule change for tomorrow",preview:"Please note the updated schedule for tomorrow morning...",timestamp:"3 hours ago",unread:!1}];function CT(){const{user:t}=Nt(),a=t?.displayName||t?.username||"Technician",{data:l}=tf({limit:5}),{data:r}=ar(),o=bo.filter(p=>p.status!=="completed"&&p.scheduledDate==="2024-12-14").length,d=bo.filter(p=>p.status==="in_progress").length,u=bo.filter(p=>p.status==="completed").length,h=r?.total||Mv.filter(p=>p.unread).length,x=l?.items?.slice(0,3).map(p=>({id:p.id,from:p.createdByName||"Support Team",subject:p.subject,preview:p.lastMessage?.content||"",timestamp:wT(new Date(p.lastMessageAt||p.updatedAt)),unread:p.unreadCountSchool>0}))||Mv,g=bo.filter(p=>p.status!=="completed"),y=bo.filter(p=>p.status==="completed");return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 p-6 text-white shadow-lg",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/5 rounded-full -translate-y-32 translate-x-32"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-white/5 rounded-full translate-y-24 -translate-x-24"}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-white/20 backdrop-blur",children:e.jsx(Ge,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl md:text-3xl font-bold",children:["Welcome, ",a,"!"]}),e.jsx("p",{className:"text-blue-100",children:"Field Technician"})]})]}),e.jsxs("div",{className:"mt-6 grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-xl p-3",children:[e.jsx("p",{className:"text-2xl font-bold",children:o}),e.jsx("p",{className:"text-blue-200 text-sm",children:"Today's Jobs"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-xl p-3",children:[e.jsx("p",{className:"text-2xl font-bold",children:d}),e.jsx("p",{className:"text-blue-200 text-sm",children:"In Progress"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-xl p-3",children:[e.jsx("p",{className:"text-2xl font-bold",children:u}),e.jsx("p",{className:"text-blue-200 text-sm",children:"Completed"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-xl p-3",children:[e.jsx("p",{className:"text-2xl font-bold",children:h}),e.jsx("p",{className:"text-blue-200 text-sm",children:"Messages"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(ce,{to:"/work-orders?assignee=me",className:"flex items-center gap-4 p-4 rounded-xl bg-gradient-to-r from-blue-500 to-cyan-500 text-white shadow-md hover:shadow-lg transition-all hover:-translate-y-0.5",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-white/20",children:e.jsx(Ge,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-lg",children:"My Work Orders"}),e.jsx("p",{className:"text-blue-100 text-sm",children:"View assigned jobs"})]}),g.length>0&&e.jsx(ee,{className:"ml-auto bg-white text-blue-600",children:g.length})]}),e.jsxs(ce,{to:"/messages",className:"flex items-center gap-4 p-4 rounded-xl bg-gradient-to-r from-purple-500 to-pink-500 text-white shadow-md hover:shadow-lg transition-all hover:-translate-y-0.5",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-white/20",children:e.jsx(qt,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-lg",children:"Messages"}),e.jsx("p",{className:"text-purple-100 text-sm",children:"Contact support team"})]}),h>0&&e.jsxs(ee,{className:"ml-auto bg-white text-purple-600",children:[h," new"]})]}),e.jsxs(ce,{to:"/knowledge-base",className:"flex items-center gap-4 p-4 rounded-xl bg-gradient-to-r from-emerald-500 to-teal-500 text-white shadow-md hover:shadow-lg transition-all hover:-translate-y-0.5",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-white/20",children:e.jsx(Qa,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-lg",children:"Knowledge Base"}),e.jsx("p",{className:"text-emerald-100 text-sm",children:"Repair guides & docs"})]}),e.jsx(Pe,{className:"ml-auto h-5 w-5"})]})]}),e.jsxs(F,{children:[e.jsx(ie,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(oe,{className:"flex items-center gap-2",children:[e.jsx(Ot,{className:"h-5 w-5 text-blue-600"}),"Today's Schedule"]}),e.jsx(ce,{to:"/work-orders?assignee=me",children:e.jsxs(T,{variant:"outline",size:"sm",children:["View All",e.jsx(Pe,{className:"ml-2 h-4 w-4"})]})})]})}),e.jsx(P,{children:g.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(_t,{className:"h-12 w-12 mx-auto mb-3 text-green-500"}),e.jsx("p",{className:"font-medium",children:"All caught up!"}),e.jsx("p",{className:"text-sm",children:"No pending work orders assigned to you."})]}):e.jsx("div",{className:"space-y-4",children:g.map(p=>{const j=ST[p.status],N=j?.icon||it;return e.jsx(ce,{to:`/work-orders/${p.id}`,className:"block p-4 rounded-lg border border-gray-100 hover:border-gray-200 hover:bg-gray-50/50 transition-colors",children:e.jsx("div",{className:"flex items-start justify-between gap-4",children:e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"text-sm font-mono text-gray-500",children:p.id}),e.jsx(ee,{className:z(p.priority==="high"?"bg-red-100 text-red-800":p.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:p.priority}),e.jsxs(ee,{className:z(j?.bgColor,j?.color),children:[e.jsx(N,{className:"h-3 w-3 mr-1"}),j?.label]})]}),e.jsx("h4",{className:"font-medium text-gray-900",children:p.title}),e.jsxs("div",{className:"mt-2 space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(_a,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{children:p.schoolName})]}),p.scheduledTime&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(it,{className:"h-4 w-4 text-gray-400"}),e.jsxs("span",{children:[p.scheduledTime,"  Est. ",p.estimatedDuration]})]}),p.deviceTag&&e.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:e.jsx("span",{className:"font-mono text-xs bg-gray-100 px-2 py-0.5 rounded",children:p.deviceTag})})]}),p.status==="pending_parts"&&p.partsNote&&e.jsxs("div",{className:"mt-2 p-2 bg-yellow-50 border border-yellow-100 rounded text-sm text-yellow-800",children:[e.jsx(Xa,{className:"h-4 w-4 inline mr-1"}),p.partsNote]})]})})},p.id)})})})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs(F,{children:[e.jsx(ie,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(oe,{className:"flex items-center gap-2",children:[e.jsx(qt,{className:"h-5 w-5 text-purple-600"}),"Messages"]}),h>0&&e.jsxs(ee,{className:"bg-purple-100 text-purple-800",children:[h," unread"]})]})}),e.jsx(P,{children:x.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(qt,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),e.jsx("p",{children:"No messages yet"})]}):e.jsxs("div",{className:"space-y-3",children:[x.map(p=>e.jsx(ce,{to:`/messages/${p.id}`,className:z("block p-3 rounded-lg border transition-colors",p.unread?"border-purple-200 bg-purple-50/50 hover:bg-purple-50":"border-gray-100 hover:border-gray-200 hover:bg-gray-50"),children:e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-gray-900",children:p.from}),p.unread&&e.jsx("span",{className:"w-2 h-2 bg-purple-600 rounded-full"})]}),e.jsx("p",{className:"font-medium text-sm text-gray-700 truncate",children:p.subject}),e.jsx("p",{className:"text-sm text-gray-500 truncate",children:p.preview})]}),e.jsx("span",{className:"text-xs text-gray-400 whitespace-nowrap",children:p.timestamp})]})},p.id)),e.jsx(ce,{to:"/messages",children:e.jsxs(T,{variant:"outline",className:"w-full mt-2",children:["View All Messages",e.jsx(Pe,{className:"h-4 w-4 ml-2"})]})})]})})]}),e.jsxs(F,{children:[e.jsx(ie,{children:e.jsxs(oe,{className:"flex items-center gap-2",children:[e.jsx(Oa,{className:"h-5 w-5 text-green-600"}),"Recent Completions"]})}),e.jsx(P,{children:y.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(_t,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),e.jsx("p",{children:"No completed work orders yet"})]}):e.jsx("div",{className:"space-y-3",children:y.slice(0,3).map(p=>e.jsx("div",{className:"p-3 rounded-lg border border-green-100 bg-green-50/50",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"text-sm font-mono text-gray-500",children:p.id}),e.jsxs(ee,{className:"bg-green-100 text-green-800",children:[e.jsx(_t,{className:"h-3 w-3 mr-1"}),"Completed"]})]}),e.jsx("p",{className:"font-medium text-gray-900",children:p.title}),e.jsx("p",{className:"text-sm text-gray-600",children:p.schoolName}),p.resolution&&e.jsxs("p",{className:"text-xs text-green-700 mt-1",children:["Resolution: ",p.resolution]})]})})},p.id))})})]})]}),e.jsxs(F,{children:[e.jsx(ie,{children:e.jsxs(oe,{className:"flex items-center gap-2",children:[e.jsx(Qa,{className:"h-5 w-5 text-emerald-600"}),"Knowledge Base"]})}),e.jsx(P,{children:e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-emerald-50 to-teal-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Need repair guidance?"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Access troubleshooting guides, repair manuals, and technical documentation."})]}),e.jsx(ce,{to:"/knowledge-base",children:e.jsxs(T,{className:"bg-emerald-600 hover:bg-emerald-700",children:[e.jsx(Qa,{className:"h-4 w-4 mr-2"}),"Open KB"]})})]})})]})]})}const al=bt.create({baseURL:Ub,timeout:3e4,headers:{"Content-Type":"application/json"}});al.interceptors.request.use(t=>{const a=localStorage.getItem("auth_token");a&&(t.headers.Authorization=`Bearer ${a}`);const l=localStorage.getItem("tenant_id")||"demo-tenant",r=localStorage.getItem("school_id")||"demo-school";return t.headers["X-Tenant-ID"]=l,t.headers["X-School-ID"]=r,t},t=>Promise.reject(t));al.interceptors.response.use(t=>t,async t=>{const a=t.config;if(t.response?.status===401&&a){const r=localStorage.getItem("refresh_token");if(r)try{const o=await bt.post(`${Ub}/auth/refresh`,{refreshToken:r}),{accessToken:d}=o.data;return localStorage.setItem("auth_token",d),a.headers.Authorization=`Bearer ${d}`,al(a)}catch{localStorage.removeItem("auth_token"),localStorage.removeItem("refresh_token"),window.location.href="/login"}else localStorage.removeItem("auth_token"),window.location.href="/login"}const l=kT(t);return console.error("API Error:",l),t.response?.status!==401&&xt.error("Request Failed",l),Promise.reject(t)});function kT(t){if(t.response){const a=t.response.data;return typeof a=="string"?a:typeof a=="object"&&a!==null&&"message"in a?a.message:`Error ${t.response.status}`}return t.request?"Network error - please check your connection":t.message||"An unexpected error occurred"}const de={get:(t,a)=>al.get(t,{params:a}).then(l=>l.data),post:(t,a)=>al.post(t,a).then(l=>l.data),put:(t,a)=>al.put(t,a).then(l=>l.data),patch:(t,a)=>al.patch(t,a).then(l=>l.data),delete:t=>al.delete(t).then(a=>a.data)},Co={all:["leadtech"],dashboard:()=>[...Co.all,"dashboard"],approvals:()=>[...Co.all,"approvals"],schedule:()=>[...Co.all,"schedule"],metrics:()=>[...Co.all,"metrics"]};function AT(){return Se({queryKey:Co.dashboard(),queryFn:()=>de.get("/leadtech/dashboard"),staleTime:3e4,refetchInterval:6e4})}function MT(){const{user:t}=Nt(),a=t?.displayName||t?.username||"Lead Tech",{data:l,isLoading:r}=AT(),{data:o}=ar(),d=o?.messages||0,u=l?.pendingApprovalsCount||0,h=l?.todaysScheduledCount||0,x=l?.teamMetrics||{inProgress:0,completed:0,pending:0,scheduled:0},g=l?.pendingApprovals||[],y=l?.todaysSchedule||[],p=l?.bomReadiness||[],j=l?.recentTeamActivity||[];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-r from-teal-600 via-cyan-600 to-blue-600 p-6 text-white shadow-lg",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/5 rounded-full -translate-y-32 translate-x-32"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-white/5 rounded-full translate-y-24 -translate-x-24"}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-white/20 backdrop-blur",children:e.jsx(Yt,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl md:text-3xl font-bold",children:["Welcome, ",a,"!"]}),e.jsx("p",{className:"text-teal-100",children:"Lead Technician Dashboard"})]})]}),e.jsxs("div",{className:"mt-6 grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-xl p-3",children:[e.jsx("p",{className:"text-2xl font-bold",children:u}),e.jsx("p",{className:"text-teal-200 text-sm",children:"Pending Approvals"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-xl p-3",children:[e.jsx("p",{className:"text-2xl font-bold",children:h}),e.jsx("p",{className:"text-teal-200 text-sm",children:"Today's Schedule"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-xl p-3",children:[e.jsx("p",{className:"text-2xl font-bold",children:x.inProgress}),e.jsx("p",{className:"text-teal-200 text-sm",children:"In Progress"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-xl p-3",children:[e.jsx("p",{className:"text-2xl font-bold",children:d}),e.jsx("p",{className:"text-teal-200 text-sm",children:"Messages"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs(ce,{to:"/work-orders?status=pending_approval",className:"flex items-center gap-4 p-4 rounded-xl bg-gradient-to-r from-teal-500 to-cyan-500 text-white shadow-md hover:shadow-lg transition-all hover:-translate-y-0.5",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-white/20",children:e.jsx(pa,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-lg",children:"Review Approvals"}),e.jsx("p",{className:"text-teal-100 text-sm",children:"Pending reviews"})]}),u>0&&e.jsx(ee,{className:"bg-white text-teal-600 ml-auto",children:u})]}),e.jsxs(ce,{to:"/work-orders?action=schedule",className:"flex items-center gap-4 p-4 rounded-xl bg-gradient-to-r from-cyan-500 to-blue-500 text-white shadow-md hover:shadow-lg transition-all hover:-translate-y-0.5",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-white/20",children:e.jsx(Ot,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-lg",children:"Schedule Work"}),e.jsx("p",{className:"text-cyan-100 text-sm",children:"Plan assignments"})]})]}),e.jsxs(ce,{to:"/service-shops",className:"flex items-center gap-4 p-4 rounded-xl bg-gradient-to-r from-blue-500 to-indigo-500 text-white shadow-md hover:shadow-lg transition-all hover:-translate-y-0.5",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-white/20",children:e.jsx(Yt,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-lg",children:"Service Shops"}),e.jsx("p",{className:"text-blue-100 text-sm",children:"View team locations"})]})]}),e.jsxs(ce,{to:"/parts-catalog",className:"flex items-center gap-4 p-4 rounded-xl bg-gradient-to-r from-indigo-500 to-purple-500 text-white shadow-md hover:shadow-lg transition-all hover:-translate-y-0.5",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-white/20",children:e.jsx(rt,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-lg",children:"Parts Status"}),e.jsx("p",{className:"text-indigo-100 text-sm",children:"Check inventory"})]})]})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs(F,{children:[e.jsx(ie,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(oe,{className:"flex items-center gap-2",children:[e.jsx(Fj,{className:"h-5 w-5 text-teal-600"}),"Pending Approvals"]}),u>0&&e.jsxs(ee,{className:"bg-teal-100 text-teal-800",children:[u," pending"]})]})}),e.jsx(P,{children:r?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading..."}):g.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(_t,{className:"h-12 w-12 mx-auto mb-3 text-green-500"}),e.jsx("p",{className:"font-medium",children:"All caught up!"}),e.jsx("p",{className:"text-sm",children:"No pending approvals at this time."})]}):e.jsxs("div",{className:"space-y-3",children:[g.slice(0,5).map(N=>e.jsxs(ce,{to:`/work-orders/${N.workOrderId}`,className:"block p-3 rounded-lg border border-gray-100 hover:border-teal-200 hover:bg-teal-50/50 transition-colors",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:N.title}),e.jsx("p",{className:"text-sm text-gray-500",children:N.schoolName})]}),e.jsx(ee,{className:z(N.priority==="critical"?"bg-red-100 text-red-800":N.priority==="high"?"bg-orange-100 text-orange-800":N.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:N.priority})]}),e.jsxs("p",{className:"mt-2 text-xs text-gray-400",children:["Requested ",$s(new Date(N.requestedAt),{addSuffix:!0})]})]},N.id)),u>5&&e.jsx(ce,{to:"/work-orders?status=pending_approval",children:e.jsxs(T,{variant:"outline",className:"w-full mt-2",children:["View All Pending (",u,")",e.jsx(Pe,{className:"h-4 w-4 ml-2"})]})})]})})]}),e.jsxs(F,{children:[e.jsx(ie,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(oe,{className:"flex items-center gap-2",children:[e.jsx(Ot,{className:"h-5 w-5 text-cyan-600"}),"Today's Scheduled Work"]}),h>0&&e.jsxs(ee,{className:"bg-cyan-100 text-cyan-800",children:[h," jobs"]})]})}),e.jsx(P,{children:r?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading..."}):y.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(Ot,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),e.jsx("p",{children:"No scheduled work for today"})]}):e.jsxs("div",{className:"space-y-3",children:[y.slice(0,5).map(N=>e.jsxs(ce,{to:`/work-orders/${N.id}`,className:"block p-3 rounded-lg border border-gray-100 hover:border-cyan-200 hover:bg-cyan-50/50 transition-colors",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:N.title}),e.jsx("p",{className:"text-sm text-gray-500",children:N.schoolName})]}),e.jsx(ee,{className:z(N.status==="in_progress"||N.status==="in_repair"?"bg-blue-100 text-blue-800":N.status==="completed"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:N.status.replace("_"," ")})]}),e.jsxs("div",{className:"mt-2 flex items-center gap-4 text-xs text-gray-500",children:[N.scheduledStart&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(it,{className:"h-3 w-3"}),new Date(N.scheduledStart).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),N.assignedTo&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Yt,{className:"h-3 w-3"}),N.assignedTo]})]})]},N.id)),h>5&&e.jsx(ce,{to:"/work-orders?scheduled=today",children:e.jsxs(T,{variant:"outline",className:"w-full mt-2",children:["View Full Schedule (",h,")",e.jsx(Pe,{className:"h-4 w-4 ml-2"})]})})]})})]})]}),e.jsxs(F,{children:[e.jsx(ie,{children:e.jsxs(oe,{className:"flex items-center gap-2",children:[e.jsx(Ge,{className:"h-5 w-5 text-blue-600"}),"Team Work Order Status"]})}),e.jsx(P,{children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"p-4 rounded-lg bg-blue-50 text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-blue-600",children:x.inProgress}),e.jsx("p",{className:"text-sm text-blue-700",children:"In Progress"})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-amber-50 text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-amber-600",children:x.pending}),e.jsx("p",{className:"text-sm text-amber-700",children:"Pending"})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-purple-50 text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-purple-600",children:x.scheduled}),e.jsx("p",{className:"text-sm text-purple-700",children:"Scheduled"})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-green-50 text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-green-600",children:x.completed}),e.jsx("p",{className:"text-sm text-green-700",children:"Completed"})]})]})})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs(F,{children:[e.jsx(ie,{children:e.jsxs(oe,{className:"flex items-center gap-2",children:[e.jsx(rt,{className:"h-5 w-5 text-purple-600"}),"Parts Readiness"]})}),e.jsx(P,{children:r?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading..."}):p.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(rt,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),e.jsx("p",{children:"No scheduled jobs with BOM requirements"})]}):e.jsx("div",{className:"space-y-3",children:p.slice(0,5).map(N=>e.jsxs("div",{className:z("p-3 rounded-lg border",N.isReady?"border-green-100 bg-green-50/50":"border-amber-100 bg-amber-50/50"),children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:N.workOrderTitle}),e.jsxs("p",{className:"text-sm text-gray-500",children:[N.availableParts,"/",N.totalParts," parts available"]})]}),N.isReady?e.jsx(_t,{className:"h-5 w-5 text-green-600"}):e.jsx(We,{className:"h-5 w-5 text-amber-600"})]}),!N.isReady&&e.jsxs("p",{className:"mt-1 text-xs text-amber-600",children:[N.missingParts," parts missing"]})]},N.workOrderId))})})]}),e.jsxs(F,{children:[e.jsx(ie,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(oe,{className:"flex items-center gap-2",children:[e.jsx(cl,{className:"h-5 w-5 text-emerald-600"}),"Recent Team Activity"]}),e.jsx(ce,{to:"/audit-logs",children:e.jsxs(T,{variant:"outline",size:"sm",children:["View All",e.jsx(Pe,{className:"ml-2 h-4 w-4"})]})})]})}),e.jsx(P,{children:r?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading..."}):j.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(cl,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),e.jsx("p",{children:"No recent activity"})]}):e.jsx("div",{className:"space-y-3",children:j.slice(0,5).map(N=>e.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-lg border border-gray-100",children:[e.jsxs("div",{className:z("flex h-10 w-10 items-center justify-center rounded-full",N.entityType==="work_order"?"bg-blue-100":N.entityType==="bom_item"?"bg-purple-100":"bg-teal-100"),children:[N.entityType==="work_order"&&e.jsx(Ge,{className:"h-5 w-5 text-blue-600"}),N.entityType==="bom_item"&&e.jsx(rt,{className:"h-5 w-5 text-purple-600"}),N.entityType==="work_order_approval"&&e.jsx(pa,{className:"h-5 w-5 text-teal-600"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-gray-900",children:N.description}),e.jsx("p",{className:"text-sm text-gray-500",children:N.actorName})]}),e.jsx("span",{className:"text-xs text-gray-400",children:$s(new Date(N.createdAt),{addSuffix:!0})})]},N.id))})})]})]}),e.jsxs(F,{children:[e.jsx(ie,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(oe,{className:"flex items-center gap-2",children:[e.jsx(qt,{className:"h-5 w-5 text-blue-600"}),"Messages",d>0&&e.jsxs(ee,{className:"bg-blue-100 text-blue-800 ml-2",children:[d," unread"]})]}),e.jsx(ce,{to:"/messages",children:e.jsxs(T,{variant:"outline",size:"sm",children:["View All",e.jsx(Pe,{className:"ml-2 h-4 w-4"})]})})]})}),e.jsx(P,{children:e.jsx("p",{className:"text-gray-500 text-center py-4",children:"Coordinate with your team and receive updates on work order approvals and schedules."})})]})]})}const ko={all:["warehouse"],dashboard:()=>[...ko.all,"dashboard"],lowStock:()=>[...ko.all,"low-stock"],pendingIssues:()=>[...ko.all,"pending-issues"],movements:()=>[...ko.all,"movements"]};function _T(){return Se({queryKey:ko.dashboard(),queryFn:()=>de.get("/warehouse/dashboard"),staleTime:3e4,refetchInterval:6e4})}function TT(){const{user:t}=Nt(),a=t?.displayName||t?.username||"Manager",{data:l,isLoading:r}=_T(),{data:o}=ar(),d=o?.messages||0,u=l?.lowStockCount||0,h=l?.pendingWorkOrders||0,x=l?.todayMovements||0,g=l?.totalParts||0,y=l?.lowStockItems||[],p=l?.pendingPartIssues||[],j=l?.recentActivity||[],N=l?.partsCategories||{};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-r from-amber-600 via-orange-600 to-red-600 p-6 text-white shadow-lg",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/5 rounded-full -translate-y-32 translate-x-32"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-white/5 rounded-full translate-y-24 -translate-x-24"}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-white/20 backdrop-blur",children:e.jsx(J5,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl md:text-3xl font-bold",children:["Welcome, ",a,"!"]}),e.jsx("p",{className:"text-amber-100",children:"Warehouse Manager Dashboard"})]})]}),e.jsxs("div",{className:"mt-6 grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-xl p-3",children:[e.jsx("p",{className:"text-2xl font-bold",children:u}),e.jsx("p",{className:"text-amber-200 text-sm",children:"Low Stock Alerts"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-xl p-3",children:[e.jsx("p",{className:"text-2xl font-bold",children:h}),e.jsx("p",{className:"text-amber-200 text-sm",children:"Pending Parts"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-xl p-3",children:[e.jsx("p",{className:"text-2xl font-bold",children:x}),e.jsx("p",{className:"text-amber-200 text-sm",children:"Today's Movements"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-xl p-3",children:[e.jsx("p",{className:"text-2xl font-bold",children:d}),e.jsx("p",{className:"text-amber-200 text-sm",children:"Messages"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs(ce,{to:"/parts-catalog",className:"flex items-center gap-4 p-4 rounded-xl bg-gradient-to-r from-amber-500 to-orange-500 text-white shadow-md hover:shadow-lg transition-all hover:-translate-y-0.5",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-white/20",children:e.jsx(rt,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-lg",children:"Parts Catalog"}),e.jsx("p",{className:"text-amber-100 text-sm",children:"Manage parts"})]})]}),e.jsxs(ce,{to:"/service-shops",className:"flex items-center gap-4 p-4 rounded-xl bg-gradient-to-r from-rose-500 to-pink-500 text-white shadow-md hover:shadow-lg transition-all hover:-translate-y-0.5",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-white/20",children:e.jsx(Fj,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-lg",children:"Service Shops"}),e.jsx("p",{className:"text-rose-100 text-sm",children:"View inventory"})]})]}),e.jsxs(ce,{to:"/devices",className:"flex items-center gap-4 p-4 rounded-xl bg-gradient-to-r from-blue-500 to-cyan-500 text-white shadow-md hover:shadow-lg transition-all hover:-translate-y-0.5",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-white/20",children:e.jsx(Pd,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-lg",children:"Devices"}),e.jsx("p",{className:"text-blue-100 text-sm",children:"Device inventory"})]})]}),e.jsxs(ce,{to:"/work-orders",className:"flex items-center gap-4 p-4 rounded-xl bg-gradient-to-r from-purple-500 to-indigo-500 text-white shadow-md hover:shadow-lg transition-all hover:-translate-y-0.5",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-white/20",children:e.jsx(Ge,{className:"h-6 w-6"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-lg",children:"Work Orders"}),e.jsx("p",{className:"text-purple-100 text-sm",children:"Parts needed"})]}),h>0&&e.jsx(ee,{className:"bg-white text-purple-600",children:h})]})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs(F,{children:[e.jsx(ie,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(oe,{className:"flex items-center gap-2",children:[e.jsx(We,{className:"h-5 w-5 text-amber-600"}),"Low Stock Alerts"]}),u>0&&e.jsxs(ee,{className:"bg-amber-100 text-amber-800",children:[u," items"]})]})}),e.jsx(P,{children:r?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading..."}):y.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(rt,{className:"h-12 w-12 mx-auto mb-3 text-green-500"}),e.jsx("p",{className:"font-medium",children:"All stock levels healthy!"}),e.jsx("p",{className:"text-sm",children:"No items below reorder threshold."})]}):e.jsxs("div",{className:"space-y-3",children:[y.slice(0,5).map(v=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-amber-100 bg-amber-50/50",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-gray-900",children:v.partName}),e.jsx("p",{className:"text-sm text-gray-500",children:v.shopName})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-lg font-bold text-amber-600",children:v.qtyAvailable}),e.jsxs("p",{className:"text-xs text-gray-500",children:["of ",v.reorderThreshold," min"]})]})]},v.id)),u>5&&e.jsx(ce,{to:"/parts-catalog?lowStock=true",children:e.jsxs(T,{variant:"outline",className:"w-full mt-2",children:["View All Low Stock (",u,")",e.jsx(Pe,{className:"h-4 w-4 ml-2"})]})})]})})]}),e.jsxs(F,{children:[e.jsx(ie,{children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs(oe,{className:"flex items-center gap-2",children:[e.jsx(Ge,{className:"h-5 w-5 text-purple-600"}),"Work Orders Needing Parts"]})})}),e.jsx(P,{children:r?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading..."}):p.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(Ge,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),e.jsx("p",{children:"No pending part issues"})]}):e.jsxs("div",{className:"space-y-3",children:[p.slice(0,5).map(v=>e.jsxs(ce,{to:`/work-orders/${v.id}`,className:"block p-3 rounded-lg border border-gray-100 hover:border-purple-200 hover:bg-purple-50/50 transition-colors",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsxs("span",{className:"text-sm font-mono text-gray-500",children:[v.id.slice(0,12),"..."]}),e.jsx("p",{className:"font-medium text-gray-900",children:v.title}),e.jsx("p",{className:"text-sm text-gray-500",children:v.schoolName})]}),e.jsx(ee,{className:z(v.priority==="critical"?"bg-red-100 text-red-800":v.priority==="high"?"bg-orange-100 text-orange-800":v.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:v.priority})]}),e.jsxs("div",{className:"mt-2 text-sm text-purple-600",children:[v.partsNeeded," part(s) required"]})]},v.id)),h>5&&e.jsx(ce,{to:"/work-orders?status=pending_parts",children:e.jsxs(T,{variant:"outline",className:"w-full mt-2",children:["View All Pending (",h,")",e.jsx(Pe,{className:"h-4 w-4 ml-2"})]})})]})})]})]}),e.jsxs(F,{children:[e.jsx(ie,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(oe,{className:"flex items-center gap-2",children:[e.jsx(ls,{className:"h-5 w-5 text-blue-600"}),"Recent Inventory Activity"]}),e.jsx(ce,{to:"/audit-logs",children:e.jsxs(T,{variant:"outline",size:"sm",children:["View All",e.jsx(Pe,{className:"ml-2 h-4 w-4"})]})})]})}),e.jsx(P,{children:r?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading..."}):j.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(ls,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),e.jsx("p",{children:"No recent activity"})]}):e.jsx("div",{className:"space-y-3",children:j.slice(0,5).map(v=>e.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-lg border border-gray-100",children:[e.jsxs("div",{className:z("flex h-10 w-10 items-center justify-center rounded-full",v.type==="receipt"?"bg-green-100":v.type==="issue"?"bg-blue-100":v.type==="adjustment"?"bg-amber-100":"bg-gray-100"),children:[v.type==="receipt"&&e.jsx(Oa,{className:"h-5 w-5 text-green-600"}),v.type==="issue"&&e.jsx(Kj,{className:"h-5 w-5 text-blue-600"}),v.type==="adjustment"&&e.jsx(ls,{className:"h-5 w-5 text-amber-600"}),!["receipt","issue","adjustment"].includes(v.type)&&e.jsx(rt,{className:"h-5 w-5 text-gray-600"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-gray-900",children:v.description}),e.jsxs("p",{className:"text-sm text-gray-500",children:[v.partName," - ",v.actorName]})]}),e.jsx("span",{className:"text-xs text-gray-400",children:$s(new Date(v.createdAt),{addSuffix:!0})})]},v.id))})})]}),e.jsxs(F,{children:[e.jsx(ie,{children:e.jsxs(oe,{className:"flex items-center gap-2",children:[e.jsx(ai,{className:"h-5 w-5 text-emerald-600"}),"Parts by Category (",g," total)"]})}),e.jsx(P,{children:r?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading..."}):Object.keys(N).length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(ai,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),e.jsx("p",{children:"No parts data available"})]}):e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.entries(N).map(([v,C])=>e.jsxs("div",{className:"p-4 rounded-lg bg-gray-50 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:C}),e.jsx("p",{className:"text-sm text-gray-500 capitalize",children:v})]},v))})})]}),e.jsxs(F,{children:[e.jsx(ie,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(oe,{className:"flex items-center gap-2",children:[e.jsx(qt,{className:"h-5 w-5 text-blue-600"}),"Messages",d>0&&e.jsxs(ee,{className:"bg-blue-100 text-blue-800 ml-2",children:[d," unread"]})]}),e.jsx(ce,{to:"/messages",children:e.jsxs(T,{variant:"outline",size:"sm",children:["View All",e.jsx(Pe,{className:"ml-2 h-4 w-4"})]})})]})}),e.jsx(P,{children:e.jsx("p",{className:"text-gray-500 text-center py-4",children:"Check your messages for updates on parts orders and work order requests."})})]})]})}const ti={all:["supportagent"],dashboard:()=>[...ti.all,"dashboard"],incidents:()=>[...ti.all,"incidents"],chats:()=>[...ti.all,"chats"],workOrders:()=>[...ti.all,"workOrders"],metrics:()=>[...ti.all,"metrics"]};function RT(){return Se({queryKey:ti.dashboard(),queryFn:()=>de.get("/supportagent/dashboard"),staleTime:15e3,refetchInterval:3e4})}function DT(){const{user:t}=Nt(),a=t?.displayName||t?.username||"Support Agent",{data:l,isLoading:r}=RT(),{data:o}=ar(),d=o?.messages||l?.unreadMessagesCount||0,u=l?.openIncidentsCount||0,h=l?.waitingChatsCount||0,x=l?.activeChatsCount||0,g=l?.activeWorkOrders||0,y=l?.incidentMetrics||{open:0,inProgress:0,resolved:0,slaBreached:0},p=l?.incidentQueue||[],j=l?.chatQueue||[],N=l?.workOrderQueue||[],v=l?.recentActivity||[],C=S=>S<60?`${S}s`:S<3600?`${Math.floor(S/60)}m`:`${Math.floor(S/3600)}h ${Math.floor(S%3600/60)}m`;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-r from-amber-600 via-orange-600 to-red-600 p-6 text-white shadow-lg",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/5 rounded-full -translate-y-32 translate-x-32"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-white/5 rounded-full translate-y-24 -translate-x-24"}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-white/20 backdrop-blur",children:e.jsx(dl,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl md:text-3xl font-bold",children:["Welcome, ",a,"!"]}),e.jsx("p",{className:"text-amber-100",children:"Support Agent Dashboard"})]})]}),e.jsxs("div",{className:"mt-6 grid grid-cols-2 md:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-xl p-3",children:[e.jsx("p",{className:"text-2xl font-bold",children:u}),e.jsx("p",{className:"text-amber-200 text-sm",children:"Open Incidents"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-xl p-3",children:[e.jsx("p",{className:"text-2xl font-bold",children:h}),e.jsx("p",{className:"text-amber-200 text-sm",children:"Waiting Chats"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-xl p-3",children:[e.jsx("p",{className:"text-2xl font-bold",children:x}),e.jsx("p",{className:"text-amber-200 text-sm",children:"Active Chats"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-xl p-3",children:[e.jsx("p",{className:"text-2xl font-bold",children:g}),e.jsx("p",{className:"text-amber-200 text-sm",children:"Work Orders"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-xl p-3",children:[e.jsx("p",{className:"text-2xl font-bold",children:d}),e.jsx("p",{className:"text-amber-200 text-sm",children:"Messages"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs(ce,{to:"/incidents/new",className:"flex items-center gap-4 p-4 rounded-xl bg-gradient-to-r from-amber-500 to-orange-500 text-white shadow-md hover:shadow-lg transition-all hover:-translate-y-0.5",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-white/20",children:e.jsx(rs,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-lg",children:"New Incident"}),e.jsx("p",{className:"text-amber-100 text-sm",children:"Log a ticket"})]})]}),e.jsxs(ce,{to:"/livechat",className:"flex items-center gap-4 p-4 rounded-xl bg-gradient-to-r from-orange-500 to-red-500 text-white shadow-md hover:shadow-lg transition-all hover:-translate-y-0.5",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-white/20",children:e.jsx(bn,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-lg",children:"Live Chat"}),e.jsx("p",{className:"text-orange-100 text-sm",children:"Accept chats"})]}),h>0&&e.jsx(ee,{className:"bg-white text-orange-600 ml-auto",children:h})]}),e.jsxs(ce,{to:"/devices",className:"flex items-center gap-4 p-4 rounded-xl bg-gradient-to-r from-red-500 to-rose-500 text-white shadow-md hover:shadow-lg transition-all hover:-translate-y-0.5",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-white/20",children:e.jsx(gs,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-lg",children:"Device Lookup"}),e.jsx("p",{className:"text-red-100 text-sm",children:"Search devices"})]})]}),e.jsxs(ce,{to:"/messages",className:"flex items-center gap-4 p-4 rounded-xl bg-gradient-to-r from-rose-500 to-pink-500 text-white shadow-md hover:shadow-lg transition-all hover:-translate-y-0.5",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-white/20",children:e.jsx(Vd,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-lg",children:"Messages"}),e.jsx("p",{className:"text-rose-100 text-sm",children:"School comms"})]}),d>0&&e.jsx(ee,{className:"bg-white text-rose-600 ml-auto",children:d})]})]}),e.jsxs(F,{children:[e.jsx(ie,{children:e.jsxs(oe,{className:"flex items-center gap-2",children:[e.jsx(We,{className:"h-5 w-5 text-amber-600"}),"Incident Status Overview"]})}),e.jsx(P,{children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"p-4 rounded-lg bg-amber-50 text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-amber-600",children:y.open}),e.jsx("p",{className:"text-sm text-amber-700",children:"Open"})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-blue-50 text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-blue-600",children:y.inProgress}),e.jsx("p",{className:"text-sm text-blue-700",children:"In Progress"})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-green-50 text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-green-600",children:y.resolved}),e.jsx("p",{className:"text-sm text-green-700",children:"Resolved"})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-red-50 text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-red-600",children:y.slaBreached}),e.jsx("p",{className:"text-sm text-red-700",children:"SLA Breached"})]})]})})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs(F,{children:[e.jsx(ie,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(oe,{className:"flex items-center gap-2",children:[e.jsx(We,{className:"h-5 w-5 text-amber-600"}),"Incident Queue"]}),u>0&&e.jsxs(ee,{className:"bg-amber-100 text-amber-800",children:[u," open"]})]})}),e.jsx(P,{children:r?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading..."}):p.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(_t,{className:"h-12 w-12 mx-auto mb-3 text-green-500"}),e.jsx("p",{className:"font-medium",children:"All caught up!"}),e.jsx("p",{className:"text-sm",children:"No open incidents at this time."})]}):e.jsxs("div",{className:"space-y-3",children:[p.slice(0,5).map(S=>e.jsxs(ce,{to:`/incidents/${S.id}`,className:z("block p-3 rounded-lg border transition-colors",S.slaBreached?"border-red-200 bg-red-50/50 hover:border-red-300":"border-gray-100 hover:border-amber-200 hover:bg-amber-50/50"),children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[S.slaBreached&&e.jsx(a5,{className:"h-4 w-4 text-red-500 flex-shrink-0"}),e.jsx("p",{className:"font-medium text-gray-900 truncate",children:S.title})]}),e.jsx("p",{className:"text-sm text-gray-500",children:S.schoolName})]}),e.jsx(ee,{className:z("flex-shrink-0 ml-2",S.severity==="critical"?"bg-red-100 text-red-800":S.severity==="high"?"bg-orange-100 text-orange-800":S.severity==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:S.severity})]}),e.jsxs("div",{className:"mt-2 flex items-center gap-4 text-xs text-gray-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(it,{className:"h-3 w-3"}),$s(new Date(S.createdAt),{addSuffix:!0})]}),e.jsx("span",{className:"capitalize",children:S.category})]})]},S.id)),p.length>5&&e.jsx(ce,{to:"/incidents",children:e.jsxs(T,{variant:"outline",className:"w-full mt-2",children:["View All Incidents (",u,")",e.jsx(Pe,{className:"h-4 w-4 ml-2"})]})})]})})]}),e.jsxs(F,{children:[e.jsx(ie,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(oe,{className:"flex items-center gap-2",children:[e.jsx(bn,{className:"h-5 w-5 text-orange-600"}),"Live Chat Queue"]}),h>0&&e.jsxs(ee,{className:"bg-orange-100 text-orange-800 animate-pulse",children:[h," waiting"]})]})}),e.jsx(P,{children:r?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading..."}):j.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(bn,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),e.jsx("p",{children:"No active chat sessions"})]}):e.jsxs("div",{className:"space-y-3",children:[j.slice(0,5).map(S=>e.jsxs(ce,{to:`/livechat/${S.id}`,className:z("block p-3 rounded-lg border transition-colors",S.status==="waiting"?"border-orange-200 bg-orange-50/50 hover:border-orange-300":"border-gray-100 hover:border-green-200 hover:bg-green-50/50"),children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:S.contactName||"Unknown Contact"}),e.jsx("p",{className:"text-sm text-gray-500",children:S.schoolName})]}),e.jsx(ee,{className:z(S.status==="waiting"?"bg-orange-100 text-orange-800":"bg-green-100 text-green-800"),children:S.status})]}),e.jsxs("div",{className:"mt-2 flex items-center gap-4 text-xs text-gray-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(it,{className:"h-3 w-3"}),C(S.waitTimeSeconds)," wait"]}),S.assignedAgentName&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Yt,{className:"h-3 w-3"}),S.assignedAgentName]}),S.queuePosition&&e.jsxs("span",{children:["Queue #",S.queuePosition]})]})]},S.id)),e.jsx(ce,{to:"/livechat",children:e.jsxs(T,{variant:"outline",className:"w-full mt-2",children:["Open Live Chat Console",e.jsx(Pe,{className:"h-4 w-4 ml-2"})]})})]})})]})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs(F,{children:[e.jsx(ie,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(oe,{className:"flex items-center gap-2",children:[e.jsx(Ge,{className:"h-5 w-5 text-blue-600"}),"Active Work Orders"]}),g>0&&e.jsxs(ee,{className:"bg-blue-100 text-blue-800",children:[g," active"]})]})}),e.jsx(P,{children:r?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading..."}):N.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(Ge,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),e.jsx("p",{children:"No active work orders"})]}):e.jsxs("div",{className:"space-y-3",children:[N.slice(0,5).map(S=>e.jsxs(ce,{to:`/work-orders/${S.id}`,className:"block p-3 rounded-lg border border-gray-100 hover:border-blue-200 hover:bg-blue-50/50 transition-colors",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:S.title}),e.jsx("p",{className:"text-sm text-gray-500",children:S.schoolName})]}),e.jsx(ee,{className:z(S.status==="in_progress"||S.status==="in_repair"?"bg-blue-100 text-blue-800":S.status==="assigned"?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"),children:S.status.replace("_"," ")})]}),e.jsxs("div",{className:"mt-2 flex items-center gap-4 text-xs text-gray-500",children:[S.taskType&&e.jsx("span",{className:"capitalize",children:S.taskType}),S.assignedTo&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Yt,{className:"h-3 w-3"}),S.assignedTo]})]})]},S.id)),N.length>5&&e.jsx(ce,{to:"/work-orders",children:e.jsxs(T,{variant:"outline",className:"w-full mt-2",children:["View All Work Orders",e.jsx(Pe,{className:"h-4 w-4 ml-2"})]})})]})})]}),e.jsxs(F,{children:[e.jsx(ie,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(oe,{className:"flex items-center gap-2",children:[e.jsx(cl,{className:"h-5 w-5 text-emerald-600"}),"Recent Activity"]}),e.jsx(ce,{to:"/audit-logs",children:e.jsxs(T,{variant:"outline",size:"sm",children:["View All",e.jsx(Pe,{className:"ml-2 h-4 w-4"})]})})]})}),e.jsx(P,{children:r?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading..."}):v.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(cl,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),e.jsx("p",{children:"No recent activity"})]}):e.jsx("div",{className:"space-y-3",children:v.slice(0,5).map(S=>e.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-lg border border-gray-100",children:[e.jsxs("div",{className:z("flex h-10 w-10 items-center justify-center rounded-full",S.entityType==="incident"?"bg-amber-100":S.entityType==="work_order"?"bg-blue-100":S.entityType==="chat_session"?"bg-orange-100":"bg-gray-100"),children:[S.entityType==="incident"&&e.jsx(We,{className:"h-5 w-5 text-amber-600"}),S.entityType==="work_order"&&e.jsx(Ge,{className:"h-5 w-5 text-blue-600"}),S.entityType==="chat_session"&&e.jsx(bn,{className:"h-5 w-5 text-orange-600"}),S.entityType==="message"&&e.jsx(Vd,{className:"h-5 w-5 text-gray-600"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-gray-900",children:S.description}),e.jsx("p",{className:"text-sm text-gray-500",children:S.actorName})]}),e.jsx("span",{className:"text-xs text-gray-400",children:$s(new Date(S.createdAt),{addSuffix:!0})})]},S.id))})})]})]})]})}function ET(){const{user:t}=Nt(),a=t?.displayName||t?.username||"Sales Rep",l={totalLeads:124,activeDeals:18,demoScheduled:7,closedThisMonth:12,pipelineValue:245e4,conversionRate:23.5},r=[{id:1,school:"Nairobi Primary School",date:"2024-01-15 10:00",stage:"Demo",contact:"John Kamau"},{id:2,school:"Mombasa Girls High",date:"2024-01-16 14:00",stage:"Follow-up",contact:"Mary Njeri"},{id:3,school:"Kisumu Academy",date:"2024-01-17 09:00",stage:"Proposal",contact:"Peter Ochieng"}],o=[{type:"demo_completed",school:"Eldoret Boys",time:"2 hours ago"},{type:"proposal_sent",school:"Nakuru Mixed",time:"4 hours ago"},{type:"deal_closed",school:"Thika Primary",time:"1 day ago"},{type:"lead_added",school:"Nyeri Girls",time:"2 days ago"}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-r from-emerald-600 via-green-600 to-teal-600 p-6 text-white shadow-lg",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/5 rounded-full -translate-y-32 translate-x-32"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-white/5 rounded-full translate-y-24 -translate-x-24"}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-white/20 backdrop-blur",children:e.jsx(Oa,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl md:text-3xl font-bold",children:["Welcome, ",a,"!"]}),e.jsx("p",{className:"text-emerald-100",children:"Sales & Marketing Dashboard"})]})]}),e.jsxs("div",{className:"mt-6 grid grid-cols-2 md:grid-cols-6 gap-4",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-xl p-3",children:[e.jsx("p",{className:"text-2xl font-bold",children:l.totalLeads}),e.jsx("p",{className:"text-emerald-200 text-sm",children:"Total Leads"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-xl p-3",children:[e.jsx("p",{className:"text-2xl font-bold",children:l.activeDeals}),e.jsx("p",{className:"text-emerald-200 text-sm",children:"Active Deals"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-xl p-3",children:[e.jsx("p",{className:"text-2xl font-bold",children:l.demoScheduled}),e.jsx("p",{className:"text-emerald-200 text-sm",children:"Demos Scheduled"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-xl p-3",children:[e.jsx("p",{className:"text-2xl font-bold",children:l.closedThisMonth}),e.jsx("p",{className:"text-emerald-200 text-sm",children:"Closed (Month)"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-xl p-3",children:[e.jsxs("p",{className:"text-2xl font-bold",children:["KES ",(l.pipelineValue/1e6).toFixed(1),"M"]}),e.jsx("p",{className:"text-emerald-200 text-sm",children:"Pipeline Value"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-xl p-3",children:[e.jsxs("p",{className:"text-2xl font-bold",children:[l.conversionRate,"%"]}),e.jsx("p",{className:"text-emerald-200 text-sm",children:"Conversion Rate"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(ce,{to:"/demo-pipeline",children:e.jsx(F,{className:"hover:shadow-md transition-shadow cursor-pointer border-violet-200 bg-violet-50",children:e.jsxs(P,{className:"p-4 flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-lg bg-violet-100 flex items-center justify-center",children:e.jsx(sa,{className:"h-5 w-5 text-violet-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-violet-900",children:"Demo Pipeline"}),e.jsx("p",{className:"text-sm text-violet-600",children:"Manage opportunities"})]}),e.jsx(Pe,{className:"h-5 w-5 text-violet-400"})]})})}),e.jsx(ce,{to:"/schools",children:e.jsx(F,{className:"hover:shadow-md transition-shadow cursor-pointer border-green-200 bg-green-50",children:e.jsxs(P,{className:"p-4 flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-lg bg-green-100 flex items-center justify-center",children:e.jsx(Ft,{className:"h-5 w-5 text-green-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-green-900",children:"Schools Directory"}),e.jsx("p",{className:"text-sm text-green-600",children:"Browse all schools"})]}),e.jsx(Pe,{className:"h-5 w-5 text-green-400"})]})})}),e.jsx(ce,{to:"/presentations",children:e.jsx(F,{className:"hover:shadow-md transition-shadow cursor-pointer border-pink-200 bg-pink-50",children:e.jsxs(P,{className:"p-4 flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-lg bg-pink-100 flex items-center justify-center",children:e.jsx(Wl,{className:"h-5 w-5 text-pink-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-pink-900",children:"Presentations"}),e.jsx("p",{className:"text-sm text-pink-600",children:"Sales materials"})]}),e.jsx(Pe,{className:"h-5 w-5 text-pink-400"})]})})}),e.jsx(ce,{to:"/reports",children:e.jsx(F,{className:"hover:shadow-md transition-shadow cursor-pointer border-teal-200 bg-teal-50",children:e.jsxs(P,{className:"p-4 flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-lg bg-teal-100 flex items-center justify-center",children:e.jsx(ai,{className:"h-5 w-5 text-teal-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-teal-900",children:"Sales Reports"}),e.jsx("p",{className:"text-sm text-teal-600",children:"View analytics"})]}),e.jsx(Pe,{className:"h-5 w-5 text-teal-400"})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(F,{children:[e.jsx(ie,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(oe,{className:"text-lg flex items-center gap-2",children:[e.jsx(Ot,{className:"h-5 w-5 text-violet-600"}),"Upcoming Demos & Meetings"]}),e.jsx(ce,{to:"/demo-pipeline",children:e.jsx(T,{variant:"ghost",size:"sm",children:"View All"})})]})}),e.jsx(P,{children:e.jsx("div",{className:"space-y-3",children:r.map(d=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-gray-50 hover:bg-gray-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-lg bg-violet-100 flex items-center justify-center",children:e.jsx(Ft,{className:"h-5 w-5 text-violet-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:d.school}),e.jsxs("p",{className:"text-sm text-gray-500",children:[d.contact,"  ",d.date]})]})]}),e.jsx(ee,{variant:"outline",className:"bg-violet-50 text-violet-700 border-violet-200",children:d.stage})]},d.id))})})]}),e.jsxs(F,{children:[e.jsx(ie,{className:"pb-3",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs(oe,{className:"text-lg flex items-center gap-2",children:[e.jsx(it,{className:"h-5 w-5 text-emerald-600"}),"Recent Activity"]})})}),e.jsx(P,{children:e.jsx("div",{className:"space-y-3",children:o.map((d,u)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-gray-50",children:[e.jsxs("div",{className:`h-8 w-8 rounded-full flex items-center justify-center ${d.type==="deal_closed"?"bg-green-100":d.type==="demo_completed"?"bg-violet-100":d.type==="proposal_sent"?"bg-blue-100":"bg-gray-100"}`,children:[d.type==="deal_closed"&&e.jsx(_t,{className:"h-4 w-4 text-green-600"}),d.type==="demo_completed"&&e.jsx(Wl,{className:"h-4 w-4 text-violet-600"}),d.type==="proposal_sent"&&e.jsx(rs,{className:"h-4 w-4 text-blue-600"}),d.type==="lead_added"&&e.jsx(Yt,{className:"h-4 w-4 text-gray-600"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"text-sm text-gray-900",children:[d.type==="deal_closed"&&"Deal closed with ",d.type==="demo_completed"&&"Demo completed at ",d.type==="proposal_sent"&&"Proposal sent to ",d.type==="lead_added"&&"New lead added: ",e.jsx("span",{className:"font-medium",children:d.school})]}),e.jsx("p",{className:"text-xs text-gray-500",children:d.time})]})]},u))})})]})]}),e.jsxs(F,{children:[e.jsx(ie,{className:"pb-3",children:e.jsxs(oe,{className:"text-lg flex items-center gap-2",children:[e.jsx(tr,{className:"h-5 w-5 text-emerald-600"}),"Pipeline by Stage"]})}),e.jsx(P,{children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[{stage:"Lead",count:45,value:"450K",color:"bg-gray-500"},{stage:"Qualified",count:28,value:"680K",color:"bg-blue-500"},{stage:"Demo",count:15,value:"520K",color:"bg-violet-500"},{stage:"Proposal",count:8,value:"480K",color:"bg-amber-500"},{stage:"Negotiation",count:4,value:"320K",color:"bg-emerald-500"}].map(d=>e.jsxs("div",{className:"text-center p-4 rounded-xl bg-gray-50",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${d.color} mx-auto mb-2`}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:d.count}),e.jsx("p",{className:"text-sm text-gray-600",children:d.stage}),e.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["KES ",d.value]})]},d.stage))})})]})]})}function OT(){const{user:t}=Nt(),a=t?.displayName||t?.username||"Demo Specialist",l={scheduledDemos:5,completedThisWeek:8,pendingSurveys:3,activeProjects:12,schoolsVisited:156,avgDemoRating:4.7},r=[{id:1,school:"Starehe Boys Centre",time:"09:00 AM",type:"Full Demo",location:"Nairobi"},{id:2,school:"Loreto Convent",time:"11:30 AM",type:"Follow-up",location:"Nairobi"},{id:3,school:"Moi Forces Academy",time:"02:00 PM",type:"Survey",location:"Nairobi"}],o=[{type:"survey",school:"Kenya High School",dueDate:"Tomorrow",priority:"high"},{type:"report",school:"Alliance Girls",dueDate:"In 2 days",priority:"medium"},{type:"boq",school:"Nairobi School",dueDate:"In 3 days",priority:"low"}],d=[{name:"Nairobi County Rollout",phase:"Survey",schools:25,progress:60},{name:"Mombasa Pilot",phase:"Installation",schools:10,progress:80},{name:"Kisumu Expansion",phase:"Planning",schools:15,progress:20}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 p-6 text-white shadow-lg",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/5 rounded-full -translate-y-32 translate-x-32"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-white/5 rounded-full translate-y-24 -translate-x-24"}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-white/20 backdrop-blur",children:e.jsx(sa,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl md:text-3xl font-bold",children:["Welcome, ",a,"!"]}),e.jsx("p",{className:"text-violet-100",children:"Demo Team Dashboard"})]})]}),e.jsxs("div",{className:"mt-6 grid grid-cols-2 md:grid-cols-6 gap-4",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-xl p-3",children:[e.jsx("p",{className:"text-2xl font-bold",children:l.scheduledDemos}),e.jsx("p",{className:"text-violet-200 text-sm",children:"Scheduled Demos"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-xl p-3",children:[e.jsx("p",{className:"text-2xl font-bold",children:l.completedThisWeek}),e.jsx("p",{className:"text-violet-200 text-sm",children:"Done This Week"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-xl p-3",children:[e.jsx("p",{className:"text-2xl font-bold",children:l.pendingSurveys}),e.jsx("p",{className:"text-violet-200 text-sm",children:"Pending Surveys"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-xl p-3",children:[e.jsx("p",{className:"text-2xl font-bold",children:l.activeProjects}),e.jsx("p",{className:"text-violet-200 text-sm",children:"Active Projects"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-xl p-3",children:[e.jsx("p",{className:"text-2xl font-bold",children:l.schoolsVisited}),e.jsx("p",{className:"text-violet-200 text-sm",children:"Schools Visited"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-xl p-3",children:[e.jsx("p",{className:"text-2xl font-bold",children:l.avgDemoRating}),e.jsx("p",{className:"text-violet-200 text-sm",children:"Avg Rating"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(ce,{to:"/demo-pipeline",children:e.jsx(F,{className:"hover:shadow-md transition-shadow cursor-pointer border-violet-200 bg-violet-50",children:e.jsxs(P,{className:"p-4 flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-lg bg-violet-100 flex items-center justify-center",children:e.jsx(sa,{className:"h-5 w-5 text-violet-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-violet-900",children:"Demo Pipeline"}),e.jsx("p",{className:"text-sm text-violet-600",children:"View schedule"})]}),e.jsx(Pe,{className:"h-5 w-5 text-violet-400"})]})})}),e.jsx(ce,{to:"/projects",children:e.jsx(F,{className:"hover:shadow-md transition-shadow cursor-pointer border-purple-200 bg-purple-50",children:e.jsxs(P,{className:"p-4 flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-lg bg-purple-100 flex items-center justify-center",children:e.jsx(Ea,{className:"h-5 w-5 text-purple-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-purple-900",children:"Projects"}),e.jsx("p",{className:"text-sm text-purple-600",children:"Manage rollouts"})]}),e.jsx(Pe,{className:"h-5 w-5 text-purple-400"})]})})}),e.jsx(ce,{to:"/schools",children:e.jsx(F,{className:"hover:shadow-md transition-shadow cursor-pointer border-green-200 bg-green-50",children:e.jsxs(P,{className:"p-4 flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-lg bg-green-100 flex items-center justify-center",children:e.jsx(Ft,{className:"h-5 w-5 text-green-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-green-900",children:"Schools"}),e.jsx("p",{className:"text-sm text-green-600",children:"School directory"})]}),e.jsx(Pe,{className:"h-5 w-5 text-green-400"})]})})}),e.jsx(ce,{to:"/messages",children:e.jsx(F,{className:"hover:shadow-md transition-shadow cursor-pointer border-blue-200 bg-blue-50",children:e.jsxs(P,{className:"p-4 flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-lg bg-blue-100 flex items-center justify-center",children:e.jsx(Yt,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-blue-900",children:"Messages"}),e.jsx("p",{className:"text-sm text-blue-600",children:"Team communication"})]}),e.jsx(Pe,{className:"h-5 w-5 text-blue-400"})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(F,{children:[e.jsx(ie,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(oe,{className:"text-lg flex items-center gap-2",children:[e.jsx(Ot,{className:"h-5 w-5 text-violet-600"}),"Today's Schedule"]}),e.jsx(ce,{to:"/demo-pipeline",children:e.jsx(T,{variant:"ghost",size:"sm",children:"View All"})})]})}),e.jsx(P,{children:e.jsx("div",{className:"space-y-3",children:r.map(u=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-gray-50 hover:bg-gray-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-lg bg-violet-100 flex items-center justify-center",children:u.type==="Survey"?e.jsx(Do,{className:"h-5 w-5 text-violet-600"}):e.jsx(_4,{className:"h-5 w-5 text-violet-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:u.school}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[e.jsx(it,{className:"h-3 w-3"}),u.time,e.jsx("span",{className:"mx-1",children:""}),e.jsx(_a,{className:"h-3 w-3"}),u.location]})]})]}),e.jsx(ee,{variant:"outline",className:"bg-violet-50 text-violet-700 border-violet-200",children:u.type})]},u.id))})})]}),e.jsxs(F,{children:[e.jsx(ie,{className:"pb-3",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs(oe,{className:"text-lg flex items-center gap-2",children:[e.jsx(Do,{className:"h-5 w-5 text-amber-600"}),"Pending Tasks"]})})}),e.jsx(P,{children:e.jsx("div",{className:"space-y-3",children:o.map((u,h)=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-gray-50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`h-2 w-2 rounded-full ${u.priority==="high"?"bg-red-500":u.priority==="medium"?"bg-amber-500":"bg-green-500"}`}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-gray-900",children:[u.type==="survey"&&"Complete survey for ",u.type==="report"&&"Submit demo report for ",u.type==="boq"&&"Review BOQ for ",e.jsx("span",{className:"font-medium",children:u.school})]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Due: ",u.dueDate]})]})]}),e.jsx(T,{variant:"outline",size:"sm",children:"Start"})]},h))})})]})]}),e.jsxs(F,{children:[e.jsx(ie,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(oe,{className:"text-lg flex items-center gap-2",children:[e.jsx(Ea,{className:"h-5 w-5 text-purple-600"}),"Active Projects"]}),e.jsx(ce,{to:"/projects",children:e.jsx(T,{variant:"ghost",size:"sm",children:"View All"})})]})}),e.jsx(P,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:d.map((u,h)=>e.jsxs("div",{className:"p-4 rounded-xl bg-gray-50 border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:u.name}),e.jsx(ee,{variant:"outline",className:"text-xs",children:u.phase})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-3",children:[e.jsx(Ft,{className:"h-4 w-4"}),u.schools," schools"]}),e.jsxs("div",{className:"relative pt-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Progress"}),e.jsxs("span",{className:"text-xs font-medium text-gray-700",children:[u.progress,"%"]})]}),e.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-violet-500 to-purple-500 rounded-full transition-all",style:{width:`${u.progress}%`}})})]})]},h))})})]})]})}function zT(){const{user:t}=Nt(),a=t?.displayName||t?.username||"Administrator",l={totalUsers:156,activeSchools:1248,totalDevices:15420,openIncidents:23,activeWorkOrders:87,pendingApprovals:12},r=[{name:"IMS API",status:"healthy",latency:"45ms",uptime:"99.9%"},{name:"SSOT School",status:"healthy",latency:"32ms",uptime:"99.8%"},{name:"SSOT Devices",status:"healthy",latency:"28ms",uptime:"99.9%"},{name:"Sync Worker",status:"healthy",latency:"120ms",uptime:"99.7%"},{name:"PostgreSQL",status:"healthy",latency:"12ms",uptime:"100%"},{name:"Redis",status:"healthy",latency:"3ms",uptime:"100%"}],o=[{user:"John Kamau",action:"Created work order",target:"WO-2024-001234",time:"5 min ago"},{user:"Mary Wanjiku",action:"Resolved incident",target:"INC-2024-000891",time:"12 min ago"},{user:"System",action:"SSOT sync completed",target:"1,248 schools",time:"30 min ago"},{user:"Peter Ochieng",action:"Updated device status",target:"15 devices",time:"1 hour ago"}],d=[{label:"Today's Incidents",value:8,change:-15,color:"text-amber-600",bgColor:"bg-amber-100"},{label:"Today's Work Orders",value:24,change:12,color:"text-blue-600",bgColor:"bg-blue-100"},{label:"Resolved Today",value:31,change:8,color:"text-green-600",bgColor:"bg-green-100"},{label:"SLA Breaches",value:2,change:-50,color:"text-red-600",bgColor:"bg-red-100"}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-r from-slate-700 via-slate-800 to-slate-900 p-6 text-white shadow-lg",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/5 rounded-full -translate-y-32 translate-x-32"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-white/5 rounded-full translate-y-24 -translate-x-24"}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-white/20 backdrop-blur",children:e.jsx(pa,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl md:text-3xl font-bold",children:["Welcome, ",a,"!"]}),e.jsx("p",{className:"text-slate-300",children:"System Administrator Dashboard"})]})]}),e.jsxs("div",{className:"mt-6 grid grid-cols-2 md:grid-cols-6 gap-4",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-xl p-3",children:[e.jsx("p",{className:"text-2xl font-bold",children:l.totalUsers}),e.jsx("p",{className:"text-slate-300 text-sm",children:"Total Users"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-xl p-3",children:[e.jsx("p",{className:"text-2xl font-bold",children:l.activeSchools.toLocaleString()}),e.jsx("p",{className:"text-slate-300 text-sm",children:"Active Schools"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-xl p-3",children:[e.jsxs("p",{className:"text-2xl font-bold",children:[(l.totalDevices/1e3).toFixed(1),"K"]}),e.jsx("p",{className:"text-slate-300 text-sm",children:"Total Devices"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-xl p-3",children:[e.jsx("p",{className:"text-2xl font-bold",children:l.openIncidents}),e.jsx("p",{className:"text-slate-300 text-sm",children:"Open Incidents"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-xl p-3",children:[e.jsx("p",{className:"text-2xl font-bold",children:l.activeWorkOrders}),e.jsx("p",{className:"text-slate-300 text-sm",children:"Work Orders"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-xl p-3",children:[e.jsx("p",{className:"text-2xl font-bold",children:l.pendingApprovals}),e.jsx("p",{className:"text-slate-300 text-sm",children:"Pending Approvals"})]})]})]})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:d.map(u=>e.jsx(F,{children:e.jsx(P,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:u.label}),e.jsx("p",{className:`text-2xl font-bold ${u.color}`,children:u.value})]}),e.jsxs("div",{className:`flex items-center gap-1 text-sm ${u.change>=0?"text-green-600":"text-red-600"}`,children:[e.jsx(Oa,{className:`h-4 w-4 ${u.change<0?"rotate-180":""}`}),Math.abs(u.change),"%"]})]})})},u.label))}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4",children:[e.jsx(ce,{to:"/incidents",children:e.jsx(F,{className:"hover:shadow-md transition-shadow cursor-pointer border-amber-200 bg-amber-50",children:e.jsxs(P,{className:"p-4 flex flex-col items-center gap-2 text-center",children:[e.jsx(We,{className:"h-6 w-6 text-amber-600"}),e.jsx("p",{className:"font-medium text-amber-900 text-sm",children:"Incidents"})]})})}),e.jsx(ce,{to:"/work-orders",children:e.jsx(F,{className:"hover:shadow-md transition-shadow cursor-pointer border-blue-200 bg-blue-50",children:e.jsxs(P,{className:"p-4 flex flex-col items-center gap-2 text-center",children:[e.jsx(Ge,{className:"h-6 w-6 text-blue-600"}),e.jsx("p",{className:"font-medium text-blue-900 text-sm",children:"Work Orders"})]})})}),e.jsx(ce,{to:"/schools",children:e.jsx(F,{className:"hover:shadow-md transition-shadow cursor-pointer border-green-200 bg-green-50",children:e.jsxs(P,{className:"p-4 flex flex-col items-center gap-2 text-center",children:[e.jsx(Ft,{className:"h-6 w-6 text-green-600"}),e.jsx("p",{className:"font-medium text-green-900 text-sm",children:"Schools"})]})})}),e.jsx(ce,{to:"/reports",children:e.jsx(F,{className:"hover:shadow-md transition-shadow cursor-pointer border-teal-200 bg-teal-50",children:e.jsxs(P,{className:"p-4 flex flex-col items-center gap-2 text-center",children:[e.jsx(ai,{className:"h-6 w-6 text-teal-600"}),e.jsx("p",{className:"font-medium text-teal-900 text-sm",children:"Reports"})]})})}),e.jsx(ce,{to:"/audit-logs",children:e.jsx(F,{className:"hover:shadow-md transition-shadow cursor-pointer border-slate-200 bg-slate-50",children:e.jsxs(P,{className:"p-4 flex flex-col items-center gap-2 text-center",children:[e.jsx(rs,{className:"h-6 w-6 text-slate-600"}),e.jsx("p",{className:"font-medium text-slate-900 text-sm",children:"Audit Logs"})]})})}),e.jsx(ce,{to:"/settings",children:e.jsx(F,{className:"hover:shadow-md transition-shadow cursor-pointer border-gray-200 bg-gray-50",children:e.jsxs(P,{className:"p-4 flex flex-col items-center gap-2 text-center",children:[e.jsx(rl,{className:"h-6 w-6 text-gray-600"}),e.jsx("p",{className:"font-medium text-gray-900 text-sm",children:"Settings"})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(F,{children:[e.jsx(ie,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(oe,{className:"text-lg flex items-center gap-2",children:[e.jsx(Vj,{className:"h-5 w-5 text-slate-600"}),"Service Health"]}),e.jsx(ce,{to:"/ssot-sync",children:e.jsxs(T,{variant:"ghost",size:"sm",children:[e.jsx(ls,{className:"h-4 w-4 mr-1"}),"Sync Status"]})})]})}),e.jsx(P,{children:e.jsx("div",{className:"space-y-2",children:r.map(u=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-gray-50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[u.status==="healthy"?e.jsx(_t,{className:"h-5 w-5 text-green-500"}):e.jsx(Uo,{className:"h-5 w-5 text-red-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:u.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:[u.latency," latency"]})]})]}),e.jsx("div",{className:"text-right",children:e.jsxs(ee,{variant:"outline",className:`${u.status==="healthy"?"bg-green-50 text-green-700 border-green-200":"bg-red-50 text-red-700 border-red-200"}`,children:[u.uptime," uptime"]})})]},u.name))})})]}),e.jsxs(F,{children:[e.jsx(ie,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(oe,{className:"text-lg flex items-center gap-2",children:[e.jsx(cl,{className:"h-5 w-5 text-slate-600"}),"Recent Activity"]}),e.jsx(ce,{to:"/audit-logs",children:e.jsx(T,{variant:"ghost",size:"sm",children:"View All"})})]})}),e.jsx(P,{children:e.jsx("div",{className:"space-y-3",children:o.map((u,h)=>e.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-gray-50",children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-slate-200 flex items-center justify-center flex-shrink-0",children:e.jsx(Yt,{className:"h-4 w-4 text-slate-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("p",{className:"text-sm text-gray-900",children:[e.jsx("span",{className:"font-medium",children:u.user})," ",u.action]}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:u.target})]}),e.jsx("span",{className:"text-xs text-gray-400 flex-shrink-0",children:u.time})]},h))})})]})]}),e.jsxs(F,{children:[e.jsx(ie,{className:"pb-3",children:e.jsxs(oe,{className:"text-lg flex items-center gap-2",children:[e.jsx(Eo,{className:"h-5 w-5 text-slate-600"}),"System Metrics Overview"]})}),e.jsx(P,{children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[{label:"API Requests (24h)",value:"125.4K",trend:"+5%"},{label:"Avg Response Time",value:"45ms",trend:"-12%"},{label:"Error Rate",value:"0.02%",trend:"-8%"},{label:"Active Sessions",value:"234",trend:"+15%"},{label:"DB Connections",value:"45/100",trend:"0%"}].map(u=>e.jsxs("div",{className:"text-center p-4 rounded-xl bg-gray-50",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:u.value}),e.jsx("p",{className:"text-sm text-gray-600",children:u.label}),e.jsx("p",{className:`text-xs mt-1 ${u.trend.startsWith("+")?"text-green-600":u.trend.startsWith("-")?"text-red-600":"text-gray-400"}`,children:u.trend})]},u.label))})})]})]})}function Nx({children:t,permissions:a,roles:l,requireAll:r=!1,fallback:o=null}){const{hasPermission:d,hasRole:u}=Nt();if(u("ssp_admin"))return e.jsx(e.Fragment,{children:t});if(!a?.length&&!l?.length)return e.jsx(e.Fragment,{children:t});const h=r?(y,p)=>y.every(p):(y,p)=>y.some(p),x=!a?.length||h(a,d),g=!l?.length||h(l,u);return x&&g?e.jsx(e.Fragment,{children:t}):e.jsx(e.Fragment,{children:o})}function LT(){const{hasRole:t}=Nt();return t("ssp_admin")?e.jsx(zT,{}):t("ssp_school_contact")?e.jsx(NT,{}):t("ssp_field_tech")?e.jsx(CT,{}):t("ssp_lead_tech")?e.jsx(MT,{}):t("ssp_warehouse_manager")?e.jsx(TT,{}):t("ssp_support_agent")?e.jsx(DT,{}):t("ssp_sales_marketing")?e.jsx(ET,{}):t("ssp_demo_team")?e.jsx(OT,{}):e.jsxs("div",{className:"space-y-6",children:[e.jsx(h_,{}),e.jsx(x_,{}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsx(y_,{}),e.jsx(b_,{})]}),e.jsx(Nx,{roles:["ssp_admin","ssp_lead_tech","ssp_support_agent"],children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"System Metrics"}),e.jsx(r_,{})]})}),e.jsx(Nx,{roles:["ssp_admin"],children:e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsx(n_,{}),e.jsx(c_,{})]})})]})}function nl(t,a){return typeof t=="function"?t(a):t}function aa(t,a){return l=>{a.setState(r=>({...r,[t]:nl(l,r[t])}))}}function fu(t){return t instanceof Function}function qT(t){return Array.isArray(t)&&t.every(a=>typeof a=="number")}function FT(t,a){const l=[],r=o=>{o.forEach(d=>{l.push(d);const u=a(d);u!=null&&u.length&&r(u)})};return r(t),l}function ke(t,a,l){let r=[],o;return d=>{let u;l.key&&l.debug&&(u=Date.now());const h=t(d);if(!(h.length!==r.length||h.some((y,p)=>r[p]!==y)))return o;r=h;let g;if(l.key&&l.debug&&(g=Date.now()),o=a(...h),l==null||l.onChange==null||l.onChange(o),l.key&&l.debug&&l!=null&&l.debug()){const y=Math.round((Date.now()-u)*100)/100,p=Math.round((Date.now()-g)*100)/100,j=p/16,N=(v,C)=>{for(v=String(v);v.length<C;)v=" "+v;return v};console.info(`%c ${N(p,5)} /${N(y,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*j,120))}deg 100% 31%);`,l?.key)}return o}}function Ae(t,a,l,r){return{debug:()=>{var o;return(o=t?.debugAll)!=null?o:t[a]},key:!1,onChange:r}}function PT(t,a,l,r){const o=()=>{var u;return(u=d.getValue())!=null?u:t.options.renderFallbackValue},d={id:`${a.id}_${l.id}`,row:a,column:l,getValue:()=>a.getValue(r),renderValue:o,getContext:ke(()=>[t,l,a,d],(u,h,x,g)=>({table:u,column:h,row:x,cell:g,getValue:g.getValue,renderValue:g.renderValue}),Ae(t.options,"debugCells"))};return t._features.forEach(u=>{u.createCell==null||u.createCell(d,l,a,t)},{}),d}function UT(t,a,l,r){var o,d;const h={...t._getDefaultColumnDef(),...a},x=h.accessorKey;let g=(o=(d=h.id)!=null?d:x?typeof String.prototype.replaceAll=="function"?x.replaceAll(".","_"):x.replace(/\./g,"_"):void 0)!=null?o:typeof h.header=="string"?h.header:void 0,y;if(h.accessorFn?y=h.accessorFn:x&&(x.includes(".")?y=j=>{let N=j;for(const C of x.split(".")){var v;N=(v=N)==null?void 0:v[C]}return N}:y=j=>j[h.accessorKey]),!g)throw new Error;let p={id:`${String(g)}`,accessorFn:y,parent:r,depth:l,columnDef:h,columns:[],getFlatColumns:ke(()=>[!0],()=>{var j;return[p,...(j=p.columns)==null?void 0:j.flatMap(N=>N.getFlatColumns())]},Ae(t.options,"debugColumns")),getLeafColumns:ke(()=>[t._getOrderColumnsFn()],j=>{var N;if((N=p.columns)!=null&&N.length){let v=p.columns.flatMap(C=>C.getLeafColumns());return j(v)}return[p]},Ae(t.options,"debugColumns"))};for(const j of t._features)j.createColumn==null||j.createColumn(p,t);return p}const vs="debugHeaders";function _v(t,a,l){var r;let d={id:(r=l.id)!=null?r:a.id,column:a,index:l.index,isPlaceholder:!!l.isPlaceholder,placeholderId:l.placeholderId,depth:l.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const u=[],h=x=>{x.subHeaders&&x.subHeaders.length&&x.subHeaders.map(h),u.push(x)};return h(d),u},getContext:()=>({table:t,header:d,column:a})};return t._features.forEach(u=>{u.createHeader==null||u.createHeader(d,t)}),d}const IT={createTable:t=>{t.getHeaderGroups=ke(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(a,l,r,o)=>{var d,u;const h=(d=r?.map(p=>l.find(j=>j.id===p)).filter(Boolean))!=null?d:[],x=(u=o?.map(p=>l.find(j=>j.id===p)).filter(Boolean))!=null?u:[],g=l.filter(p=>!(r!=null&&r.includes(p.id))&&!(o!=null&&o.includes(p.id)));return bd(a,[...h,...g,...x],t)},Ae(t.options,vs)),t.getCenterHeaderGroups=ke(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(a,l,r,o)=>(l=l.filter(d=>!(r!=null&&r.includes(d.id))&&!(o!=null&&o.includes(d.id))),bd(a,l,t,"center")),Ae(t.options,vs)),t.getLeftHeaderGroups=ke(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left],(a,l,r)=>{var o;const d=(o=r?.map(u=>l.find(h=>h.id===u)).filter(Boolean))!=null?o:[];return bd(a,d,t,"left")},Ae(t.options,vs)),t.getRightHeaderGroups=ke(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.right],(a,l,r)=>{var o;const d=(o=r?.map(u=>l.find(h=>h.id===u)).filter(Boolean))!=null?o:[];return bd(a,d,t,"right")},Ae(t.options,vs)),t.getFooterGroups=ke(()=>[t.getHeaderGroups()],a=>[...a].reverse(),Ae(t.options,vs)),t.getLeftFooterGroups=ke(()=>[t.getLeftHeaderGroups()],a=>[...a].reverse(),Ae(t.options,vs)),t.getCenterFooterGroups=ke(()=>[t.getCenterHeaderGroups()],a=>[...a].reverse(),Ae(t.options,vs)),t.getRightFooterGroups=ke(()=>[t.getRightHeaderGroups()],a=>[...a].reverse(),Ae(t.options,vs)),t.getFlatHeaders=ke(()=>[t.getHeaderGroups()],a=>a.map(l=>l.headers).flat(),Ae(t.options,vs)),t.getLeftFlatHeaders=ke(()=>[t.getLeftHeaderGroups()],a=>a.map(l=>l.headers).flat(),Ae(t.options,vs)),t.getCenterFlatHeaders=ke(()=>[t.getCenterHeaderGroups()],a=>a.map(l=>l.headers).flat(),Ae(t.options,vs)),t.getRightFlatHeaders=ke(()=>[t.getRightHeaderGroups()],a=>a.map(l=>l.headers).flat(),Ae(t.options,vs)),t.getCenterLeafHeaders=ke(()=>[t.getCenterFlatHeaders()],a=>a.filter(l=>{var r;return!((r=l.subHeaders)!=null&&r.length)}),Ae(t.options,vs)),t.getLeftLeafHeaders=ke(()=>[t.getLeftFlatHeaders()],a=>a.filter(l=>{var r;return!((r=l.subHeaders)!=null&&r.length)}),Ae(t.options,vs)),t.getRightLeafHeaders=ke(()=>[t.getRightFlatHeaders()],a=>a.filter(l=>{var r;return!((r=l.subHeaders)!=null&&r.length)}),Ae(t.options,vs)),t.getLeafHeaders=ke(()=>[t.getLeftHeaderGroups(),t.getCenterHeaderGroups(),t.getRightHeaderGroups()],(a,l,r)=>{var o,d,u,h,x,g;return[...(o=(d=a[0])==null?void 0:d.headers)!=null?o:[],...(u=(h=l[0])==null?void 0:h.headers)!=null?u:[],...(x=(g=r[0])==null?void 0:g.headers)!=null?x:[]].map(y=>y.getLeafHeaders()).flat()},Ae(t.options,vs))}};function bd(t,a,l,r){var o,d;let u=0;const h=function(j,N){N===void 0&&(N=1),u=Math.max(u,N),j.filter(v=>v.getIsVisible()).forEach(v=>{var C;(C=v.columns)!=null&&C.length&&h(v.columns,N+1)},0)};h(t);let x=[];const g=(j,N)=>{const v={depth:N,id:[r,`${N}`].filter(Boolean).join("_"),headers:[]},C=[];j.forEach(S=>{const _=[...C].reverse()[0],E=S.column.depth===v.depth;let A,M=!1;if(E&&S.column.parent?A=S.column.parent:(A=S.column,M=!0),_&&_?.column===A)_.subHeaders.push(S);else{const H=_v(l,A,{id:[r,N,A.id,S?.id].filter(Boolean).join("_"),isPlaceholder:M,placeholderId:M?`${C.filter(I=>I.column===A).length}`:void 0,depth:N,index:C.length});H.subHeaders.push(S),C.push(H)}v.headers.push(S),S.headerGroup=v}),x.push(v),N>0&&g(C,N-1)},y=a.map((j,N)=>_v(l,j,{depth:u,index:N}));g(y,u-1),x.reverse();const p=j=>j.filter(v=>v.column.getIsVisible()).map(v=>{let C=0,S=0,_=[0];v.subHeaders&&v.subHeaders.length?(_=[],p(v.subHeaders).forEach(A=>{let{colSpan:M,rowSpan:H}=A;C+=M,_.push(H)})):C=1;const E=Math.min(..._);return S=S+E,v.colSpan=C,v.rowSpan=S,{colSpan:C,rowSpan:S}});return p((o=(d=x[0])==null?void 0:d.headers)!=null?o:[]),x}const xf=(t,a,l,r,o,d,u)=>{let h={id:a,index:r,original:l,depth:o,parentId:u,_valuesCache:{},_uniqueValuesCache:{},getValue:x=>{if(h._valuesCache.hasOwnProperty(x))return h._valuesCache[x];const g=t.getColumn(x);if(g!=null&&g.accessorFn)return h._valuesCache[x]=g.accessorFn(h.original,r),h._valuesCache[x]},getUniqueValues:x=>{if(h._uniqueValuesCache.hasOwnProperty(x))return h._uniqueValuesCache[x];const g=t.getColumn(x);if(g!=null&&g.accessorFn)return g.columnDef.getUniqueValues?(h._uniqueValuesCache[x]=g.columnDef.getUniqueValues(h.original,r),h._uniqueValuesCache[x]):(h._uniqueValuesCache[x]=[h.getValue(x)],h._uniqueValuesCache[x])},renderValue:x=>{var g;return(g=h.getValue(x))!=null?g:t.options.renderFallbackValue},subRows:[],getLeafRows:()=>FT(h.subRows,x=>x.subRows),getParentRow:()=>h.parentId?t.getRow(h.parentId,!0):void 0,getParentRows:()=>{let x=[],g=h;for(;;){const y=g.getParentRow();if(!y)break;x.push(y),g=y}return x.reverse()},getAllCells:ke(()=>[t.getAllLeafColumns()],x=>x.map(g=>PT(t,h,g,g.id)),Ae(t.options,"debugRows")),_getAllCellsByColumnId:ke(()=>[h.getAllCells()],x=>x.reduce((g,y)=>(g[y.column.id]=y,g),{}),Ae(t.options,"debugRows"))};for(let x=0;x<t._features.length;x++){const g=t._features[x];g==null||g.createRow==null||g.createRow(h,t)}return h},VT={createColumn:(t,a)=>{t._getFacetedRowModel=a.options.getFacetedRowModel&&a.options.getFacetedRowModel(a,t.id),t.getFacetedRowModel=()=>t._getFacetedRowModel?t._getFacetedRowModel():a.getPreFilteredRowModel(),t._getFacetedUniqueValues=a.options.getFacetedUniqueValues&&a.options.getFacetedUniqueValues(a,t.id),t.getFacetedUniqueValues=()=>t._getFacetedUniqueValues?t._getFacetedUniqueValues():new Map,t._getFacetedMinMaxValues=a.options.getFacetedMinMaxValues&&a.options.getFacetedMinMaxValues(a,t.id),t.getFacetedMinMaxValues=()=>{if(t._getFacetedMinMaxValues)return t._getFacetedMinMaxValues()}}},Zb=(t,a,l)=>{var r,o;const d=l==null||(r=l.toString())==null?void 0:r.toLowerCase();return!!(!((o=t.getValue(a))==null||(o=o.toString())==null||(o=o.toLowerCase())==null)&&o.includes(d))};Zb.autoRemove=t=>Ra(t);const Jb=(t,a,l)=>{var r;return!!(!((r=t.getValue(a))==null||(r=r.toString())==null)&&r.includes(l))};Jb.autoRemove=t=>Ra(t);const eN=(t,a,l)=>{var r;return((r=t.getValue(a))==null||(r=r.toString())==null?void 0:r.toLowerCase())===l?.toLowerCase()};eN.autoRemove=t=>Ra(t);const tN=(t,a,l)=>{var r;return(r=t.getValue(a))==null?void 0:r.includes(l)};tN.autoRemove=t=>Ra(t);const sN=(t,a,l)=>!l.some(r=>{var o;return!((o=t.getValue(a))!=null&&o.includes(r))});sN.autoRemove=t=>Ra(t)||!(t!=null&&t.length);const aN=(t,a,l)=>l.some(r=>{var o;return(o=t.getValue(a))==null?void 0:o.includes(r)});aN.autoRemove=t=>Ra(t)||!(t!=null&&t.length);const nN=(t,a,l)=>t.getValue(a)===l;nN.autoRemove=t=>Ra(t);const lN=(t,a,l)=>t.getValue(a)==l;lN.autoRemove=t=>Ra(t);const ff=(t,a,l)=>{let[r,o]=l;const d=t.getValue(a);return d>=r&&d<=o};ff.resolveFilterValue=t=>{let[a,l]=t,r=typeof a!="number"?parseFloat(a):a,o=typeof l!="number"?parseFloat(l):l,d=a===null||Number.isNaN(r)?-1/0:r,u=l===null||Number.isNaN(o)?1/0:o;if(d>u){const h=d;d=u,u=h}return[d,u]};ff.autoRemove=t=>Ra(t)||Ra(t[0])&&Ra(t[1]);const jn={includesString:Zb,includesStringSensitive:Jb,equalsString:eN,arrIncludes:tN,arrIncludesAll:sN,arrIncludesSome:aN,equals:nN,weakEquals:lN,inNumberRange:ff};function Ra(t){return t==null||t===""}const HT={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:t=>({columnFilters:[],...t}),getDefaultOptions:t=>({onColumnFiltersChange:aa("columnFilters",t),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(t,a)=>{t.getAutoFilterFn=()=>{const l=a.getCoreRowModel().flatRows[0],r=l?.getValue(t.id);return typeof r=="string"?jn.includesString:typeof r=="number"?jn.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?jn.equals:Array.isArray(r)?jn.arrIncludes:jn.weakEquals},t.getFilterFn=()=>{var l,r;return fu(t.columnDef.filterFn)?t.columnDef.filterFn:t.columnDef.filterFn==="auto"?t.getAutoFilterFn():(l=(r=a.options.filterFns)==null?void 0:r[t.columnDef.filterFn])!=null?l:jn[t.columnDef.filterFn]},t.getCanFilter=()=>{var l,r,o;return((l=t.columnDef.enableColumnFilter)!=null?l:!0)&&((r=a.options.enableColumnFilters)!=null?r:!0)&&((o=a.options.enableFilters)!=null?o:!0)&&!!t.accessorFn},t.getIsFiltered=()=>t.getFilterIndex()>-1,t.getFilterValue=()=>{var l;return(l=a.getState().columnFilters)==null||(l=l.find(r=>r.id===t.id))==null?void 0:l.value},t.getFilterIndex=()=>{var l,r;return(l=(r=a.getState().columnFilters)==null?void 0:r.findIndex(o=>o.id===t.id))!=null?l:-1},t.setFilterValue=l=>{a.setColumnFilters(r=>{const o=t.getFilterFn(),d=r?.find(y=>y.id===t.id),u=nl(l,d?d.value:void 0);if(Tv(o,u,t)){var h;return(h=r?.filter(y=>y.id!==t.id))!=null?h:[]}const x={id:t.id,value:u};if(d){var g;return(g=r?.map(y=>y.id===t.id?x:y))!=null?g:[]}return r!=null&&r.length?[...r,x]:[x]})}},createRow:(t,a)=>{t.columnFilters={},t.columnFiltersMeta={}},createTable:t=>{t.setColumnFilters=a=>{const l=t.getAllLeafColumns(),r=o=>{var d;return(d=nl(a,o))==null?void 0:d.filter(u=>{const h=l.find(x=>x.id===u.id);if(h){const x=h.getFilterFn();if(Tv(x,u.value,h))return!1}return!0})};t.options.onColumnFiltersChange==null||t.options.onColumnFiltersChange(r)},t.resetColumnFilters=a=>{var l,r;t.setColumnFilters(a?[]:(l=(r=t.initialState)==null?void 0:r.columnFilters)!=null?l:[])},t.getPreFilteredRowModel=()=>t.getCoreRowModel(),t.getFilteredRowModel=()=>(!t._getFilteredRowModel&&t.options.getFilteredRowModel&&(t._getFilteredRowModel=t.options.getFilteredRowModel(t)),t.options.manualFiltering||!t._getFilteredRowModel?t.getPreFilteredRowModel():t._getFilteredRowModel())}};function Tv(t,a,l){return(t&&t.autoRemove?t.autoRemove(a,l):!1)||typeof a>"u"||typeof a=="string"&&!a}const BT=(t,a,l)=>l.reduce((r,o)=>{const d=o.getValue(t);return r+(typeof d=="number"?d:0)},0),$T=(t,a,l)=>{let r;return l.forEach(o=>{const d=o.getValue(t);d!=null&&(r>d||r===void 0&&d>=d)&&(r=d)}),r},KT=(t,a,l)=>{let r;return l.forEach(o=>{const d=o.getValue(t);d!=null&&(r<d||r===void 0&&d>=d)&&(r=d)}),r},QT=(t,a,l)=>{let r,o;return l.forEach(d=>{const u=d.getValue(t);u!=null&&(r===void 0?u>=u&&(r=o=u):(r>u&&(r=u),o<u&&(o=u)))}),[r,o]},GT=(t,a)=>{let l=0,r=0;if(a.forEach(o=>{let d=o.getValue(t);d!=null&&(d=+d)>=d&&(++l,r+=d)}),l)return r/l},YT=(t,a)=>{if(!a.length)return;const l=a.map(d=>d.getValue(t));if(!qT(l))return;if(l.length===1)return l[0];const r=Math.floor(l.length/2),o=l.sort((d,u)=>d-u);return l.length%2!==0?o[r]:(o[r-1]+o[r])/2},XT=(t,a)=>Array.from(new Set(a.map(l=>l.getValue(t))).values()),WT=(t,a)=>new Set(a.map(l=>l.getValue(t))).size,ZT=(t,a)=>a.length,Yh={sum:BT,min:$T,max:KT,extent:QT,mean:GT,median:YT,unique:XT,uniqueCount:WT,count:ZT},JT={getDefaultColumnDef:()=>({aggregatedCell:t=>{var a,l;return(a=(l=t.getValue())==null||l.toString==null?void 0:l.toString())!=null?a:null},aggregationFn:"auto"}),getInitialState:t=>({grouping:[],...t}),getDefaultOptions:t=>({onGroupingChange:aa("grouping",t),groupedColumnMode:"reorder"}),createColumn:(t,a)=>{t.toggleGrouping=()=>{a.setGrouping(l=>l!=null&&l.includes(t.id)?l.filter(r=>r!==t.id):[...l??[],t.id])},t.getCanGroup=()=>{var l,r;return((l=t.columnDef.enableGrouping)!=null?l:!0)&&((r=a.options.enableGrouping)!=null?r:!0)&&(!!t.accessorFn||!!t.columnDef.getGroupingValue)},t.getIsGrouped=()=>{var l;return(l=a.getState().grouping)==null?void 0:l.includes(t.id)},t.getGroupedIndex=()=>{var l;return(l=a.getState().grouping)==null?void 0:l.indexOf(t.id)},t.getToggleGroupingHandler=()=>{const l=t.getCanGroup();return()=>{l&&t.toggleGrouping()}},t.getAutoAggregationFn=()=>{const l=a.getCoreRowModel().flatRows[0],r=l?.getValue(t.id);if(typeof r=="number")return Yh.sum;if(Object.prototype.toString.call(r)==="[object Date]")return Yh.extent},t.getAggregationFn=()=>{var l,r;if(!t)throw new Error;return fu(t.columnDef.aggregationFn)?t.columnDef.aggregationFn:t.columnDef.aggregationFn==="auto"?t.getAutoAggregationFn():(l=(r=a.options.aggregationFns)==null?void 0:r[t.columnDef.aggregationFn])!=null?l:Yh[t.columnDef.aggregationFn]}},createTable:t=>{t.setGrouping=a=>t.options.onGroupingChange==null?void 0:t.options.onGroupingChange(a),t.resetGrouping=a=>{var l,r;t.setGrouping(a?[]:(l=(r=t.initialState)==null?void 0:r.grouping)!=null?l:[])},t.getPreGroupedRowModel=()=>t.getFilteredRowModel(),t.getGroupedRowModel=()=>(!t._getGroupedRowModel&&t.options.getGroupedRowModel&&(t._getGroupedRowModel=t.options.getGroupedRowModel(t)),t.options.manualGrouping||!t._getGroupedRowModel?t.getPreGroupedRowModel():t._getGroupedRowModel())},createRow:(t,a)=>{t.getIsGrouped=()=>!!t.groupingColumnId,t.getGroupingValue=l=>{if(t._groupingValuesCache.hasOwnProperty(l))return t._groupingValuesCache[l];const r=a.getColumn(l);return r!=null&&r.columnDef.getGroupingValue?(t._groupingValuesCache[l]=r.columnDef.getGroupingValue(t.original),t._groupingValuesCache[l]):t.getValue(l)},t._groupingValuesCache={}},createCell:(t,a,l,r)=>{t.getIsGrouped=()=>a.getIsGrouped()&&a.id===l.groupingColumnId,t.getIsPlaceholder=()=>!t.getIsGrouped()&&a.getIsGrouped(),t.getIsAggregated=()=>{var o;return!t.getIsGrouped()&&!t.getIsPlaceholder()&&!!((o=l.subRows)!=null&&o.length)}}};function eR(t,a,l){if(!(a!=null&&a.length)||!l)return t;const r=t.filter(d=>!a.includes(d.id));return l==="remove"?r:[...a.map(d=>t.find(u=>u.id===d)).filter(Boolean),...r]}const tR={getInitialState:t=>({columnOrder:[],...t}),getDefaultOptions:t=>({onColumnOrderChange:aa("columnOrder",t)}),createColumn:(t,a)=>{t.getIndex=ke(l=>[Mo(a,l)],l=>l.findIndex(r=>r.id===t.id),Ae(a.options,"debugColumns")),t.getIsFirstColumn=l=>{var r;return((r=Mo(a,l)[0])==null?void 0:r.id)===t.id},t.getIsLastColumn=l=>{var r;const o=Mo(a,l);return((r=o[o.length-1])==null?void 0:r.id)===t.id}},createTable:t=>{t.setColumnOrder=a=>t.options.onColumnOrderChange==null?void 0:t.options.onColumnOrderChange(a),t.resetColumnOrder=a=>{var l;t.setColumnOrder(a?[]:(l=t.initialState.columnOrder)!=null?l:[])},t._getOrderColumnsFn=ke(()=>[t.getState().columnOrder,t.getState().grouping,t.options.groupedColumnMode],(a,l,r)=>o=>{let d=[];if(!(a!=null&&a.length))d=o;else{const u=[...a],h=[...o];for(;h.length&&u.length;){const x=u.shift(),g=h.findIndex(y=>y.id===x);g>-1&&d.push(h.splice(g,1)[0])}d=[...d,...h]}return eR(d,l,r)},Ae(t.options,"debugTable"))}},Xh=()=>({left:[],right:[]}),sR={getInitialState:t=>({columnPinning:Xh(),...t}),getDefaultOptions:t=>({onColumnPinningChange:aa("columnPinning",t)}),createColumn:(t,a)=>{t.pin=l=>{const r=t.getLeafColumns().map(o=>o.id).filter(Boolean);a.setColumnPinning(o=>{var d,u;if(l==="right"){var h,x;return{left:((h=o?.left)!=null?h:[]).filter(p=>!(r!=null&&r.includes(p))),right:[...((x=o?.right)!=null?x:[]).filter(p=>!(r!=null&&r.includes(p))),...r]}}if(l==="left"){var g,y;return{left:[...((g=o?.left)!=null?g:[]).filter(p=>!(r!=null&&r.includes(p))),...r],right:((y=o?.right)!=null?y:[]).filter(p=>!(r!=null&&r.includes(p)))}}return{left:((d=o?.left)!=null?d:[]).filter(p=>!(r!=null&&r.includes(p))),right:((u=o?.right)!=null?u:[]).filter(p=>!(r!=null&&r.includes(p)))}})},t.getCanPin=()=>t.getLeafColumns().some(r=>{var o,d,u;return((o=r.columnDef.enablePinning)!=null?o:!0)&&((d=(u=a.options.enableColumnPinning)!=null?u:a.options.enablePinning)!=null?d:!0)}),t.getIsPinned=()=>{const l=t.getLeafColumns().map(h=>h.id),{left:r,right:o}=a.getState().columnPinning,d=l.some(h=>r?.includes(h)),u=l.some(h=>o?.includes(h));return d?"left":u?"right":!1},t.getPinnedIndex=()=>{var l,r;const o=t.getIsPinned();return o?(l=(r=a.getState().columnPinning)==null||(r=r[o])==null?void 0:r.indexOf(t.id))!=null?l:-1:0}},createRow:(t,a)=>{t.getCenterVisibleCells=ke(()=>[t._getAllVisibleCells(),a.getState().columnPinning.left,a.getState().columnPinning.right],(l,r,o)=>{const d=[...r??[],...o??[]];return l.filter(u=>!d.includes(u.column.id))},Ae(a.options,"debugRows")),t.getLeftVisibleCells=ke(()=>[t._getAllVisibleCells(),a.getState().columnPinning.left],(l,r)=>(r??[]).map(d=>l.find(u=>u.column.id===d)).filter(Boolean).map(d=>({...d,position:"left"})),Ae(a.options,"debugRows")),t.getRightVisibleCells=ke(()=>[t._getAllVisibleCells(),a.getState().columnPinning.right],(l,r)=>(r??[]).map(d=>l.find(u=>u.column.id===d)).filter(Boolean).map(d=>({...d,position:"right"})),Ae(a.options,"debugRows"))},createTable:t=>{t.setColumnPinning=a=>t.options.onColumnPinningChange==null?void 0:t.options.onColumnPinningChange(a),t.resetColumnPinning=a=>{var l,r;return t.setColumnPinning(a?Xh():(l=(r=t.initialState)==null?void 0:r.columnPinning)!=null?l:Xh())},t.getIsSomeColumnsPinned=a=>{var l;const r=t.getState().columnPinning;if(!a){var o,d;return!!((o=r.left)!=null&&o.length||(d=r.right)!=null&&d.length)}return!!((l=r[a])!=null&&l.length)},t.getLeftLeafColumns=ke(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left],(a,l)=>(l??[]).map(r=>a.find(o=>o.id===r)).filter(Boolean),Ae(t.options,"debugColumns")),t.getRightLeafColumns=ke(()=>[t.getAllLeafColumns(),t.getState().columnPinning.right],(a,l)=>(l??[]).map(r=>a.find(o=>o.id===r)).filter(Boolean),Ae(t.options,"debugColumns")),t.getCenterLeafColumns=ke(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(a,l,r)=>{const o=[...l??[],...r??[]];return a.filter(d=>!o.includes(d.id))},Ae(t.options,"debugColumns"))}};function aR(t){return t||(typeof document<"u"?document:null)}const Nd={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},Wh=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),nR={getDefaultColumnDef:()=>Nd,getInitialState:t=>({columnSizing:{},columnSizingInfo:Wh(),...t}),getDefaultOptions:t=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:aa("columnSizing",t),onColumnSizingInfoChange:aa("columnSizingInfo",t)}),createColumn:(t,a)=>{t.getSize=()=>{var l,r,o;const d=a.getState().columnSizing[t.id];return Math.min(Math.max((l=t.columnDef.minSize)!=null?l:Nd.minSize,(r=d??t.columnDef.size)!=null?r:Nd.size),(o=t.columnDef.maxSize)!=null?o:Nd.maxSize)},t.getStart=ke(l=>[l,Mo(a,l),a.getState().columnSizing],(l,r)=>r.slice(0,t.getIndex(l)).reduce((o,d)=>o+d.getSize(),0),Ae(a.options,"debugColumns")),t.getAfter=ke(l=>[l,Mo(a,l),a.getState().columnSizing],(l,r)=>r.slice(t.getIndex(l)+1).reduce((o,d)=>o+d.getSize(),0),Ae(a.options,"debugColumns")),t.resetSize=()=>{a.setColumnSizing(l=>{let{[t.id]:r,...o}=l;return o})},t.getCanResize=()=>{var l,r;return((l=t.columnDef.enableResizing)!=null?l:!0)&&((r=a.options.enableColumnResizing)!=null?r:!0)},t.getIsResizing=()=>a.getState().columnSizingInfo.isResizingColumn===t.id},createHeader:(t,a)=>{t.getSize=()=>{let l=0;const r=o=>{if(o.subHeaders.length)o.subHeaders.forEach(r);else{var d;l+=(d=o.column.getSize())!=null?d:0}};return r(t),l},t.getStart=()=>{if(t.index>0){const l=t.headerGroup.headers[t.index-1];return l.getStart()+l.getSize()}return 0},t.getResizeHandler=l=>{const r=a.getColumn(t.column.id),o=r?.getCanResize();return d=>{if(!r||!o||(d.persist==null||d.persist(),Zh(d)&&d.touches&&d.touches.length>1))return;const u=t.getSize(),h=t?t.getLeafHeaders().map(_=>[_.column.id,_.column.getSize()]):[[r.id,r.getSize()]],x=Zh(d)?Math.round(d.touches[0].clientX):d.clientX,g={},y=(_,E)=>{typeof E=="number"&&(a.setColumnSizingInfo(A=>{var M,H;const I=a.options.columnResizeDirection==="rtl"?-1:1,W=(E-((M=A?.startOffset)!=null?M:0))*I,Q=Math.max(W/((H=A?.startSize)!=null?H:0),-.999999);return A.columnSizingStart.forEach(K=>{let[q,$]=K;g[q]=Math.round(Math.max($+$*Q,0)*100)/100}),{...A,deltaOffset:W,deltaPercentage:Q}}),(a.options.columnResizeMode==="onChange"||_==="end")&&a.setColumnSizing(A=>({...A,...g})))},p=_=>y("move",_),j=_=>{y("end",_),a.setColumnSizingInfo(E=>({...E,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},N=aR(l),v={moveHandler:_=>p(_.clientX),upHandler:_=>{N?.removeEventListener("mousemove",v.moveHandler),N?.removeEventListener("mouseup",v.upHandler),j(_.clientX)}},C={moveHandler:_=>(_.cancelable&&(_.preventDefault(),_.stopPropagation()),p(_.touches[0].clientX),!1),upHandler:_=>{var E;N?.removeEventListener("touchmove",C.moveHandler),N?.removeEventListener("touchend",C.upHandler),_.cancelable&&(_.preventDefault(),_.stopPropagation()),j((E=_.touches[0])==null?void 0:E.clientX)}},S=lR()?{passive:!1}:!1;Zh(d)?(N?.addEventListener("touchmove",C.moveHandler,S),N?.addEventListener("touchend",C.upHandler,S)):(N?.addEventListener("mousemove",v.moveHandler,S),N?.addEventListener("mouseup",v.upHandler,S)),a.setColumnSizingInfo(_=>({..._,startOffset:x,startSize:u,deltaOffset:0,deltaPercentage:0,columnSizingStart:h,isResizingColumn:r.id}))}}},createTable:t=>{t.setColumnSizing=a=>t.options.onColumnSizingChange==null?void 0:t.options.onColumnSizingChange(a),t.setColumnSizingInfo=a=>t.options.onColumnSizingInfoChange==null?void 0:t.options.onColumnSizingInfoChange(a),t.resetColumnSizing=a=>{var l;t.setColumnSizing(a?{}:(l=t.initialState.columnSizing)!=null?l:{})},t.resetHeaderSizeInfo=a=>{var l;t.setColumnSizingInfo(a?Wh():(l=t.initialState.columnSizingInfo)!=null?l:Wh())},t.getTotalSize=()=>{var a,l;return(a=(l=t.getHeaderGroups()[0])==null?void 0:l.headers.reduce((r,o)=>r+o.getSize(),0))!=null?a:0},t.getLeftTotalSize=()=>{var a,l;return(a=(l=t.getLeftHeaderGroups()[0])==null?void 0:l.headers.reduce((r,o)=>r+o.getSize(),0))!=null?a:0},t.getCenterTotalSize=()=>{var a,l;return(a=(l=t.getCenterHeaderGroups()[0])==null?void 0:l.headers.reduce((r,o)=>r+o.getSize(),0))!=null?a:0},t.getRightTotalSize=()=>{var a,l;return(a=(l=t.getRightHeaderGroups()[0])==null?void 0:l.headers.reduce((r,o)=>r+o.getSize(),0))!=null?a:0}}};let wd=null;function lR(){if(typeof wd=="boolean")return wd;let t=!1;try{const a={get passive(){return t=!0,!1}},l=()=>{};window.addEventListener("test",l,a),window.removeEventListener("test",l)}catch{t=!1}return wd=t,wd}function Zh(t){return t.type==="touchstart"}const rR={getInitialState:t=>({columnVisibility:{},...t}),getDefaultOptions:t=>({onColumnVisibilityChange:aa("columnVisibility",t)}),createColumn:(t,a)=>{t.toggleVisibility=l=>{t.getCanHide()&&a.setColumnVisibility(r=>({...r,[t.id]:l??!t.getIsVisible()}))},t.getIsVisible=()=>{var l,r;const o=t.columns;return(l=o.length?o.some(d=>d.getIsVisible()):(r=a.getState().columnVisibility)==null?void 0:r[t.id])!=null?l:!0},t.getCanHide=()=>{var l,r;return((l=t.columnDef.enableHiding)!=null?l:!0)&&((r=a.options.enableHiding)!=null?r:!0)},t.getToggleVisibilityHandler=()=>l=>{t.toggleVisibility==null||t.toggleVisibility(l.target.checked)}},createRow:(t,a)=>{t._getAllVisibleCells=ke(()=>[t.getAllCells(),a.getState().columnVisibility],l=>l.filter(r=>r.column.getIsVisible()),Ae(a.options,"debugRows")),t.getVisibleCells=ke(()=>[t.getLeftVisibleCells(),t.getCenterVisibleCells(),t.getRightVisibleCells()],(l,r,o)=>[...l,...r,...o],Ae(a.options,"debugRows"))},createTable:t=>{const a=(l,r)=>ke(()=>[r(),r().filter(o=>o.getIsVisible()).map(o=>o.id).join("_")],o=>o.filter(d=>d.getIsVisible==null?void 0:d.getIsVisible()),Ae(t.options,"debugColumns"));t.getVisibleFlatColumns=a("getVisibleFlatColumns",()=>t.getAllFlatColumns()),t.getVisibleLeafColumns=a("getVisibleLeafColumns",()=>t.getAllLeafColumns()),t.getLeftVisibleLeafColumns=a("getLeftVisibleLeafColumns",()=>t.getLeftLeafColumns()),t.getRightVisibleLeafColumns=a("getRightVisibleLeafColumns",()=>t.getRightLeafColumns()),t.getCenterVisibleLeafColumns=a("getCenterVisibleLeafColumns",()=>t.getCenterLeafColumns()),t.setColumnVisibility=l=>t.options.onColumnVisibilityChange==null?void 0:t.options.onColumnVisibilityChange(l),t.resetColumnVisibility=l=>{var r;t.setColumnVisibility(l?{}:(r=t.initialState.columnVisibility)!=null?r:{})},t.toggleAllColumnsVisible=l=>{var r;l=(r=l)!=null?r:!t.getIsAllColumnsVisible(),t.setColumnVisibility(t.getAllLeafColumns().reduce((o,d)=>({...o,[d.id]:l||!(d.getCanHide!=null&&d.getCanHide())}),{}))},t.getIsAllColumnsVisible=()=>!t.getAllLeafColumns().some(l=>!(l.getIsVisible!=null&&l.getIsVisible())),t.getIsSomeColumnsVisible=()=>t.getAllLeafColumns().some(l=>l.getIsVisible==null?void 0:l.getIsVisible()),t.getToggleAllColumnsVisibilityHandler=()=>l=>{var r;t.toggleAllColumnsVisible((r=l.target)==null?void 0:r.checked)}}};function Mo(t,a){return a?a==="center"?t.getCenterVisibleLeafColumns():a==="left"?t.getLeftVisibleLeafColumns():t.getRightVisibleLeafColumns():t.getVisibleLeafColumns()}const iR={createTable:t=>{t._getGlobalFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,"__global__"),t.getGlobalFacetedRowModel=()=>t.options.manualFiltering||!t._getGlobalFacetedRowModel?t.getPreFilteredRowModel():t._getGlobalFacetedRowModel(),t._getGlobalFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,"__global__"),t.getGlobalFacetedUniqueValues=()=>t._getGlobalFacetedUniqueValues?t._getGlobalFacetedUniqueValues():new Map,t._getGlobalFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,"__global__"),t.getGlobalFacetedMinMaxValues=()=>{if(t._getGlobalFacetedMinMaxValues)return t._getGlobalFacetedMinMaxValues()}}},oR={getInitialState:t=>({globalFilter:void 0,...t}),getDefaultOptions:t=>({onGlobalFilterChange:aa("globalFilter",t),globalFilterFn:"auto",getColumnCanGlobalFilter:a=>{var l;const r=(l=t.getCoreRowModel().flatRows[0])==null||(l=l._getAllCellsByColumnId()[a.id])==null?void 0:l.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(t,a)=>{t.getCanGlobalFilter=()=>{var l,r,o,d;return((l=t.columnDef.enableGlobalFilter)!=null?l:!0)&&((r=a.options.enableGlobalFilter)!=null?r:!0)&&((o=a.options.enableFilters)!=null?o:!0)&&((d=a.options.getColumnCanGlobalFilter==null?void 0:a.options.getColumnCanGlobalFilter(t))!=null?d:!0)&&!!t.accessorFn}},createTable:t=>{t.getGlobalAutoFilterFn=()=>jn.includesString,t.getGlobalFilterFn=()=>{var a,l;const{globalFilterFn:r}=t.options;return fu(r)?r:r==="auto"?t.getGlobalAutoFilterFn():(a=(l=t.options.filterFns)==null?void 0:l[r])!=null?a:jn[r]},t.setGlobalFilter=a=>{t.options.onGlobalFilterChange==null||t.options.onGlobalFilterChange(a)},t.resetGlobalFilter=a=>{t.setGlobalFilter(a?void 0:t.initialState.globalFilter)}}},cR={getInitialState:t=>({expanded:{},...t}),getDefaultOptions:t=>({onExpandedChange:aa("expanded",t),paginateExpandedRows:!0}),createTable:t=>{let a=!1,l=!1;t._autoResetExpanded=()=>{var r,o;if(!a){t._queue(()=>{a=!0});return}if((r=(o=t.options.autoResetAll)!=null?o:t.options.autoResetExpanded)!=null?r:!t.options.manualExpanding){if(l)return;l=!0,t._queue(()=>{t.resetExpanded(),l=!1})}},t.setExpanded=r=>t.options.onExpandedChange==null?void 0:t.options.onExpandedChange(r),t.toggleAllRowsExpanded=r=>{r??!t.getIsAllRowsExpanded()?t.setExpanded(!0):t.setExpanded({})},t.resetExpanded=r=>{var o,d;t.setExpanded(r?{}:(o=(d=t.initialState)==null?void 0:d.expanded)!=null?o:{})},t.getCanSomeRowsExpand=()=>t.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),t.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),t.toggleAllRowsExpanded()},t.getIsSomeRowsExpanded=()=>{const r=t.getState().expanded;return r===!0||Object.values(r).some(Boolean)},t.getIsAllRowsExpanded=()=>{const r=t.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||t.getRowModel().flatRows.some(o=>!o.getIsExpanded()))},t.getExpandedDepth=()=>{let r=0;return(t.getState().expanded===!0?Object.keys(t.getRowModel().rowsById):Object.keys(t.getState().expanded)).forEach(d=>{const u=d.split(".");r=Math.max(r,u.length)}),r},t.getPreExpandedRowModel=()=>t.getSortedRowModel(),t.getExpandedRowModel=()=>(!t._getExpandedRowModel&&t.options.getExpandedRowModel&&(t._getExpandedRowModel=t.options.getExpandedRowModel(t)),t.options.manualExpanding||!t._getExpandedRowModel?t.getPreExpandedRowModel():t._getExpandedRowModel())},createRow:(t,a)=>{t.toggleExpanded=l=>{a.setExpanded(r=>{var o;const d=r===!0?!0:!!(r!=null&&r[t.id]);let u={};if(r===!0?Object.keys(a.getRowModel().rowsById).forEach(h=>{u[h]=!0}):u=r,l=(o=l)!=null?o:!d,!d&&l)return{...u,[t.id]:!0};if(d&&!l){const{[t.id]:h,...x}=u;return x}return r})},t.getIsExpanded=()=>{var l;const r=a.getState().expanded;return!!((l=a.options.getIsRowExpanded==null?void 0:a.options.getIsRowExpanded(t))!=null?l:r===!0||r?.[t.id])},t.getCanExpand=()=>{var l,r,o;return(l=a.options.getRowCanExpand==null?void 0:a.options.getRowCanExpand(t))!=null?l:((r=a.options.enableExpanding)!=null?r:!0)&&!!((o=t.subRows)!=null&&o.length)},t.getIsAllParentsExpanded=()=>{let l=!0,r=t;for(;l&&r.parentId;)r=a.getRow(r.parentId,!0),l=r.getIsExpanded();return l},t.getToggleExpandedHandler=()=>{const l=t.getCanExpand();return()=>{l&&t.toggleExpanded()}}}},wx=0,Sx=10,Jh=()=>({pageIndex:wx,pageSize:Sx}),dR={getInitialState:t=>({...t,pagination:{...Jh(),...t?.pagination}}),getDefaultOptions:t=>({onPaginationChange:aa("pagination",t)}),createTable:t=>{let a=!1,l=!1;t._autoResetPageIndex=()=>{var r,o;if(!a){t._queue(()=>{a=!0});return}if((r=(o=t.options.autoResetAll)!=null?o:t.options.autoResetPageIndex)!=null?r:!t.options.manualPagination){if(l)return;l=!0,t._queue(()=>{t.resetPageIndex(),l=!1})}},t.setPagination=r=>{const o=d=>nl(r,d);return t.options.onPaginationChange==null?void 0:t.options.onPaginationChange(o)},t.resetPagination=r=>{var o;t.setPagination(r?Jh():(o=t.initialState.pagination)!=null?o:Jh())},t.setPageIndex=r=>{t.setPagination(o=>{let d=nl(r,o.pageIndex);const u=typeof t.options.pageCount>"u"||t.options.pageCount===-1?Number.MAX_SAFE_INTEGER:t.options.pageCount-1;return d=Math.max(0,Math.min(d,u)),{...o,pageIndex:d}})},t.resetPageIndex=r=>{var o,d;t.setPageIndex(r?wx:(o=(d=t.initialState)==null||(d=d.pagination)==null?void 0:d.pageIndex)!=null?o:wx)},t.resetPageSize=r=>{var o,d;t.setPageSize(r?Sx:(o=(d=t.initialState)==null||(d=d.pagination)==null?void 0:d.pageSize)!=null?o:Sx)},t.setPageSize=r=>{t.setPagination(o=>{const d=Math.max(1,nl(r,o.pageSize)),u=o.pageSize*o.pageIndex,h=Math.floor(u/d);return{...o,pageIndex:h,pageSize:d}})},t.setPageCount=r=>t.setPagination(o=>{var d;let u=nl(r,(d=t.options.pageCount)!=null?d:-1);return typeof u=="number"&&(u=Math.max(-1,u)),{...o,pageCount:u}}),t.getPageOptions=ke(()=>[t.getPageCount()],r=>{let o=[];return r&&r>0&&(o=[...new Array(r)].fill(null).map((d,u)=>u)),o},Ae(t.options,"debugTable")),t.getCanPreviousPage=()=>t.getState().pagination.pageIndex>0,t.getCanNextPage=()=>{const{pageIndex:r}=t.getState().pagination,o=t.getPageCount();return o===-1?!0:o===0?!1:r<o-1},t.previousPage=()=>t.setPageIndex(r=>r-1),t.nextPage=()=>t.setPageIndex(r=>r+1),t.firstPage=()=>t.setPageIndex(0),t.lastPage=()=>t.setPageIndex(t.getPageCount()-1),t.getPrePaginationRowModel=()=>t.getExpandedRowModel(),t.getPaginationRowModel=()=>(!t._getPaginationRowModel&&t.options.getPaginationRowModel&&(t._getPaginationRowModel=t.options.getPaginationRowModel(t)),t.options.manualPagination||!t._getPaginationRowModel?t.getPrePaginationRowModel():t._getPaginationRowModel()),t.getPageCount=()=>{var r;return(r=t.options.pageCount)!=null?r:Math.ceil(t.getRowCount()/t.getState().pagination.pageSize)},t.getRowCount=()=>{var r;return(r=t.options.rowCount)!=null?r:t.getPrePaginationRowModel().rows.length}}},ex=()=>({top:[],bottom:[]}),uR={getInitialState:t=>({rowPinning:ex(),...t}),getDefaultOptions:t=>({onRowPinningChange:aa("rowPinning",t)}),createRow:(t,a)=>{t.pin=(l,r,o)=>{const d=r?t.getLeafRows().map(x=>{let{id:g}=x;return g}):[],u=o?t.getParentRows().map(x=>{let{id:g}=x;return g}):[],h=new Set([...u,t.id,...d]);a.setRowPinning(x=>{var g,y;if(l==="bottom"){var p,j;return{top:((p=x?.top)!=null?p:[]).filter(C=>!(h!=null&&h.has(C))),bottom:[...((j=x?.bottom)!=null?j:[]).filter(C=>!(h!=null&&h.has(C))),...Array.from(h)]}}if(l==="top"){var N,v;return{top:[...((N=x?.top)!=null?N:[]).filter(C=>!(h!=null&&h.has(C))),...Array.from(h)],bottom:((v=x?.bottom)!=null?v:[]).filter(C=>!(h!=null&&h.has(C)))}}return{top:((g=x?.top)!=null?g:[]).filter(C=>!(h!=null&&h.has(C))),bottom:((y=x?.bottom)!=null?y:[]).filter(C=>!(h!=null&&h.has(C)))}})},t.getCanPin=()=>{var l;const{enableRowPinning:r,enablePinning:o}=a.options;return typeof r=="function"?r(t):(l=r??o)!=null?l:!0},t.getIsPinned=()=>{const l=[t.id],{top:r,bottom:o}=a.getState().rowPinning,d=l.some(h=>r?.includes(h)),u=l.some(h=>o?.includes(h));return d?"top":u?"bottom":!1},t.getPinnedIndex=()=>{var l,r;const o=t.getIsPinned();if(!o)return-1;const d=(l=o==="top"?a.getTopRows():a.getBottomRows())==null?void 0:l.map(u=>{let{id:h}=u;return h});return(r=d?.indexOf(t.id))!=null?r:-1}},createTable:t=>{t.setRowPinning=a=>t.options.onRowPinningChange==null?void 0:t.options.onRowPinningChange(a),t.resetRowPinning=a=>{var l,r;return t.setRowPinning(a?ex():(l=(r=t.initialState)==null?void 0:r.rowPinning)!=null?l:ex())},t.getIsSomeRowsPinned=a=>{var l;const r=t.getState().rowPinning;if(!a){var o,d;return!!((o=r.top)!=null&&o.length||(d=r.bottom)!=null&&d.length)}return!!((l=r[a])!=null&&l.length)},t._getPinnedRows=(a,l,r)=>{var o;return((o=t.options.keepPinnedRows)==null||o?(l??[]).map(u=>{const h=t.getRow(u,!0);return h.getIsAllParentsExpanded()?h:null}):(l??[]).map(u=>a.find(h=>h.id===u))).filter(Boolean).map(u=>({...u,position:r}))},t.getTopRows=ke(()=>[t.getRowModel().rows,t.getState().rowPinning.top],(a,l)=>t._getPinnedRows(a,l,"top"),Ae(t.options,"debugRows")),t.getBottomRows=ke(()=>[t.getRowModel().rows,t.getState().rowPinning.bottom],(a,l)=>t._getPinnedRows(a,l,"bottom"),Ae(t.options,"debugRows")),t.getCenterRows=ke(()=>[t.getRowModel().rows,t.getState().rowPinning.top,t.getState().rowPinning.bottom],(a,l,r)=>{const o=new Set([...l??[],...r??[]]);return a.filter(d=>!o.has(d.id))},Ae(t.options,"debugRows"))}},mR={getInitialState:t=>({rowSelection:{},...t}),getDefaultOptions:t=>({onRowSelectionChange:aa("rowSelection",t),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:t=>{t.setRowSelection=a=>t.options.onRowSelectionChange==null?void 0:t.options.onRowSelectionChange(a),t.resetRowSelection=a=>{var l;return t.setRowSelection(a?{}:(l=t.initialState.rowSelection)!=null?l:{})},t.toggleAllRowsSelected=a=>{t.setRowSelection(l=>{a=typeof a<"u"?a:!t.getIsAllRowsSelected();const r={...l},o=t.getPreGroupedRowModel().flatRows;return a?o.forEach(d=>{d.getCanSelect()&&(r[d.id]=!0)}):o.forEach(d=>{delete r[d.id]}),r})},t.toggleAllPageRowsSelected=a=>t.setRowSelection(l=>{const r=typeof a<"u"?a:!t.getIsAllPageRowsSelected(),o={...l};return t.getRowModel().rows.forEach(d=>{Cx(o,d.id,r,!0,t)}),o}),t.getPreSelectedRowModel=()=>t.getCoreRowModel(),t.getSelectedRowModel=ke(()=>[t.getState().rowSelection,t.getCoreRowModel()],(a,l)=>Object.keys(a).length?tx(t,l):{rows:[],flatRows:[],rowsById:{}},Ae(t.options,"debugTable")),t.getFilteredSelectedRowModel=ke(()=>[t.getState().rowSelection,t.getFilteredRowModel()],(a,l)=>Object.keys(a).length?tx(t,l):{rows:[],flatRows:[],rowsById:{}},Ae(t.options,"debugTable")),t.getGroupedSelectedRowModel=ke(()=>[t.getState().rowSelection,t.getSortedRowModel()],(a,l)=>Object.keys(a).length?tx(t,l):{rows:[],flatRows:[],rowsById:{}},Ae(t.options,"debugTable")),t.getIsAllRowsSelected=()=>{const a=t.getFilteredRowModel().flatRows,{rowSelection:l}=t.getState();let r=!!(a.length&&Object.keys(l).length);return r&&a.some(o=>o.getCanSelect()&&!l[o.id])&&(r=!1),r},t.getIsAllPageRowsSelected=()=>{const a=t.getPaginationRowModel().flatRows.filter(o=>o.getCanSelect()),{rowSelection:l}=t.getState();let r=!!a.length;return r&&a.some(o=>!l[o.id])&&(r=!1),r},t.getIsSomeRowsSelected=()=>{var a;const l=Object.keys((a=t.getState().rowSelection)!=null?a:{}).length;return l>0&&l<t.getFilteredRowModel().flatRows.length},t.getIsSomePageRowsSelected=()=>{const a=t.getPaginationRowModel().flatRows;return t.getIsAllPageRowsSelected()?!1:a.filter(l=>l.getCanSelect()).some(l=>l.getIsSelected()||l.getIsSomeSelected())},t.getToggleAllRowsSelectedHandler=()=>a=>{t.toggleAllRowsSelected(a.target.checked)},t.getToggleAllPageRowsSelectedHandler=()=>a=>{t.toggleAllPageRowsSelected(a.target.checked)}},createRow:(t,a)=>{t.toggleSelected=(l,r)=>{const o=t.getIsSelected();a.setRowSelection(d=>{var u;if(l=typeof l<"u"?l:!o,t.getCanSelect()&&o===l)return d;const h={...d};return Cx(h,t.id,l,(u=r?.selectChildren)!=null?u:!0,a),h})},t.getIsSelected=()=>{const{rowSelection:l}=a.getState();return gf(t,l)},t.getIsSomeSelected=()=>{const{rowSelection:l}=a.getState();return kx(t,l)==="some"},t.getIsAllSubRowsSelected=()=>{const{rowSelection:l}=a.getState();return kx(t,l)==="all"},t.getCanSelect=()=>{var l;return typeof a.options.enableRowSelection=="function"?a.options.enableRowSelection(t):(l=a.options.enableRowSelection)!=null?l:!0},t.getCanSelectSubRows=()=>{var l;return typeof a.options.enableSubRowSelection=="function"?a.options.enableSubRowSelection(t):(l=a.options.enableSubRowSelection)!=null?l:!0},t.getCanMultiSelect=()=>{var l;return typeof a.options.enableMultiRowSelection=="function"?a.options.enableMultiRowSelection(t):(l=a.options.enableMultiRowSelection)!=null?l:!0},t.getToggleSelectedHandler=()=>{const l=t.getCanSelect();return r=>{var o;l&&t.toggleSelected((o=r.target)==null?void 0:o.checked)}}}},Cx=(t,a,l,r,o)=>{var d;const u=o.getRow(a,!0);l?(u.getCanMultiSelect()||Object.keys(t).forEach(h=>delete t[h]),u.getCanSelect()&&(t[a]=!0)):delete t[a],r&&(d=u.subRows)!=null&&d.length&&u.getCanSelectSubRows()&&u.subRows.forEach(h=>Cx(t,h.id,l,r,o))};function tx(t,a){const l=t.getState().rowSelection,r=[],o={},d=function(u,h){return u.map(x=>{var g;const y=gf(x,l);if(y&&(r.push(x),o[x.id]=x),(g=x.subRows)!=null&&g.length&&(x={...x,subRows:d(x.subRows)}),y)return x}).filter(Boolean)};return{rows:d(a.rows),flatRows:r,rowsById:o}}function gf(t,a){var l;return(l=a[t.id])!=null?l:!1}function kx(t,a,l){var r;if(!((r=t.subRows)!=null&&r.length))return!1;let o=!0,d=!1;return t.subRows.forEach(u=>{if(!(d&&!o)&&(u.getCanSelect()&&(gf(u,a)?d=!0:o=!1),u.subRows&&u.subRows.length)){const h=kx(u,a);h==="all"?d=!0:(h==="some"&&(d=!0),o=!1)}}),o?"all":d?"some":!1}const Ax=/([0-9]+)/gm,hR=(t,a,l)=>rN(ul(t.getValue(l)).toLowerCase(),ul(a.getValue(l)).toLowerCase()),xR=(t,a,l)=>rN(ul(t.getValue(l)),ul(a.getValue(l))),fR=(t,a,l)=>pf(ul(t.getValue(l)).toLowerCase(),ul(a.getValue(l)).toLowerCase()),gR=(t,a,l)=>pf(ul(t.getValue(l)),ul(a.getValue(l))),pR=(t,a,l)=>{const r=t.getValue(l),o=a.getValue(l);return r>o?1:r<o?-1:0},yR=(t,a,l)=>pf(t.getValue(l),a.getValue(l));function pf(t,a){return t===a?0:t>a?1:-1}function ul(t){return typeof t=="number"?isNaN(t)||t===1/0||t===-1/0?"":String(t):typeof t=="string"?t:""}function rN(t,a){const l=t.split(Ax).filter(Boolean),r=a.split(Ax).filter(Boolean);for(;l.length&&r.length;){const o=l.shift(),d=r.shift(),u=parseInt(o,10),h=parseInt(d,10),x=[u,h].sort();if(isNaN(x[0])){if(o>d)return 1;if(d>o)return-1;continue}if(isNaN(x[1]))return isNaN(u)?-1:1;if(u>h)return 1;if(h>u)return-1}return l.length-r.length}const No={alphanumeric:hR,alphanumericCaseSensitive:xR,text:fR,textCaseSensitive:gR,datetime:pR,basic:yR},vR={getInitialState:t=>({sorting:[],...t}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:t=>({onSortingChange:aa("sorting",t),isMultiSortEvent:a=>a.shiftKey}),createColumn:(t,a)=>{t.getAutoSortingFn=()=>{const l=a.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const o of l){const d=o?.getValue(t.id);if(Object.prototype.toString.call(d)==="[object Date]")return No.datetime;if(typeof d=="string"&&(r=!0,d.split(Ax).length>1))return No.alphanumeric}return r?No.text:No.basic},t.getAutoSortDir=()=>{const l=a.getFilteredRowModel().flatRows[0];return typeof l?.getValue(t.id)=="string"?"asc":"desc"},t.getSortingFn=()=>{var l,r;if(!t)throw new Error;return fu(t.columnDef.sortingFn)?t.columnDef.sortingFn:t.columnDef.sortingFn==="auto"?t.getAutoSortingFn():(l=(r=a.options.sortingFns)==null?void 0:r[t.columnDef.sortingFn])!=null?l:No[t.columnDef.sortingFn]},t.toggleSorting=(l,r)=>{const o=t.getNextSortingOrder(),d=typeof l<"u"&&l!==null;a.setSorting(u=>{const h=u?.find(N=>N.id===t.id),x=u?.findIndex(N=>N.id===t.id);let g=[],y,p=d?l:o==="desc";if(u!=null&&u.length&&t.getCanMultiSort()&&r?h?y="toggle":y="add":u!=null&&u.length&&x!==u.length-1?y="replace":h?y="toggle":y="replace",y==="toggle"&&(d||o||(y="remove")),y==="add"){var j;g=[...u,{id:t.id,desc:p}],g.splice(0,g.length-((j=a.options.maxMultiSortColCount)!=null?j:Number.MAX_SAFE_INTEGER))}else y==="toggle"?g=u.map(N=>N.id===t.id?{...N,desc:p}:N):y==="remove"?g=u.filter(N=>N.id!==t.id):g=[{id:t.id,desc:p}];return g})},t.getFirstSortDir=()=>{var l,r;return((l=(r=t.columnDef.sortDescFirst)!=null?r:a.options.sortDescFirst)!=null?l:t.getAutoSortDir()==="desc")?"desc":"asc"},t.getNextSortingOrder=l=>{var r,o;const d=t.getFirstSortDir(),u=t.getIsSorted();return u?u!==d&&((r=a.options.enableSortingRemoval)==null||r)&&(!(l&&(o=a.options.enableMultiRemove)!=null)||o)?!1:u==="desc"?"asc":"desc":d},t.getCanSort=()=>{var l,r;return((l=t.columnDef.enableSorting)!=null?l:!0)&&((r=a.options.enableSorting)!=null?r:!0)&&!!t.accessorFn},t.getCanMultiSort=()=>{var l,r;return(l=(r=t.columnDef.enableMultiSort)!=null?r:a.options.enableMultiSort)!=null?l:!!t.accessorFn},t.getIsSorted=()=>{var l;const r=(l=a.getState().sorting)==null?void 0:l.find(o=>o.id===t.id);return r?r.desc?"desc":"asc":!1},t.getSortIndex=()=>{var l,r;return(l=(r=a.getState().sorting)==null?void 0:r.findIndex(o=>o.id===t.id))!=null?l:-1},t.clearSorting=()=>{a.setSorting(l=>l!=null&&l.length?l.filter(r=>r.id!==t.id):[])},t.getToggleSortingHandler=()=>{const l=t.getCanSort();return r=>{l&&(r.persist==null||r.persist(),t.toggleSorting==null||t.toggleSorting(void 0,t.getCanMultiSort()?a.options.isMultiSortEvent==null?void 0:a.options.isMultiSortEvent(r):!1))}}},createTable:t=>{t.setSorting=a=>t.options.onSortingChange==null?void 0:t.options.onSortingChange(a),t.resetSorting=a=>{var l,r;t.setSorting(a?[]:(l=(r=t.initialState)==null?void 0:r.sorting)!=null?l:[])},t.getPreSortedRowModel=()=>t.getGroupedRowModel(),t.getSortedRowModel=()=>(!t._getSortedRowModel&&t.options.getSortedRowModel&&(t._getSortedRowModel=t.options.getSortedRowModel(t)),t.options.manualSorting||!t._getSortedRowModel?t.getPreSortedRowModel():t._getSortedRowModel())}},jR=[IT,rR,tR,sR,VT,HT,iR,oR,vR,JT,cR,dR,uR,mR,nR];function bR(t){var a,l;const r=[...jR,...(a=t._features)!=null?a:[]];let o={_features:r};const d=o._features.reduce((j,N)=>Object.assign(j,N.getDefaultOptions==null?void 0:N.getDefaultOptions(o)),{}),u=j=>o.options.mergeOptions?o.options.mergeOptions(d,j):{...d,...j};let x={...{},...(l=t.initialState)!=null?l:{}};o._features.forEach(j=>{var N;x=(N=j.getInitialState==null?void 0:j.getInitialState(x))!=null?N:x});const g=[];let y=!1;const p={_features:r,options:{...d,...t},initialState:x,_queue:j=>{g.push(j),y||(y=!0,Promise.resolve().then(()=>{for(;g.length;)g.shift()();y=!1}).catch(N=>setTimeout(()=>{throw N})))},reset:()=>{o.setState(o.initialState)},setOptions:j=>{const N=nl(j,o.options);o.options=u(N)},getState:()=>o.options.state,setState:j=>{o.options.onStateChange==null||o.options.onStateChange(j)},_getRowId:(j,N,v)=>{var C;return(C=o.options.getRowId==null?void 0:o.options.getRowId(j,N,v))!=null?C:`${v?[v.id,N].join("."):N}`},getCoreRowModel:()=>(o._getCoreRowModel||(o._getCoreRowModel=o.options.getCoreRowModel(o)),o._getCoreRowModel()),getRowModel:()=>o.getPaginationRowModel(),getRow:(j,N)=>{let v=(N?o.getPrePaginationRowModel():o.getRowModel()).rowsById[j];if(!v&&(v=o.getCoreRowModel().rowsById[j],!v))throw new Error;return v},_getDefaultColumnDef:ke(()=>[o.options.defaultColumn],j=>{var N;return j=(N=j)!=null?N:{},{header:v=>{const C=v.header.column.columnDef;return C.accessorKey?C.accessorKey:C.accessorFn?C.id:null},cell:v=>{var C,S;return(C=(S=v.renderValue())==null||S.toString==null?void 0:S.toString())!=null?C:null},...o._features.reduce((v,C)=>Object.assign(v,C.getDefaultColumnDef==null?void 0:C.getDefaultColumnDef()),{}),...j}},Ae(t,"debugColumns")),_getColumnDefs:()=>o.options.columns,getAllColumns:ke(()=>[o._getColumnDefs()],j=>{const N=function(v,C,S){return S===void 0&&(S=0),v.map(_=>{const E=UT(o,_,S,C),A=_;return E.columns=A.columns?N(A.columns,E,S+1):[],E})};return N(j)},Ae(t,"debugColumns")),getAllFlatColumns:ke(()=>[o.getAllColumns()],j=>j.flatMap(N=>N.getFlatColumns()),Ae(t,"debugColumns")),_getAllFlatColumnsById:ke(()=>[o.getAllFlatColumns()],j=>j.reduce((N,v)=>(N[v.id]=v,N),{}),Ae(t,"debugColumns")),getAllLeafColumns:ke(()=>[o.getAllColumns(),o._getOrderColumnsFn()],(j,N)=>{let v=j.flatMap(C=>C.getLeafColumns());return N(v)},Ae(t,"debugColumns")),getColumn:j=>o._getAllFlatColumnsById()[j]};Object.assign(o,p);for(let j=0;j<o._features.length;j++){const N=o._features[j];N==null||N.createTable==null||N.createTable(o)}return o}function NR(){return t=>ke(()=>[t.options.data],a=>{const l={rows:[],flatRows:[],rowsById:{}},r=function(o,d,u){d===void 0&&(d=0);const h=[];for(let g=0;g<o.length;g++){const y=xf(t,t._getRowId(o[g],g,u),o[g],g,d,void 0,u?.id);if(l.flatRows.push(y),l.rowsById[y.id]=y,h.push(y),t.options.getSubRows){var x;y.originalSubRows=t.options.getSubRows(o[g],g),(x=y.originalSubRows)!=null&&x.length&&(y.subRows=r(y.originalSubRows,d+1,y))}}return h};return l.rows=r(a),l},Ae(t.options,"debugTable","getRowModel",()=>t._autoResetPageIndex()))}function wR(t){const a=[],l=r=>{var o;a.push(r),(o=r.subRows)!=null&&o.length&&r.getIsExpanded()&&r.subRows.forEach(l)};return t.rows.forEach(l),{rows:a,flatRows:t.flatRows,rowsById:t.rowsById}}function SR(t,a,l){return l.options.filterFromLeafRows?CR(t,a,l):kR(t,a,l)}function CR(t,a,l){var r;const o=[],d={},u=(r=l.options.maxLeafRowFilterDepth)!=null?r:100,h=function(x,g){g===void 0&&(g=0);const y=[];for(let j=0;j<x.length;j++){var p;let N=x[j];const v=xf(l,N.id,N.original,N.index,N.depth,void 0,N.parentId);if(v.columnFilters=N.columnFilters,(p=N.subRows)!=null&&p.length&&g<u){if(v.subRows=h(N.subRows,g+1),N=v,a(N)&&!v.subRows.length){y.push(N),d[N.id]=N,o.push(N);continue}if(a(N)||v.subRows.length){y.push(N),d[N.id]=N,o.push(N);continue}}else N=v,a(N)&&(y.push(N),d[N.id]=N,o.push(N))}return y};return{rows:h(t),flatRows:o,rowsById:d}}function kR(t,a,l){var r;const o=[],d={},u=(r=l.options.maxLeafRowFilterDepth)!=null?r:100,h=function(x,g){g===void 0&&(g=0);const y=[];for(let j=0;j<x.length;j++){let N=x[j];if(a(N)){var p;if((p=N.subRows)!=null&&p.length&&g<u){const C=xf(l,N.id,N.original,N.index,N.depth,void 0,N.parentId);C.subRows=h(N.subRows,g+1),N=C}y.push(N),o.push(N),d[N.id]=N}}return y};return{rows:h(t),flatRows:o,rowsById:d}}function AR(){return t=>ke(()=>[t.getPreFilteredRowModel(),t.getState().columnFilters,t.getState().globalFilter],(a,l,r)=>{if(!a.rows.length||!(l!=null&&l.length)&&!r){for(let j=0;j<a.flatRows.length;j++)a.flatRows[j].columnFilters={},a.flatRows[j].columnFiltersMeta={};return a}const o=[],d=[];(l??[]).forEach(j=>{var N;const v=t.getColumn(j.id);if(!v)return;const C=v.getFilterFn();C&&o.push({id:j.id,filterFn:C,resolvedValue:(N=C.resolveFilterValue==null?void 0:C.resolveFilterValue(j.value))!=null?N:j.value})});const u=(l??[]).map(j=>j.id),h=t.getGlobalFilterFn(),x=t.getAllLeafColumns().filter(j=>j.getCanGlobalFilter());r&&h&&x.length&&(u.push("__global__"),x.forEach(j=>{var N;d.push({id:j.id,filterFn:h,resolvedValue:(N=h.resolveFilterValue==null?void 0:h.resolveFilterValue(r))!=null?N:r})}));let g,y;for(let j=0;j<a.flatRows.length;j++){const N=a.flatRows[j];if(N.columnFilters={},o.length)for(let v=0;v<o.length;v++){g=o[v];const C=g.id;N.columnFilters[C]=g.filterFn(N,C,g.resolvedValue,S=>{N.columnFiltersMeta[C]=S})}if(d.length){for(let v=0;v<d.length;v++){y=d[v];const C=y.id;if(y.filterFn(N,C,y.resolvedValue,S=>{N.columnFiltersMeta[C]=S})){N.columnFilters.__global__=!0;break}}N.columnFilters.__global__!==!0&&(N.columnFilters.__global__=!1)}}const p=j=>{for(let N=0;N<u.length;N++)if(j.columnFilters[u[N]]===!1)return!1;return!0};return SR(a.rows,p,t)},Ae(t.options,"debugTable","getFilteredRowModel",()=>t._autoResetPageIndex()))}function MR(t){return a=>ke(()=>[a.getState().pagination,a.getPrePaginationRowModel(),a.options.paginateExpandedRows?void 0:a.getState().expanded],(l,r)=>{if(!r.rows.length)return r;const{pageSize:o,pageIndex:d}=l;let{rows:u,flatRows:h,rowsById:x}=r;const g=o*d,y=g+o;u=u.slice(g,y);let p;a.options.paginateExpandedRows?p={rows:u,flatRows:h,rowsById:x}:p=wR({rows:u,flatRows:h,rowsById:x}),p.flatRows=[];const j=N=>{p.flatRows.push(N),N.subRows.length&&N.subRows.forEach(j)};return p.rows.forEach(j),p},Ae(a.options,"debugTable"))}function _R(){return t=>ke(()=>[t.getState().sorting,t.getPreSortedRowModel()],(a,l)=>{if(!l.rows.length||!(a!=null&&a.length))return l;const r=t.getState().sorting,o=[],d=r.filter(x=>{var g;return(g=t.getColumn(x.id))==null?void 0:g.getCanSort()}),u={};d.forEach(x=>{const g=t.getColumn(x.id);g&&(u[x.id]={sortUndefined:g.columnDef.sortUndefined,invertSorting:g.columnDef.invertSorting,sortingFn:g.getSortingFn()})});const h=x=>{const g=x.map(y=>({...y}));return g.sort((y,p)=>{for(let N=0;N<d.length;N+=1){var j;const v=d[N],C=u[v.id],S=C.sortUndefined,_=(j=v?.desc)!=null?j:!1;let E=0;if(S){const A=y.getValue(v.id),M=p.getValue(v.id),H=A===void 0,I=M===void 0;if(H||I){if(S==="first")return H?-1:1;if(S==="last")return H?1:-1;E=H&&I?0:H?S:-S}}if(E===0&&(E=C.sortingFn(y,p,v.id)),E!==0)return _&&(E*=-1),C.invertSorting&&(E*=-1),E}return y.index-p.index}),g.forEach(y=>{var p;o.push(y),(p=y.subRows)!=null&&p.length&&(y.subRows=h(y.subRows))}),g};return{rows:h(l.rows),flatRows:o,rowsById:l.rowsById}},Ae(t.options,"debugTable","getSortedRowModel",()=>t._autoResetPageIndex()))}function Rv(t,a){return t?TR(t)?b.createElement(t,a):t:null}function TR(t){return RR(t)||typeof t=="function"||DR(t)}function RR(t){return typeof t=="function"&&(()=>{const a=Object.getPrototypeOf(t);return a.prototype&&a.prototype.isReactComponent})()}function DR(t){return typeof t=="object"&&typeof t.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(t.$$typeof.description)}function ER(t){const a={state:{},onStateChange:()=>{},renderFallbackValue:null,...t},[l]=b.useState(()=>({current:bR(a)})),[r,o]=b.useState(()=>l.current.initialState);return l.current.setOptions(d=>({...d,...t,state:{...r,...t.state},onStateChange:u=>{o(u),t.onStateChange==null||t.onStateChange(u)}})),l.current}function pl({columns:t,data:a,searchKey:l,searchPlaceholder:r="Search...",pageSize:o=10,showColumnVisibility:d=!1,showRowSelection:u=!1,onRowClick:h,isLoading:x=!1,emptyMessage:g="No results found.",pageCount:y,onPaginationChange:p,manualPagination:j=!1,bulkActions:N,selectedRows:v,onRowSelectionChange:C}){const[S,_]=b.useState([]),[E,A]=b.useState([]),[M,H]=b.useState({}),[I,W]=b.useState(v||{}),[Q,K]=b.useState("");b.useEffect(()=>{v&&W(v)},[v]),b.useEffect(()=>{C&&C(I)},[I,C]);const q=ER({data:a,columns:t,pageCount:j?y:void 0,state:{sorting:S,columnFilters:E,columnVisibility:M,rowSelection:I,globalFilter:Q},enableRowSelection:u,onSortingChange:_,onColumnFiltersChange:A,onColumnVisibilityChange:H,onRowSelectionChange:W,onGlobalFilterChange:K,getCoreRowModel:NR(),getFilteredRowModel:AR(),getPaginationRowModel:MR(),getSortedRowModel:_R(),manualPagination:j,initialState:{pagination:{pageSize:o}}}),$=Object.keys(I).length;return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[l&&e.jsxs("div",{className:"relative max-w-sm",children:[e.jsx(gs,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),e.jsx(ue,{placeholder:r,value:q.getColumn(l)?.getFilterValue()??"",onChange:re=>q.getColumn(l)?.setFilterValue(re.target.value),className:"pl-9"})]}),!l&&e.jsxs("div",{className:"relative max-w-sm",children:[e.jsx(gs,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),e.jsx(ue,{placeholder:r,value:Q,onChange:re=>K(re.target.value),className:"pl-9"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[$>0&&N&&e.jsxs("div",{className:"flex items-center gap-2 mr-2",children:[e.jsxs("span",{className:"text-sm text-gray-500",children:[$," selected"]}),N]}),d&&e.jsx(OR,{table:q})]})]}),e.jsx("div",{className:"rounded-md border border-gray-200 overflow-hidden",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:q.getHeaderGroups().map(re=>e.jsx("tr",{children:re.headers.map(le=>e.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-500",style:{width:le.getSize()!==150?le.getSize():void 0},children:le.isPlaceholder?null:Rv(le.column.columnDef.header,le.getContext())},le.id))},re.id))}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:x?e.jsx("tr",{children:e.jsx("td",{colSpan:t.length,className:"h-24 text-center",children:e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"h-6 w-6 animate-spin rounded-full border-2 border-gray-300 border-t-blue-600"}),e.jsx("span",{className:"ml-2 text-gray-500",children:"Loading..."})]})})}):q.getRowModel().rows.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:t.length,className:"h-24 text-center text-gray-500",children:g})}):q.getRowModel().rows.map(re=>e.jsx("tr",{"data-state":re.getIsSelected()&&"selected",className:z("bg-white hover:bg-gray-50 transition-colors",re.getIsSelected()&&"bg-blue-50 hover:bg-blue-50",h&&"cursor-pointer"),onClick:()=>h?.(re.original),children:re.getVisibleCells().map(le=>e.jsx("td",{className:"px-4 py-3 text-gray-900",children:Rv(le.column.columnDef.cell,le.getContext())},le.id))},re.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between px-2",children:[e.jsxs("div",{className:"text-sm text-gray-500",children:[u&&e.jsxs("span",{children:[$," of ",q.getFilteredRowModel().rows.length," row(s) selected"]}),!u&&e.jsxs("span",{children:["Showing ",q.getState().pagination.pageIndex*q.getState().pagination.pageSize+1," to"," ",Math.min((q.getState().pagination.pageIndex+1)*q.getState().pagination.pageSize,q.getFilteredRowModel().rows.length)," ","of ",q.getFilteredRowModel().rows.length," results"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(T,{variant:"outline",size:"sm",onClick:()=>{q.setPageIndex(0),p?.(0,q.getState().pagination.pageSize)},disabled:!q.getCanPreviousPage(),children:e.jsx(zj,{className:"h-4 w-4"})}),e.jsx(T,{variant:"outline",size:"sm",onClick:()=>{q.previousPage(),p?.(q.getState().pagination.pageIndex-1,q.getState().pagination.pageSize)},disabled:!q.getCanPreviousPage(),children:e.jsx(Po,{className:"h-4 w-4"})}),e.jsxs("span",{className:"text-sm text-gray-500",children:["Page ",q.getState().pagination.pageIndex+1," of ",q.getPageCount()]}),e.jsx(T,{variant:"outline",size:"sm",onClick:()=>{q.nextPage(),p?.(q.getState().pagination.pageIndex+1,q.getState().pagination.pageSize)},disabled:!q.getCanNextPage(),children:e.jsx(Da,{className:"h-4 w-4"})}),e.jsx(T,{variant:"outline",size:"sm",onClick:()=>{q.setPageIndex(q.getPageCount()-1),p?.(q.getPageCount()-1,q.getState().pagination.pageSize)},disabled:!q.getCanNextPage(),children:e.jsx(Lj,{className:"h-4 w-4"})})]})]})]})}function OR({table:t}){const[a,l]=b.useState(!1);return e.jsxs("div",{className:"relative",children:[e.jsxs(T,{variant:"outline",size:"sm",onClick:()=>l(!a),className:"flex items-center gap-2",children:[e.jsx(iC,{className:"h-4 w-4"}),"Columns",e.jsx(hl,{className:"h-4 w-4"})]}),a&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>l(!1)}),e.jsx("div",{className:"absolute right-0 top-full mt-2 z-20 w-48 rounded-md border border-gray-200 bg-white shadow-lg",children:e.jsx("div",{className:"p-2",children:t.getAllColumns().filter(r=>r.getCanHide()).map(r=>e.jsxs("label",{className:"flex items-center gap-2 px-2 py-1.5 text-sm hover:bg-gray-50 rounded cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:r.getIsVisible(),onChange:o=>r.toggleVisibility(o.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"capitalize",children:r.id.replace(/_/g," ")})]},r.id))})})]})]})}function ns({column:t,children:a}){const l=t.getIsSorted();return e.jsxs("button",{className:"flex items-center gap-1 hover:text-gray-900 -ml-1 px-1",onClick:()=>t.toggleSorting(l==="asc"),children:[a,e.jsx("span",{className:"text-gray-400",children:l==="asc"?" ^":l==="desc"?" v":""})]})}function gu(){return{id:"select",header:({table:t})=>e.jsx("input",{type:"checkbox",checked:t.getIsAllPageRowsSelected(),onChange:a=>t.toggleAllPageRowsSelected(a.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500","aria-label":"Select all"}),cell:({row:t})=>e.jsx("input",{type:"checkbox",checked:t.getIsSelected(),onChange:a=>t.toggleSelected(a.target.checked),onClick:a=>a.stopPropagation(),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500","aria-label":"Select row"}),size:40,enableSorting:!1,enableHiding:!1}}function zR({incidents:t}){const a=t.length,l=t.filter(d=>["new","acknowledged","in_progress"].includes(d.status)).length,r=t.filter(d=>d.slaBreached).length,o=t.filter(d=>d.severity==="critical"||d.severity==="high").length;return e.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[e.jsx(F,{children:e.jsx(P,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-blue-50",children:e.jsx(We,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:a}),e.jsx("div",{className:"text-sm text-gray-500",children:"Total Incidents"})]})]})})}),e.jsx(F,{children:e.jsx(P,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-yellow-50",children:e.jsx(it,{className:"h-5 w-5 text-yellow-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:l}),e.jsx("div",{className:"text-sm text-gray-500",children:"Open"})]})]})})}),e.jsx(F,{children:e.jsx(P,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-red-50",children:e.jsx(Xa,{className:"h-5 w-5 text-red-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:r}),e.jsx("div",{className:"text-sm text-gray-500",children:"SLA Breached"})]})]})})}),e.jsx(F,{children:e.jsx(P,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-orange-50",children:e.jsx(We,{className:"h-5 w-5 text-orange-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:o}),e.jsx("div",{className:"text-sm text-gray-500",children:"High Priority"})]})]})})})]})}function Xd({value:t,onChange:a,placeholder:l="Select date...",disabled:r=!1,className:o,minDate:d,maxDate:u}){const[h,x]=b.useState(!1),[g,y]=b.useState(t||new Date),p=b.useRef(null);b.useEffect(()=>{const $=re=>{p.current&&!p.current.contains(re.target)&&x(!1)};return document.addEventListener("mousedown",$),()=>document.removeEventListener("mousedown",$)},[]),b.useEffect(()=>{t&&y(t)},[t]);const j=$=>$.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),N=($,re)=>new Date($,re+1,0).getDate(),v=($,re)=>new Date($,re,1).getDay(),C=g.getFullYear(),S=g.getMonth(),_=N(C,S),E=v(C,S),A=[];for(let $=0;$<E;$++)A.push(null);for(let $=1;$<=_;$++)A.push($);const M=$=>{const re=new Date(C,S,$);return!!(d&&re<d||u&&re>u)},H=$=>t?t.getFullYear()===C&&t.getMonth()===S&&t.getDate()===$:!1,I=$=>{const re=new Date;return re.getFullYear()===C&&re.getMonth()===S&&re.getDate()===$},W=$=>{M($)||(a(new Date(C,S,$)),x(!1))},Q=()=>{y(new Date(C,S-1,1))},K=()=>{y(new Date(C,S+1,1))},q=["January","February","March","April","May","June","July","August","September","October","November","December"];return e.jsxs("div",{ref:p,className:z("relative",o),children:[e.jsxs("button",{type:"button",onClick:()=>!r&&x(!h),className:z("flex h-10 w-full items-center gap-2 rounded-md border border-gray-300 bg-white px-3 py-2 text-sm","focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",r?"cursor-not-allowed opacity-50":"cursor-pointer"),disabled:r,children:[e.jsx(Ot,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:t?"text-gray-900":"text-gray-500",children:t?j(t):l})]}),h&&e.jsxs("div",{className:"absolute z-50 mt-1 rounded-md border border-gray-200 bg-white p-4 shadow-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{type:"button",onClick:Q,className:"p-1 hover:bg-gray-100 rounded",children:e.jsx(Po,{className:"h-4 w-4"})}),e.jsxs("span",{className:"font-medium",children:[q[S]," ",C]}),e.jsx("button",{type:"button",onClick:K,className:"p-1 hover:bg-gray-100 rounded",children:e.jsx(Da,{className:"h-4 w-4"})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map($=>e.jsx("div",{className:"h-8 w-8 flex items-center justify-center text-xs text-gray-500 font-medium",children:$},$))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:A.map(($,re)=>e.jsx("div",{className:"h-8 w-8",children:$&&e.jsx("button",{type:"button",onClick:()=>W($),disabled:M($),className:z("h-full w-full rounded text-sm",H($)?"bg-blue-600 text-white":I($)?"bg-blue-100 text-blue-600":"hover:bg-gray-100",M($)&&"opacity-50 cursor-not-allowed"),children:$})},re))}),t&&e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsx(T,{type:"button",variant:"outline",size:"sm",onClick:()=>{a(null),x(!1)},className:"w-full",children:"Clear"})})]})]})}function iN({startDate:t,endDate:a,onChange:l,disabled:r=!1,className:o}){return e.jsxs("div",{className:z("flex items-center gap-2",o),children:[e.jsx(Xd,{value:t,onChange:d=>l(d,a||null),placeholder:"Start date",disabled:r,maxDate:a||void 0,className:"flex-1"}),e.jsx("span",{className:"text-gray-400",children:"to"}),e.jsx(Xd,{value:a,onChange:d=>l(t||null,d),placeholder:"End date",disabled:r,minDate:t||void 0,className:"flex-1"})]})}const LR=[{value:"",label:"All Severities"},{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"},{value:"critical",label:"Critical"}],qR=[{value:"",label:"All Statuses"},{value:"new",label:"New"},{value:"acknowledged",label:"Acknowledged"},{value:"in_progress",label:"In Progress"},{value:"escalated",label:"Escalated"},{value:"resolved",label:"Resolved"},{value:"closed",label:"Closed"}];function FR({filters:t,searchQuery:a,onSearchChange:l,onFilterChange:r,onClearFilters:o}){const[d,u]=b.useState(!1),[h,x]=b.useState(null),[g,y]=b.useState(null);return e.jsx(F,{children:e.jsxs(P,{className:"p-4",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[e.jsxs("div",{className:"relative flex-1 min-w-[200px] max-w-md",children:[e.jsx(gs,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),e.jsx(ue,{placeholder:"Search incidents...",value:a,onChange:p=>l(p.target.value),className:"pl-9"})]}),e.jsx(Me,{value:t.status||"",onChange:p=>r("status",p),options:qR,placeholder:"Status",className:"w-40"}),e.jsx(Me,{value:t.severity||"",onChange:p=>r("severity",p),options:LR,placeholder:"Severity",className:"w-40"}),e.jsxs(T,{variant:"outline",onClick:()=>u(!d),children:[e.jsx(mi,{className:"h-4 w-4"}),"More Filters"]})]}),d&&e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-[300px]",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date Range"}),e.jsx(iN,{startDate:h,endDate:g,onChange:(p,j)=>{x(p),y(j)}})]}),e.jsx("div",{className:"flex items-end gap-2",children:e.jsx(T,{variant:"outline",onClick:()=>{o(),x(null),y(null)},children:"Clear Filters"})})]})})]})})}const PR={left:"inset-y-0 left-0 h-full w-full max-w-md data-[state=open]:animate-slide-in-from-left",right:"inset-y-0 right-0 h-full w-full max-w-md data-[state=open]:animate-slide-in-from-right",top:"inset-x-0 top-0 w-full max-h-[80vh] data-[state=open]:animate-slide-in-from-top",bottom:"inset-x-0 bottom-0 w-full max-h-[80vh] data-[state=open]:animate-slide-in-from-bottom"};function ir({open:t,onClose:a,children:l,side:r="right",className:o}){return b.useEffect(()=>{const d=u=>{u.key==="Escape"&&a()};return t&&(document.addEventListener("keydown",d),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",d),document.body.style.overflow=""}},[t,a]),t?e.jsxs("div",{className:"fixed inset-0 z-50",children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 transition-opacity",onClick:a,"aria-hidden":"true"}),e.jsx("div",{className:z("fixed bg-white shadow-xl overflow-auto",PR[r],o),"data-state":t?"open":"closed",role:"dialog","aria-modal":"true",children:l})]}):null}function or({children:t,onClose:a,className:l}){return e.jsxs("div",{className:z("flex items-center justify-between p-6 border-b border-gray-200",l),children:[e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:t}),a&&e.jsxs(T,{variant:"ghost",size:"sm",onClick:a,className:"h-8 w-8 p-0",children:[e.jsx(Et,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})}function cr({children:t,className:a}){return e.jsx("div",{className:z("p-6 flex-1 overflow-auto",a),children:t})}function dr({children:t,className:a}){return e.jsx("div",{className:z("flex items-center justify-end gap-3 p-6 border-t border-gray-200",a),children:t})}const Dv={new:["acknowledged","in_progress","escalated"],acknowledged:["in_progress","escalated"],in_progress:["resolved","escalated"],escalated:["in_progress","resolved"],resolved:["closed","in_progress"],closed:[]},UR={low:"bg-green-100 text-green-800",medium:"bg-yellow-100 text-yellow-800",high:"bg-orange-100 text-orange-800",critical:"bg-red-100 text-red-800"},IR={new:"bg-blue-100 text-blue-800",acknowledged:"bg-yellow-100 text-yellow-800",in_progress:"bg-purple-100 text-purple-800",escalated:"bg-red-100 text-red-800",resolved:"bg-green-100 text-green-800",closed:"bg-gray-100 text-gray-800"};function VR({incident:t,open:a,onClose:l,onStatusUpdate:r}){const{hasRole:o}=Nt(),d=o("ssp_admin")||o("ssp_lead_tech");return t?e.jsxs(ir,{open:a,onClose:l,side:"right",children:[e.jsx(or,{onClose:l,children:"Incident Details"}),e.jsx(cr,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ee,{className:z("capitalize",UR[t.severity]),children:t.severity}),e.jsx(ee,{className:z("capitalize",IR[t.status]),children:Ta(t.status)}),t.slaBreached&&e.jsx(ee,{variant:"destructive",children:"SLA Breached"})]}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:t.title}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["ID: ",t.id]})]}),t.description&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Description"}),e.jsx("p",{className:"text-gray-900",children:t.description})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"School"}),e.jsx("p",{className:"text-gray-900",children:t.schoolName}),e.jsxs("p",{className:"text-sm text-gray-500",children:[t.countyName,", ",t.subCountyName]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Contact"}),e.jsx("p",{className:"text-gray-900",children:t.contactName}),e.jsx("p",{className:"text-sm text-gray-500",children:t.contactPhone})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Device"}),e.jsxs("p",{className:"text-gray-900",children:[t.deviceMake," ",t.deviceModel]}),e.jsx("p",{className:"text-sm text-gray-500",children:t.deviceCategory})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Serial / Asset Tag"}),e.jsx("p",{className:"text-gray-900",children:t.deviceSerial}),e.jsx("p",{className:"text-sm text-gray-500",children:t.deviceAssetTag})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Timeline"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Created"}),e.jsx("span",{className:"text-gray-900",children:st(t.createdAt)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Last Updated"}),e.jsx("span",{className:"text-gray-900",children:st(t.updatedAt)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"SLA Due"}),e.jsx("span",{className:z(t.slaBreached?"text-red-600 font-medium":"text-gray-900"),children:st(t.slaDueAt)})]})]})]}),Dv[t.status].length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Update Status"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Dv[t.status].map(u=>e.jsx(T,{variant:"outline",size:"sm",onClick:()=>r(t,u),children:Ta(u)},u))})]})]})}),e.jsxs(dr,{children:[e.jsx(T,{variant:"outline",onClick:l,children:"Close"}),d&&e.jsx(T,{children:"Create Work Order"})]})]}):null}function HR({open:t,onClose:a,formData:l,onFormChange:r,onSubmit:o,isLoading:d}){return e.jsxs(Ms,{open:t,onClose:a,className:"max-w-lg",children:[e.jsx(_s,{onClose:a,children:"Create New Incident"}),e.jsx(Ts,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Device ID *"}),e.jsx(ue,{value:l.deviceId,onChange:u=>r({...l,deviceId:u.target.value}),placeholder:"Enter device ID"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),e.jsx(ue,{value:l.title,onChange:u=>r({...l,title:u.target.value}),placeholder:"Brief description of the issue"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),e.jsx(Rt,{value:l.description,onChange:u=>r({...l,description:u.target.value}),placeholder:"Detailed description of the issue",rows:3})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),e.jsx(Me,{value:l.category,onChange:u=>r({...l,category:u}),options:[{value:"hardware",label:"Hardware"},{value:"software",label:"Software"},{value:"network",label:"Network"},{value:"other",label:"Other"}]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Severity"}),e.jsx(Me,{value:l.severity,onChange:u=>r({...l,severity:u}),options:[{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"},{value:"critical",label:"Critical"}]})]})]})]})}),e.jsxs(Rs,{children:[e.jsx(T,{variant:"outline",onClick:a,children:"Cancel"}),e.jsx(T,{onClick:o,disabled:!l.deviceId||!l.title||d,children:d?"Creating...":"Create Incident"})]})]})}function BR(t={limit:50}){const[a,l]=b.useState(t),[r,o]=b.useState(""),d=b.useCallback((h,x)=>{l(g=>({...g,[h]:x||void 0}))},[]),u=b.useCallback(()=>{l(t),o("")},[t]);return{filters:a,searchQuery:r,setSearchQuery:o,handleFilterChange:d,resetFilters:u}}function $R(){const[t,a]=b.useState(null),[l,r]=b.useState(!1),[o,d]=b.useState("details"),[u,h]=b.useState(null),x=b.useCallback(N=>{a(N),r(!0),d("details")},[]),g=b.useCallback(()=>{r(!1)},[]),y=b.useCallback((N,v)=>{h({workOrder:N,newStatus:v})},[]),p=b.useCallback(()=>{h(null)},[]),j=b.useCallback(N=>{t&&a({...t,status:N})},[t]);return{selectedWorkOrder:t,showDetail:l,detailTab:o,statusUpdate:u,openDetail:x,closeDetail:g,setDetailTab:d,handleStatusUpdateRequest:y,clearStatusUpdate:p,updateSelectedWorkOrderStatus:j}}function KR(t={limit:50}){const[a,l]=vj(),r=b.useCallback(()=>{const y=a.get("status");return{...t,status:y}},[a,t]),[o,d]=b.useState(r),[u,h]=b.useState("");b.useEffect(()=>{const y=a.get("status");d(p=>({...p,status:y}))},[a]);const x=b.useCallback((y,p)=>{d(j=>({...j,[y]:p||void 0})),y==="status"&&(p?a.set("status",p):a.delete("status"),l(a,{replace:!0}))},[a,l]),g=b.useCallback(()=>{d(t),h(""),a.delete("status"),l(a,{replace:!0})},[t,a,l]);return{filters:o,searchQuery:u,setSearchQuery:h,handleFilterChange:x,resetFilters:g}}const Wd="incidents";function QR(t={}){return Se({queryKey:[Wd,t],queryFn:()=>de.get("/incidents",t),staleTime:3e4})}function GR(){const t=_e();return Re({mutationFn:a=>de.post("/incidents",a),onSuccess:()=>{t.invalidateQueries({queryKey:[Wd]}),xt.success("Incident Created","The incident has been reported successfully")}})}function YR(){const t=_e();return Re({mutationFn:({id:a,status:l})=>de.patch(`/incidents/${a}/status`,{status:l}),onSuccess:a=>{t.invalidateQueries({queryKey:[Wd]}),t.setQueryData([Wd,a.id],a),xt.success("Status Updated",`Incident status changed to ${a.status.replace("_"," ")}`)}})}const XR={low:"bg-green-100 text-green-800",medium:"bg-yellow-100 text-yellow-800",high:"bg-orange-100 text-orange-800",critical:"bg-red-100 text-red-800"},WR={new:"bg-blue-100 text-blue-800",acknowledged:"bg-yellow-100 text-yellow-800",in_progress:"bg-purple-100 text-purple-800",escalated:"bg-red-100 text-red-800",resolved:"bg-green-100 text-green-800",closed:"bg-gray-100 text-gray-800"};function Ev(){const[t,a]=vj(),{filters:l,searchQuery:r,setSearchQuery:o,handleFilterChange:d,resetFilters:u}=KR(),[h,x]=b.useState(null),[g,y]=b.useState(!1),[p,j]=b.useState(!1),[N,v]=b.useState({deviceId:"",title:"",description:"",category:"hardware",severity:"medium"}),[C,S]=b.useState(null),{data:_,isLoading:E,error:A}=QR({...l,q:r||void 0}),M=GR(),H=YR();b.useEffect(()=>{t.get("action")==="create"&&(j(!0),t.delete("action"),a(t,{replace:!0}))},[t,a]);const I=b.useMemo(()=>[gu(),{accessorKey:"title",header:({column:q})=>e.jsx(ns,{column:q,children:"Title"}),cell:({row:q})=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-amber-50",children:e.jsx(We,{className:"h-4 w-4 text-amber-600"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"font-medium text-gray-900 truncate max-w-[300px]",children:q.original.title}),e.jsx("div",{className:"text-sm text-gray-500",children:q.original.schoolName})]})]})},{accessorKey:"severity",header:"Severity",cell:({row:q})=>e.jsx(ee,{className:z("capitalize",XR[q.original.severity]),children:q.original.severity})},{accessorKey:"status",header:"Status",cell:({row:q})=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ee,{className:z("capitalize",WR[q.original.status]),children:Ta(q.original.status)}),q.original.slaBreached&&e.jsx(ee,{variant:"destructive",className:"text-xs",children:"SLA Breached"})]})},{accessorKey:"deviceModel",header:"Device",cell:({row:q})=>e.jsxs("div",{className:"text-sm",children:[e.jsxs("div",{className:"font-medium",children:[q.original.deviceMake," ",q.original.deviceModel]}),e.jsx("div",{className:"text-gray-500",children:q.original.deviceSerial})]})},{accessorKey:"createdAt",header:({column:q})=>e.jsx(ns,{column:q,children:"Created"}),cell:({row:q})=>e.jsx("div",{className:"text-sm text-gray-500",children:Vo(q.original.createdAt)})},{id:"actions",cell:({row:q})=>e.jsx(T,{variant:"ghost",size:"sm",onClick:$=>{$.stopPropagation(),x(q.original),y(!0)},children:e.jsx(Da,{className:"h-4 w-4"})})}],[]),W=async()=>{try{await M.mutateAsync({deviceId:N.deviceId,title:N.title,description:N.description,category:N.category,severity:N.severity}),j(!1),v({deviceId:"",title:"",description:"",category:"hardware",severity:"medium"})}catch(q){console.error("Failed to create incident:",q)}},Q=async()=>{if(C)try{await H.mutateAsync({id:C.incident.id,status:C.newStatus}),S(null),h?.id===C.incident.id&&x({...h,status:C.newStatus})}catch(q){console.error("Failed to update status:",q)}},K=_?.items||[];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Incidents"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Manage device incidents and issues"})]}),e.jsxs(T,{onClick:()=>j(!0),children:[e.jsx(Tt,{className:"h-4 w-4"}),"Create Incident"]})]}),e.jsx(zR,{incidents:K}),e.jsx(FR,{filters:l,searchQuery:r,onSearchChange:o,onFilterChange:d,onClearFilters:u}),e.jsx(F,{children:e.jsx(P,{className:"p-0",children:A?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(Xa,{className:"h-12 w-12 text-red-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Failed to load incidents. Please try again."})]}):e.jsx(pl,{columns:I,data:K,isLoading:E,searchKey:"title",searchPlaceholder:"Search by title...",showRowSelection:!0,showColumnVisibility:!0,onRowClick:q=>{x(q),y(!0)},emptyMessage:"No incidents found"})})}),e.jsx(VR,{incident:h,open:g,onClose:()=>y(!1),onStatusUpdate:(q,$)=>S({incident:q,newStatus:$})}),e.jsx(HR,{open:p,onClose:()=>j(!1),formData:N,onFormChange:v,onSubmit:W,isLoading:M.isPending}),e.jsx(mu,{open:!!C,onClose:()=>S(null),onConfirm:Q,title:"Update Incident Status",description:C?`Are you sure you want to change the status from "${Ta(C.incident.status)}" to "${Ta(C.newStatus)}"?`:"",confirmText:"Update Status",isLoading:H.isPending})]})}function ZR({workOrders:t}){const a=t.length,l=t.filter(d=>["assigned","in_repair","qa"].includes(d.status)).length,r=t.filter(d=>d.status==="completed"||d.status==="approved").length,o=t.filter(d=>d.status==="draft").length;return e.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[e.jsx(F,{className:"border-0 shadow-md overflow-hidden",children:e.jsxs(P,{className:"p-0",children:[e.jsxs("div",{className:"flex items-center gap-4 p-4",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-blue-500 to-cyan-600 shadow-lg shadow-blue-500/20",children:e.jsx(Ge,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:a}),e.jsx("div",{className:"text-sm text-gray-500",children:"Total Work Orders"})]})]}),e.jsx("div",{className:"h-1 bg-gradient-to-r from-blue-400 to-cyan-500"})]})}),e.jsx(F,{className:"border-0 shadow-md overflow-hidden",children:e.jsxs(P,{className:"p-0",children:[e.jsxs("div",{className:"flex items-center gap-4 p-4",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-amber-500 to-yellow-600 shadow-lg shadow-amber-500/20",children:e.jsx(it,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:l}),e.jsx("div",{className:"text-sm text-gray-500",children:"In Progress"})]})]}),e.jsx("div",{className:"h-1 bg-gradient-to-r from-amber-400 to-yellow-500"})]})}),e.jsx(F,{className:"border-0 shadow-md overflow-hidden",children:e.jsxs(P,{className:"p-0",children:[e.jsxs("div",{className:"flex items-center gap-4 p-4",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-emerald-500 to-green-600 shadow-lg shadow-emerald-500/20",children:e.jsx(_t,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:r}),e.jsx("div",{className:"text-sm text-gray-500",children:"Completed"})]})]}),e.jsx("div",{className:"h-1 bg-gradient-to-r from-emerald-400 to-green-500"})]})}),e.jsx(F,{className:"border-0 shadow-md overflow-hidden",children:e.jsxs(P,{className:"p-0",children:[e.jsxs("div",{className:"flex items-center gap-4 p-4",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-slate-400 to-gray-500 shadow-lg shadow-slate-500/20",children:e.jsx(rt,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:o}),e.jsx("div",{className:"text-sm text-gray-500",children:"Draft"})]})]}),e.jsx("div",{className:"h-1 bg-gradient-to-r from-slate-300 to-gray-400"})]})})]})}const JR=[{value:"",label:"All Statuses"},{value:"draft",label:"Draft"},{value:"assigned",label:"Assigned"},{value:"in_repair",label:"In Repair"},{value:"qa",label:"QA"},{value:"completed",label:"Completed"},{value:"approved",label:"Approved"}];function e8({filters:t,searchQuery:a,onSearchChange:l,onFilterChange:r}){return e.jsx(F,{className:"border-0 shadow-md",children:e.jsx(P,{className:"p-4",children:e.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[e.jsxs("div",{className:"relative flex-1 min-w-[200px] max-w-md",children:[e.jsx(gs,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),e.jsx(ue,{placeholder:"Search work orders...",value:a,onChange:o=>l(o.target.value),className:"pl-9 border-gray-200 focus:border-blue-400 focus:ring-blue-400"})]}),e.jsx(Me,{value:t.status||"",onChange:o=>r("status",o),options:JR,placeholder:"Status",className:"w-40"}),e.jsxs(T,{variant:"outline",className:"border-gray-200 hover:bg-blue-50 hover:text-blue-700 hover:border-blue-200",children:[e.jsx(mi,{className:"h-4 w-4"}),"More Filters"]})]})})})}function t8({bomItems:t}){return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:"Bill of Materials"}),e.jsxs(T,{size:"sm",children:[e.jsx(Tt,{className:"h-4 w-4"}),"Add Part"]})]}),t.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(rt,{className:"h-12 w-12 mx-auto mb-2 text-gray-300"}),e.jsx("p",{children:"No parts added yet"})]}):e.jsx("div",{className:"space-y-2",children:t.map(a=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:a.partName}),e.jsx("div",{className:"text-sm text-gray-500",children:a.partPuk})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-medium",children:[a.qtyUsed," / ",a.qtyPlanned]}),e.jsx("div",{className:"text-sm text-gray-500",children:"used / planned"})]})]},a.id))})]})}function s8({schedules:t}){return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:"Schedule"}),e.jsxs(T,{size:"sm",children:[e.jsx(Tt,{className:"h-4 w-4"}),"Add Schedule"]})]}),t.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(Ot,{className:"h-12 w-12 mx-auto mb-2 text-gray-300"}),e.jsx("p",{children:"No schedules set"})]}):e.jsx("div",{className:"space-y-2",children:t.map(a=>e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Ot,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"font-medium text-gray-900",children:a.scheduledStart?st(a.scheduledStart):"Not scheduled"})]}),a.notes&&e.jsx("p",{className:"text-sm text-gray-500",children:a.notes})]},a.id))})]})}function a8({deliverables:t}){return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:"Deliverables"}),e.jsxs(T,{size:"sm",children:[e.jsx(Tt,{className:"h-4 w-4"}),"Add Deliverable"]})]}),t.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(jC,{className:"h-12 w-12 mx-auto mb-2 text-gray-300"}),e.jsx("p",{children:"No deliverables defined"})]}):e.jsx("div",{className:"space-y-2",children:t.map(a=>e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"font-medium text-gray-900",children:a.title}),e.jsx(ee,{variant:a.status==="approved"?"success":a.status==="rejected"?"destructive":"outline",children:a.status})]}),a.description&&e.jsx("p",{className:"text-sm text-gray-500",children:a.description})]},a.id))})]})}const Ov={draft:["assigned"],assigned:["in_repair"],in_repair:["qa"],qa:["completed","in_repair"],completed:["approved","qa"],approved:[]},n8={draft:"bg-gray-100 text-gray-700 border border-gray-200",assigned:"bg-blue-100 text-blue-700 border border-blue-200",in_repair:"bg-amber-100 text-amber-700 border border-amber-200",qa:"bg-purple-100 text-purple-700 border border-purple-200",completed:"bg-emerald-100 text-emerald-700 border border-emerald-200",approved:"bg-cyan-100 text-cyan-700 border border-cyan-200"};function l8({workOrder:t,open:a,onClose:l,detailTab:r,onDetailTabChange:o,bomItems:d,schedules:u,deliverables:h,onStatusUpdate:x}){return t?e.jsxs(ir,{open:a,onClose:l,side:"right",children:[e.jsx(or,{onClose:l,children:"Work Order Details"}),e.jsx(cr,{className:"p-0",children:e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsxs("div",{className:"rounded-xl bg-gradient-to-r from-blue-600 via-cyan-600 to-blue-700 p-6 m-4 text-white shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-white/20 backdrop-blur-sm",children:e.jsx(Ge,{className:"h-5 w-5 text-white"})}),e.jsx(ee,{className:z("capitalize shadow-sm",n8[t.status]),children:Ta(t.status)}),e.jsx("span",{className:"text-sm text-blue-100 capitalize",children:t.taskType})]}),e.jsx("h2",{className:"text-lg font-bold",children:t.schoolName}),e.jsxs("p",{className:"text-sm text-blue-100",children:[t.deviceMake," ",t.deviceModel]})]}),e.jsxs(lr,{value:r,onValueChange:o,className:"flex-1 flex flex-col",children:[e.jsx("div",{className:"border-b border-gray-200 px-6",children:e.jsxs(rr,{className:"bg-transparent -mb-px",children:[e.jsx(kt,{value:"details",children:"Details"}),e.jsxs(kt,{value:"bom",children:["BOM (",d.length,")"]}),e.jsxs(kt,{value:"schedule",children:["Schedule (",u.length,")"]}),e.jsxs(kt,{value:"deliverables",children:["Deliverables (",h.length,")"]})]})}),e.jsxs("div",{className:"flex-1 overflow-auto",children:[e.jsx(At,{value:"details",className:"p-6 m-0",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"rounded-xl border border-gray-100 bg-white p-4 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-gradient-to-br from-blue-500 to-cyan-600",children:e.jsx(is,{className:"h-4 w-4 text-white"})}),e.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Device"})]}),e.jsxs("p",{className:"text-gray-900 font-medium",children:[t.deviceMake," ",t.deviceModel]}),e.jsx("p",{className:"text-sm text-gray-500 font-mono",children:t.deviceSerial})]}),e.jsxs("div",{className:"rounded-xl border border-gray-100 bg-white p-4 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-gradient-to-br from-teal-500 to-emerald-600",children:e.jsx(Pt,{className:"h-4 w-4 text-white"})}),e.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Contact"})]}),e.jsx("p",{className:"text-gray-900 font-medium",children:t.contactName}),e.jsx("p",{className:"text-sm text-gray-500",children:t.contactPhone})]})]}),e.jsxs("div",{className:"rounded-xl border border-gray-100 bg-white p-4 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-gradient-to-br from-emerald-500 to-green-600",children:e.jsx(tr,{className:"h-4 w-4 text-white"})}),e.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Estimated Cost"})]}),e.jsx("p",{className:"text-xl font-bold text-gray-900",children:t.costEstimateCents?Gx(t.costEstimateCents):"Not estimated"})]}),t.notes&&e.jsxs("div",{className:"rounded-xl border border-gray-100 bg-white p-4 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-gradient-to-br from-slate-400 to-gray-500",children:e.jsx(rs,{className:"h-4 w-4 text-white"})}),e.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Notes"})]}),e.jsx("p",{className:"text-gray-700",children:t.notes})]}),e.jsxs("div",{className:"rounded-xl border border-gray-100 bg-white p-4 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-gradient-to-br from-purple-500 to-violet-600",children:e.jsx(it,{className:"h-4 w-4 text-white"})}),e.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Timeline"})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between items-center py-1.5 border-b border-gray-50",children:[e.jsx("span",{className:"text-gray-500",children:"Created"}),e.jsx("span",{className:"text-gray-900 font-medium bg-gray-100 px-2 py-0.5 rounded",children:st(t.createdAt)})]}),e.jsxs("div",{className:"flex justify-between items-center py-1.5",children:[e.jsx("span",{className:"text-gray-500",children:"Last Updated"}),e.jsx("span",{className:"text-gray-900 font-medium bg-gray-100 px-2 py-0.5 rounded",children:st(t.updatedAt)})]})]})]}),Ov[t.status].length>0&&e.jsxs("div",{className:"rounded-xl bg-gradient-to-r from-blue-50 to-cyan-50 p-4 border border-blue-100",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Update Status"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Ov[t.status].map(g=>e.jsx(T,{variant:"outline",size:"sm",className:"border-blue-200 hover:bg-blue-100 hover:text-blue-700",onClick:()=>x(t,g),children:Ta(g)},g))})]})]})}),e.jsx(At,{value:"bom",className:"p-6 m-0",children:e.jsx(t8,{bomItems:d})}),e.jsx(At,{value:"schedule",className:"p-6 m-0",children:e.jsx(s8,{schedules:u})}),e.jsx(At,{value:"deliverables",className:"p-6 m-0",children:e.jsx(a8,{deliverables:h})})]})]})]})}),e.jsx(dr,{children:e.jsx(T,{variant:"outline",onClick:l,children:"Close"})})]}):null}function r8({open:t,onClose:a,formData:l,onFormChange:r,onSubmit:o,isLoading:d}){return e.jsxs(Ms,{open:t,onClose:a,className:"max-w-lg",children:[e.jsx(_s,{onClose:a,children:"Create New Work Order"}),e.jsx(Ts,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Device ID *"}),e.jsx(ue,{value:l.deviceId,onChange:u=>r({...l,deviceId:u.target.value}),placeholder:"Enter device ID"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Task Type *"}),e.jsx(Me,{value:l.taskType,onChange:u=>r({...l,taskType:u}),options:[{value:"repair",label:"Repair"},{value:"maintenance",label:"Maintenance"},{value:"installation",label:"Installation"},{value:"inspection",label:"Inspection"}]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Related Incident ID"}),e.jsx(ue,{value:l.incidentId,onChange:u=>r({...l,incidentId:u.target.value}),placeholder:"Optional - link to an incident"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),e.jsx(Rt,{value:l.notes,onChange:u=>r({...l,notes:u.target.value}),placeholder:"Additional notes",rows:3})]})]})}),e.jsxs(Rs,{children:[e.jsx(T,{variant:"outline",onClick:a,children:"Cancel"}),e.jsx(T,{onClick:o,disabled:!l.deviceId||d,children:d?"Creating...":"Create Work Order"})]})]})}const Jl="work-orders";function i8(t={}){return Se({queryKey:[Jl,t],queryFn:()=>de.get("/work-orders",t),staleTime:3e4})}function o8(){const t=_e();return Re({mutationFn:a=>de.post("/work-orders",a),onSuccess:()=>{t.invalidateQueries({queryKey:[Jl]}),xt.success("Work Order Created","The work order has been created successfully")}})}function c8(){const t=_e();return Re({mutationFn:({id:a,status:l})=>de.patch(`/work-orders/${a}/status`,{status:l}),onSuccess:a=>{t.invalidateQueries({queryKey:[Jl]}),t.setQueryData([Jl,a.id],a),xt.success("Status Updated",`Work order status changed to ${a.status.replace("_"," ")}`)}})}function d8(t){return Se({queryKey:[Jl,t,"bom"],queryFn:()=>de.get(`/work-orders/${t}/bom`),enabled:!!t})}function u8(t){return Se({queryKey:[Jl,t,"schedules"],queryFn:()=>de.get(`/work-orders/${t}/schedules`),enabled:!!t})}function m8(t){return Se({queryKey:[Jl,t,"deliverables"],queryFn:()=>de.get(`/work-orders/${t}/deliverables`),enabled:!!t})}const h8={draft:"bg-gray-100 text-gray-700 border border-gray-200",assigned:"bg-blue-100 text-blue-700 border border-blue-200",in_repair:"bg-amber-100 text-amber-700 border border-amber-200",qa:"bg-purple-100 text-purple-700 border border-purple-200",completed:"bg-emerald-100 text-emerald-700 border border-emerald-200",approved:"bg-cyan-100 text-cyan-700 border border-cyan-200"};function zv(){const{filters:t,searchQuery:a,setSearchQuery:l,handleFilterChange:r}=BR(),{selectedWorkOrder:o,showDetail:d,detailTab:u,statusUpdate:h,openDetail:x,closeDetail:g,setDetailTab:y,handleStatusUpdateRequest:p,clearStatusUpdate:j,updateSelectedWorkOrderStatus:N}=$R(),[v,C]=b.useState(!1),[S,_]=b.useState({deviceId:"",taskType:"repair",incidentId:"",notes:""}),{data:E,isLoading:A}=i8(t),M=o8(),H=c8(),{data:I}=d8(o?.id||""),{data:W}=u8(o?.id||""),{data:Q}=m8(o?.id||""),K=b.useMemo(()=>[gu(),{accessorKey:"id",header:({column:D})=>e.jsx(ns,{column:D,children:"Work Order"}),cell:({row:D})=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-gradient-to-br from-blue-500 to-cyan-600 shadow-md shadow-blue-500/20",children:e.jsx(Ge,{className:"h-4 w-4 text-white"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsxs("div",{className:"font-medium text-gray-900 truncate max-w-[200px]",children:[D.original.id.slice(0,8),"..."]}),e.jsx("div",{className:"text-sm text-gray-500",children:D.original.taskType})]})]})},{accessorKey:"status",header:"Status",cell:({row:D})=>e.jsx(ee,{className:z("capitalize",h8[D.original.status]),children:Ta(D.original.status)})},{accessorKey:"schoolName",header:"School",cell:({row:D})=>e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium",children:D.original.schoolName}),e.jsx("div",{className:"text-gray-500",children:D.original.contactName})]})},{accessorKey:"deviceModel",header:"Device",cell:({row:D})=>e.jsxs("div",{className:"text-sm",children:[e.jsxs("div",{className:"font-medium",children:[D.original.deviceMake," ",D.original.deviceModel]}),e.jsx("div",{className:"text-gray-500",children:D.original.deviceSerial})]})},{accessorKey:"costEstimateCents",header:"Est. Cost",cell:({row:D})=>e.jsx("div",{className:"text-sm font-medium",children:D.original.costEstimateCents?Gx(D.original.costEstimateCents):"-"})},{accessorKey:"createdAt",header:({column:D})=>e.jsx(ns,{column:D,children:"Created"}),cell:({row:D})=>e.jsx("div",{className:"text-sm text-gray-500",children:Vo(D.original.createdAt)})},{id:"actions",cell:({row:D})=>e.jsx(T,{variant:"ghost",size:"sm",onClick:X=>{X.stopPropagation(),x(D.original)},children:e.jsx(Da,{className:"h-4 w-4"})})}],[x]),q=async()=>{try{await M.mutateAsync({deviceId:S.deviceId,taskType:S.taskType,incidentId:S.incidentId||void 0,notes:S.notes||void 0}),C(!1),_({deviceId:"",taskType:"repair",incidentId:"",notes:""})}catch(D){console.error("Failed to create work order:",D)}},$=async()=>{if(h)try{await H.mutateAsync({id:h.workOrder.id,status:h.newStatus}),o?.id===h.workOrder.id&&N(h.newStatus),j()}catch(D){console.error("Failed to update status:",D)}},re=E?.items||[],le=I?.items||[],xe=W?.items||[],me=Q?.items||[];return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"rounded-xl bg-gradient-to-r from-blue-600 via-cyan-600 to-blue-700 p-6 text-white shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex h-14 w-14 items-center justify-center rounded-xl bg-white/20 backdrop-blur-sm",children:e.jsx(Ge,{className:"h-7 w-7 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Work Orders"}),e.jsx("p",{className:"text-blue-100",children:"Manage repair work orders and assignments"})]})]}),e.jsx(Nx,{permissions:["workorder:create"],children:e.jsxs(T,{onClick:()=>C(!0),className:"bg-white text-blue-700 hover:bg-blue-50",children:[e.jsx(Tt,{className:"h-4 w-4"}),"Create Work Order"]})})]})}),e.jsx(ZR,{workOrders:re}),e.jsx(e8,{filters:t,searchQuery:a,onSearchChange:l,onFilterChange:r}),e.jsx(F,{children:e.jsx(P,{className:"p-0",children:e.jsx(pl,{columns:K,data:re,isLoading:A,searchKey:"id",searchPlaceholder:"Search by ID...",showRowSelection:!0,showColumnVisibility:!0,onRowClick:x,emptyMessage:"No work orders found"})})}),e.jsx(l8,{workOrder:o,open:d,onClose:g,detailTab:u,onDetailTabChange:y,bomItems:le,schedules:xe,deliverables:me,onStatusUpdate:p}),e.jsx(r8,{open:v,onClose:()=>C(!1),formData:S,onFormChange:_,onSubmit:q,isLoading:M.isPending}),e.jsx(mu,{open:!!h,onClose:j,onConfirm:$,title:"Update Work Order Status",description:h?`Are you sure you want to change the status from "${Ta(h.workOrder.status)}" to "${Ta(h.newStatus)}"?`:"",confirmText:"Update Status",isLoading:H.isPending})]})}const Lo={demo:"Demo",survey:"Site Survey",procurement:"Procurement",install:"Installation",integrate:"Integration",commission:"Commissioning",ops:"Operations",assessment:"Assessment",deployment:"Deployment",verification:"Verification",onboarding:"Onboarding",active:"Active",renewal:"Renewal",intake:"Intake",diagnosis:"Diagnosis",repair:"Repair",testing:"Testing",handover:"Handover",planning:"Planning",delivery:"Delivery",certification:"Certification"},x8={pending:"bg-gray-100 text-gray-800",in_progress:"bg-blue-100 text-blue-800",blocked:"bg-red-100 text-red-800",done:"bg-green-100 text-green-800"},ml={full_installation:{type:"full_installation",label:"Full Installation",description:"Complete school technology installation",phases:["demo","survey","procurement","install","integrate","commission","ops"],defaultPhase:"demo"},device_refresh:{type:"device_refresh",label:"Device Refresh",description:"Upgrade or replace existing devices",phases:["assessment","procurement","deployment","verification"],defaultPhase:"assessment"},support:{type:"support",label:"Support",description:"Ongoing technical support contract",phases:["onboarding","active","renewal"],defaultPhase:"onboarding"},repair:{type:"repair",label:"Repair",description:"Device repair workflow",phases:["intake","diagnosis","repair","testing","handover"],defaultPhase:"intake"},training:{type:"training",label:"Training",description:"Staff training program",phases:["planning","delivery","assessment","certification"],defaultPhase:"planning"}},Mx=["full_installation","device_refresh","support","repair","training"],Lv={full_installation:{bg:"bg-purple-50",text:"text-purple-600",icon:"purple"},device_refresh:{bg:"bg-blue-50",text:"text-blue-600",icon:"blue"},support:{bg:"bg-green-50",text:"text-green-600",icon:"green"},repair:{bg:"bg-orange-50",text:"text-orange-600",icon:"orange"},training:{bg:"bg-indigo-50",text:"text-indigo-600",icon:"indigo"}};function f8(t){return ml[t]?.phases||ml.full_installation.phases}function g8({project:t,phases:a}){const l=f8(t.projectType);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:"Project Phases"}),e.jsxs(T,{size:"sm",children:[e.jsx(Tt,{className:"h-4 w-4"}),"Add Phase"]})]}),e.jsx("div",{className:"space-y-3",children:l.map((r,o)=>{const d=a.find(h=>h.phaseType===r),u=t.currentPhase===r;return e.jsxs("div",{className:z("relative flex items-start gap-4 p-3 rounded-lg border",u?"border-blue-200 bg-blue-50":"border-gray-200 bg-white"),children:[e.jsx("div",{className:z("flex h-8 w-8 shrink-0 items-center justify-center rounded-full text-sm font-medium",d?.status==="done"?"bg-green-100 text-green-800":d?.status==="in_progress"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-600"),children:d?.status==="done"?e.jsx(_t,{className:"h-5 w-5"}):o+1}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-gray-900",children:Lo[r]}),d&&e.jsx(ee,{className:z("text-xs",x8[d.status]),children:Ta(d.status)})]}),d&&e.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[d.startDate&&e.jsxs("span",{children:["Started: ",st(d.startDate)]}),d.endDate&&e.jsxs("span",{className:"ml-4",children:["Ended: ",st(d.endDate)]})]})]})]},r)})})]})}function p8({surveys:t}){return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:"Site Surveys"}),e.jsxs(T,{size:"sm",children:[e.jsx(Tt,{className:"h-4 w-4"}),"New Survey"]})]}),t.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(Do,{className:"h-12 w-12 mx-auto mb-2 text-gray-300"}),e.jsx("p",{children:"No surveys completed yet"})]}):e.jsx("div",{className:"space-y-2",children:t.map(a=>e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsxs("span",{className:"font-medium text-gray-900",children:["Survey ",a.id.slice(0,8)]}),e.jsx(ee,{variant:a.status==="approved"?"success":a.status==="submitted"?"default":"outline",children:a.status})]}),a.summary&&e.jsx("p",{className:"text-sm text-gray-500",children:a.summary}),a.conductedAt&&e.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Conducted: ",st(a.conductedAt)]})]},a.id))})]})}function oN({className:t,children:a,...l}){return e.jsx("div",{className:z("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...l,children:a})}function cN({className:t,children:a,...l}){return e.jsx("div",{className:z("flex h-full w-full items-center justify-center rounded-full bg-gray-100 text-gray-600 font-medium",t),...l,children:a})}const Fa="projects",y8="phases",v8="surveys",dN="team",pu="activities";function j8(t={}){return Se({queryKey:[Fa,t],queryFn:()=>de.get("/projects",t),staleTime:3e4})}function b8(){return Se({queryKey:[Fa,"counts"],queryFn:()=>de.get("/projects/counts"),staleTime:3e4})}function N8(){const t=_e();return Re({mutationFn:a=>de.post("/projects",a),onSuccess:()=>{t.invalidateQueries({queryKey:[Fa]})}})}function w8(t){return Se({queryKey:[Fa,t,y8],queryFn:()=>de.get(`/projects/${t}/phases`),enabled:!!t})}function S8(t){return Se({queryKey:[Fa,t,v8],queryFn:()=>de.get(`/projects/${t}/surveys`),enabled:!!t})}function uN(t){return Se({queryKey:[Fa,t,dN],queryFn:()=>de.get(`/projects/${t}/team`),enabled:!!t})}function C8(){const t=_e();return Re({mutationFn:({projectId:a,memberId:l})=>de.delete(`/projects/${a}/team/${l}`),onSuccess:(a,l)=>{t.invalidateQueries({queryKey:[Fa,l.projectId,dN]})}})}function mN(t,a={}){return Se({queryKey:[Fa,t,pu,a],queryFn:()=>de.get(`/projects/${t}/activities`,a),enabled:!!t})}function k8(){const t=_e();return Re({mutationFn:({projectId:a,data:l})=>de.post(`/projects/${a}/activities`,l),onSuccess:(a,l)=>{t.invalidateQueries({queryKey:[Fa,l.projectId,pu]})}})}function A8(){const t=_e();return Re({mutationFn:({activityId:a})=>de.delete(`/activities/${a}`),onSuccess:(a,l)=>{t.invalidateQueries({queryKey:[Fa,l.projectId,pu]})}})}function M8(){const t=_e();return Re({mutationFn:({activityId:a})=>de.post(`/activities/${a}/pin`),onSuccess:(a,l)=>{t.invalidateQueries({queryKey:[Fa,l.projectId,pu]})}})}const qv={owner:{label:"Owner",color:"bg-yellow-100 text-yellow-800",icon:e.jsx(cC,{className:"h-3 w-3"})},collaborator:{label:"Collaborator",color:"bg-blue-100 text-blue-800",icon:e.jsx(Q5,{className:"h-3 w-3"})},viewer:{label:"Viewer",color:"bg-gray-100 text-gray-800",icon:e.jsx(Io,{className:"h-3 w-3"})}};function _8({projectId:t,onAddMember:a,canEdit:l=!0}){const{data:r,isLoading:o,error:d}=uN(t),u=C8(),[h,x]=b.useState(null),g=async p=>{if(confirm("Are you sure you want to remove this team member?")){x(p);try{await u.mutateAsync({projectId:t,memberId:p})}finally{x(null)}}};if(o)return e.jsx("div",{className:"animate-pulse space-y-3",children:[1,2,3].map(p=>e.jsx("div",{className:"h-20 bg-gray-100 rounded-lg"},p))});if(d)return e.jsx("div",{className:"text-center py-8 text-red-500",children:"Failed to load team members"});const y=r?.members||[];return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-sm font-medium text-gray-700",children:["Team Members (",y.length,")"]}),l&&a&&e.jsxs(T,{size:"sm",onClick:a,children:[e.jsx(Tt,{className:"h-4 w-4 mr-1"}),"Add Member"]})]}),y.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(Pt,{className:"h-12 w-12 mx-auto mb-2 text-gray-300"}),e.jsx("p",{children:"No team members yet"}),l&&a&&e.jsx(T,{variant:"outline",size:"sm",className:"mt-2",onClick:a,children:"Add the first member"})]}):e.jsx("div",{className:"space-y-3",children:y.map(p=>e.jsx(T8,{member:p,canEdit:l,isRemoving:h===p.id,onRemove:()=>g(p.id)},p.id))})]})}function T8({member:t,canEdit:a,isRemoving:l,onRemove:r}){const o=qv[t.role]||qv.collaborator,d=t.userName.split(" ").map(u=>u[0]).join("").toUpperCase().slice(0,2);return e.jsx(F,{children:e.jsx(P,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(oN,{className:"h-10 w-10",children:e.jsx(cN,{className:"bg-blue-100 text-blue-600 text-sm",children:d||"?"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-gray-900 truncate",children:t.userName||"Unknown User"}),e.jsxs(ee,{className:o.color,variant:"secondary",children:[e.jsx("span",{className:"mr-1",children:o.icon}),o.label]})]}),t.userEmail&&e.jsx("p",{className:"text-sm text-gray-500 truncate",children:t.userEmail}),t.responsibility&&e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t.responsibility}),t.assignedPhases.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:t.assignedPhases.map(u=>e.jsx(ee,{variant:"outline",className:"text-xs",children:Lo[u]||u},u))}),e.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["Added ",st(t.assignedAt)]})]}),a&&e.jsx(T,{variant:"ghost",size:"sm",className:"text-gray-400 hover:text-red-500",onClick:r,disabled:l,children:e.jsx(Et,{className:"h-4 w-4"})})]})})})}const Fv={comment:{icon:e.jsx(qt,{className:"h-4 w-4"}),label:"Comment",color:"text-blue-600"},note:{icon:e.jsx(rs,{className:"h-4 w-4"}),label:"Note",color:"text-purple-600"},file_upload:{icon:e.jsx(Kx,{className:"h-4 w-4"}),label:"File Upload",color:"text-green-600"},status_change:{icon:e.jsx(ls,{className:"h-4 w-4"}),label:"Status Change",color:"text-orange-600"},assignment:{icon:e.jsx(Yt,{className:"h-4 w-4"}),label:"Assignment",color:"text-indigo-600"},work_order:{icon:e.jsx(Ge,{className:"h-4 w-4"}),label:"Work Order",color:"text-gray-600"},phase_transition:{icon:e.jsx(Pe,{className:"h-4 w-4"}),label:"Phase Transition",color:"text-teal-600"},mention:{icon:e.jsx(p4,{className:"h-4 w-4"}),label:"Mention",color:"text-pink-600"}};function R8({projectId:t,phaseId:a,canEdit:l=!0}){const[r,o]=b.useState(""),[d,u]=b.useState(!1),{data:h,isLoading:x,error:g}=mN(t,{phaseId:a,limit:50}),y=k8(),p=A8(),j=M8(),N=async()=>{if(!(!r.trim()||d)){u(!0);try{await y.mutateAsync({projectId:t,data:{content:r.trim(),phaseId:a,activityType:"comment"}}),o("")}finally{u(!1)}}},v=async A=>{confirm("Delete this activity?")&&await p.mutateAsync({activityId:A,projectId:t})},C=async A=>{await j.mutateAsync({activityId:A,projectId:t})};if(x)return e.jsx("div",{className:"animate-pulse space-y-3",children:[1,2,3].map(A=>e.jsx("div",{className:"h-24 bg-gray-100 rounded-lg"},A))});if(g)return e.jsx("div",{className:"text-center py-8 text-red-500",children:"Failed to load activities"});const S=h?.items||[],_=S.filter(A=>A.isPinned),E=S.filter(A=>!A.isPinned);return e.jsxs("div",{className:"space-y-4",children:[l&&e.jsx(F,{children:e.jsxs(P,{className:"p-4",children:[e.jsx(Rt,{placeholder:"Add a comment...",value:r,onChange:A=>o(A.target.value),className:"mb-2 resize-none",rows:3}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(T,{size:"sm",onClick:N,disabled:!r.trim()||d,children:[e.jsx(hi,{className:"h-4 w-4 mr-1"}),d?"Posting...":"Post Comment"]})})]})}),_.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("h4",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide flex items-center gap-1",children:[e.jsx(fx,{className:"h-3 w-3"}),"Pinned"]}),_.map(A=>e.jsx(Pv,{activity:A,projectId:t,canEdit:l,onDelete:()=>v(A.id),onTogglePin:()=>C(A.id)},A.id))]}),e.jsx("div",{className:"space-y-2",children:E.length===0&&_.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(qt,{className:"h-12 w-12 mx-auto mb-2 text-gray-300"}),e.jsx("p",{children:"No activity yet"}),e.jsx("p",{className:"text-sm",children:"Be the first to add a comment!"})]}):E.map(A=>e.jsx(Pv,{activity:A,projectId:t,canEdit:l,onDelete:()=>v(A.id),onTogglePin:()=>C(A.id)},A.id))})]})}function Pv({activity:t,canEdit:a,onDelete:l,onTogglePin:r}){const o=Fv[t.activityType]||Fv.comment,d=t.actorName.split(" ").map(h=>h[0]).join("").toUpperCase().slice(0,2),u=()=>{switch(t.activityType){case"status_change":const h=t.metadata;return e.jsxs("p",{className:"text-sm text-gray-600",children:["Changed status from ",e.jsx("strong",{children:h.from||"?"})," to"," ",e.jsx("strong",{children:h.to||"?"}),h.reason&&e.jsxs("span",{className:"text-gray-400",children:[" - ",h.reason]})]});case"assignment":const x=t.metadata;return e.jsxs("p",{className:"text-sm text-gray-600",children:[x.action==="added"?"Added":"Removed"," ",e.jsx("strong",{children:x.userName||"a team member"}),x.role&&e.jsxs("span",{children:[" as ",x.role]})]});case"work_order":const g=t.metadata;return e.jsxs("p",{className:"text-sm text-gray-600",children:[g.action==="created"?"Created":"Updated"," work order"," ",e.jsx("span",{className:"font-mono text-xs bg-gray-100 px-1 rounded",children:g.workOrderId})]});case"phase_transition":const y=t.metadata;return e.jsxs("p",{className:"text-sm text-gray-600",children:["Phase ",e.jsx("strong",{children:y.phaseType})," moved from"," ",e.jsx("strong",{children:y.from||"?"})," to"," ",e.jsx("strong",{children:y.to||"?"})]});default:return t.content&&e.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:t.content})}};return e.jsx(F,{className:t.isPinned?"border-yellow-300 bg-yellow-50":"",children:e.jsx(P,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(oN,{className:"h-8 w-8",children:e.jsx(cN,{className:"bg-gray-100 text-gray-600 text-xs",children:d||"?"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"font-medium text-gray-900 text-sm",children:t.actorName||"Unknown"}),e.jsx("span",{className:`${o.color}`,children:o.icon}),e.jsx(ee,{variant:"outline",className:"text-xs",children:o.label}),t.isPinned&&e.jsx(fx,{className:"h-3 w-3 text-yellow-600"}),e.jsx("span",{className:"text-xs text-gray-400 ml-auto",children:$s(new Date(t.createdAt),{addSuffix:!0})})]}),u(),t.editedAt&&e.jsx("span",{className:"text-xs text-gray-400",children:"(edited)"})]}),a&&(t.activityType==="comment"||t.activityType==="note")&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(T,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-gray-400 hover:text-yellow-600",onClick:r,title:t.isPinned?"Unpin":"Pin",children:t.isPinned?e.jsx(m5,{className:"h-4 w-4"}):e.jsx(fx,{className:"h-4 w-4"})}),e.jsx(T,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-gray-400 hover:text-red-500",onClick:l,title:"Delete",children:e.jsx(fl,{className:"h-4 w-4"})})]})]})})})}const D8={active:"bg-green-100 text-green-800",paused:"bg-yellow-100 text-yellow-800",completed:"bg-gray-100 text-gray-800"};function E8({project:t,open:a,onClose:l,detailTab:r,onDetailTabChange:o,phases:d,surveys:u}){const{data:h}=uN(t?.id||""),{data:x}=mN(t?.id||"",{limit:1}),g=h?.total||0,y=(x?.items?.length||0)>0;return t?e.jsxs(ir,{open:a,onClose:l,side:"right",children:[e.jsx(or,{onClose:l,children:"Project Details"}),e.jsx(cr,{className:"p-0",children:e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ee,{className:z("capitalize",D8[t.status]),children:t.status}),e.jsx(ee,{variant:"outline",children:ml[t.projectType]?.label||t.projectType})]}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:t.schoolId}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Current Phase: ",Lo[t.currentPhase]]})]}),e.jsxs(lr,{value:r,onValueChange:o,className:"flex-1 flex flex-col",children:[e.jsx("div",{className:"border-b border-gray-200 px-6",children:e.jsxs(rr,{className:"bg-transparent -mb-px",children:[e.jsxs(kt,{value:"phases",children:["Phases (",d.length,")"]}),e.jsxs(kt,{value:"team",children:["Team ",g>0&&`(${g})`]}),e.jsxs(kt,{value:"activity",children:["Activity ",y&&""]}),e.jsxs(kt,{value:"surveys",children:["Surveys (",u.length,")"]}),e.jsx(kt,{value:"details",children:"Details"})]})}),e.jsxs("div",{className:"flex-1 overflow-auto",children:[e.jsx(At,{value:"phases",className:"p-6 m-0",children:e.jsx(g8,{project:t,phases:d})}),e.jsx(At,{value:"team",className:"p-6 m-0",children:e.jsx(_8,{projectId:t.id,canEdit:!0})}),e.jsx(At,{value:"activity",className:"p-6 m-0",children:e.jsx(R8,{projectId:t.id,canEdit:!0})}),e.jsx(At,{value:"surveys",className:"p-6 m-0",children:e.jsx(p8,{surveys:u})}),e.jsx(At,{value:"details",className:"p-6 m-0",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Start Date"}),e.jsx("p",{className:"text-gray-900",children:t.startDate?st(t.startDate):"Not set"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Go-Live Date"}),e.jsx("p",{className:"text-gray-900",children:t.goLiveDate?st(t.goLiveDate):"Not set"})]})]}),t.notes&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Notes"}),e.jsx("p",{className:"text-gray-900",children:t.notes})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Timeline"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Created"}),e.jsx("span",{className:"text-gray-900",children:st(t.createdAt)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Last Updated"}),e.jsx("span",{className:"text-gray-900",children:st(t.updatedAt)})]})]})]})]})})]})]})]})}),e.jsx(dr,{children:e.jsx(T,{variant:"outline",onClick:l,children:"Close"})})]}):null}const O8=Mx.map(t=>({value:t,label:ml[t].label}));function z8({open:t,onClose:a,formData:l,onFormChange:r,onSubmit:o,isLoading:d}){const u=ml[l.projectType];return e.jsxs(Ms,{open:t,onClose:a,className:"max-w-lg",children:[e.jsx(_s,{onClose:a,children:"Create New Project"}),e.jsx(Ts,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Project Type *"}),e.jsx(Me,{value:l.projectType,onChange:h=>r({...l,projectType:h}),options:O8,placeholder:"Select project type"}),u&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:u.description})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"School ID *"}),e.jsx(ue,{value:l.schoolId,onChange:h=>r({...l,schoolId:h.target.value}),placeholder:"Enter school ID"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),e.jsx(Xd,{value:l.startDate,onChange:h=>r({...l,startDate:h}),placeholder:"Select start date"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Go-Live Date"}),e.jsx(Xd,{value:l.goLiveDate,onChange:h=>r({...l,goLiveDate:h}),placeholder:"Select go-live date"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),e.jsx(Rt,{value:l.notes,onChange:h=>r({...l,notes:h.target.value}),placeholder:"Additional notes",rows:3})]})]})}),e.jsxs(Rs,{children:[e.jsx(T,{variant:"outline",onClick:a,children:"Cancel"}),e.jsx(T,{onClick:o,disabled:!l.schoolId||!l.projectType||d,children:d?"Creating...":"Create Project"})]})]})}function L8({projects:t,projectType:a}){const l=a?ml[a]:null,r=t.length,o=t.filter(h=>h.status==="active").length,d=t.filter(h=>h.status==="paused").length,u=t.filter(h=>h.status==="completed").length;return e.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[e.jsx(F,{children:e.jsx(P,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-purple-50",children:e.jsx(Ea,{className:"h-5 w-5 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:r}),e.jsx("div",{className:"text-sm text-gray-500",children:l?l.label:"Total Projects"})]})]})})}),e.jsx(F,{children:e.jsx(P,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-green-50",children:e.jsx(G4,{className:"h-5 w-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:o}),e.jsx("div",{className:"text-sm text-gray-500",children:"Active"})]})]})})}),e.jsx(F,{children:e.jsx(P,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-yellow-50",children:e.jsx(K4,{className:"h-5 w-5 text-yellow-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:d}),e.jsx("div",{className:"text-sm text-gray-500",children:"Paused"})]})]})})}),e.jsx(F,{children:e.jsx(P,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-gray-100",children:e.jsx(_t,{className:"h-5 w-5 text-gray-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:u}),e.jsx("div",{className:"text-sm text-gray-500",children:"Completed"})]})]})})})]})}const q8=[{value:"",label:"All Statuses"},{value:"active",label:"Active"},{value:"paused",label:"Paused"},{value:"completed",label:"Completed"}],F8={active:"bg-green-100 text-green-800",paused:"bg-yellow-100 text-yellow-800",completed:"bg-gray-100 text-gray-800"},Uv={full_installation:Ea,device_refresh:ls,support:dl,repair:Ge,training:Ud};function Iv(){const[t,a]=b.useState("full_installation"),[l,r]=b.useState({limit:50}),[o,d]=b.useState(""),[u,h]=b.useState(null),[x,g]=b.useState(!1),[y,p]=b.useState("phases"),[j,N]=b.useState(!1),[v,C]=b.useState({schoolId:"",projectType:"full_installation",startDate:null,goLiveDate:null,notes:""}),{data:S,isLoading:_}=j8({...l,projectType:t}),{data:E}=b8(),A=N8(),{data:M}=w8(u?.id||""),{data:H}=S8(u?.id||""),I=b.useMemo(()=>[gu(),{accessorKey:"schoolId",header:({column:le})=>e.jsx(ns,{column:le,children:"School"}),cell:({row:le})=>{const xe=Lv[le.original.projectType],me=Uv[le.original.projectType]||Ea;return e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:z("flex h-8 w-8 items-center justify-center rounded-full",xe?.bg||"bg-purple-50"),children:e.jsx(me,{className:z("h-4 w-4",xe?.text||"text-purple-600")})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"font-medium text-gray-900 truncate max-w-[200px]",children:le.original.schoolId}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Current: ",Lo[le.original.currentPhase]]})]})]})}},{accessorKey:"status",header:"Status",cell:({row:le})=>e.jsx(ee,{className:z("capitalize",F8[le.original.status]),children:le.original.status})},{accessorKey:"currentPhase",header:"Current Phase",cell:({row:le})=>e.jsx("div",{className:"text-sm",children:e.jsx("div",{className:"font-medium",children:Lo[le.original.currentPhase]})})},{accessorKey:"startDate",header:"Start Date",cell:({row:le})=>e.jsx("div",{className:"text-sm text-gray-500",children:le.original.startDate?st(le.original.startDate):"-"})},{accessorKey:"goLiveDate",header:"Go-Live Date",cell:({row:le})=>e.jsx("div",{className:"text-sm text-gray-500",children:le.original.goLiveDate?st(le.original.goLiveDate):"-"})},{id:"actions",cell:({row:le})=>e.jsx(T,{variant:"ghost",size:"sm",onClick:xe=>{xe.stopPropagation(),h(le.original),g(!0),p("phases")},children:e.jsx(Da,{className:"h-4 w-4"})})}],[]),W=async()=>{try{await A.mutateAsync({schoolId:v.schoolId,projectType:v.projectType,startDate:v.startDate?.toISOString(),goLiveDate:v.goLiveDate?.toISOString(),notes:v.notes||void 0}),N(!1),C({schoolId:"",projectType:t,startDate:null,goLiveDate:null,notes:""})}catch(le){console.error("Failed to create project:",le)}},Q=()=>{C(le=>({...le,projectType:t})),N(!0)},K=S?.items||[],q=M?.items||[],$=H?.items||[],re=E||{};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Projects"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Manage school service projects and phases"})]}),e.jsxs(T,{onClick:Q,children:[e.jsx(Tt,{className:"h-4 w-4"}),"Create Project"]})]}),e.jsxs(lr,{value:t,onValueChange:le=>a(le),children:[e.jsx(rr,{className:"bg-white border border-gray-200 p-1 flex-wrap h-auto gap-1",children:Mx.map(le=>{const xe=ml[le],me=Lv[le],D=Uv[le],X=re[le]||0;return e.jsxs(kt,{value:le,className:"gap-2 data-[state=active]:bg-gray-100",children:[e.jsx("div",{className:z("flex h-6 w-6 items-center justify-center rounded-full",me.bg),children:e.jsx(D,{className:z("h-3.5 w-3.5",me.text)})}),e.jsx("span",{className:"hidden sm:inline",children:xe.label}),e.jsx(ee,{variant:"secondary",className:"ml-1 text-xs h-5 px-1.5",children:X})]},le)})}),Mx.map(le=>e.jsxs(At,{value:le,className:"space-y-6",children:[e.jsx(L8,{projects:K,projectType:le}),e.jsx(F,{children:e.jsx(P,{className:"p-4",children:e.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[e.jsxs("div",{className:"relative flex-1 min-w-[200px] max-w-md",children:[e.jsx(gs,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),e.jsx(ue,{placeholder:"Search projects...",value:o,onChange:xe=>d(xe.target.value),className:"pl-9"})]}),e.jsx(Me,{value:l.status||"",onChange:xe=>r(me=>({...me,status:xe||void 0})),options:q8,placeholder:"Status",className:"w-40"})]})})}),e.jsx(F,{children:e.jsx(P,{className:"p-0",children:e.jsx(pl,{columns:I,data:K,isLoading:_,searchKey:"schoolId",searchPlaceholder:"Search by school...",showRowSelection:!0,showColumnVisibility:!0,onRowClick:xe=>{h(xe),g(!0),p("phases")},emptyMessage:`No ${ml[le].label.toLowerCase()} projects found`})})})]},le))]}),e.jsx(E8,{project:u,open:x,onClose:()=>g(!1),detailTab:y,onDetailTabChange:p,phases:q,surveys:$}),e.jsx(z8,{open:j,onClose:()=>N(!1),formData:v,onFormChange:C,onSubmit:W,isLoading:A.isPending})]})}function P8({shops:t,totalStaff:a=0,lowStockCount:l=0}){const r=t.length,o=t.filter(h=>h.active).length,d=r-o,u=new Set(t.map(h=>h.countyCode)).size;return e.jsxs("div",{className:"grid gap-4 md:grid-cols-3 lg:grid-cols-6",children:[e.jsx(F,{children:e.jsx(P,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-orange-50",children:e.jsx(Oo,{className:"h-5 w-5 text-orange-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:r}),e.jsx("div",{className:"text-sm text-gray-500",children:"Total Shops"})]})]})})}),e.jsx(F,{children:e.jsx(P,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-green-50",children:e.jsx(_t,{className:"h-5 w-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:o}),e.jsx("div",{className:"text-sm text-gray-500",children:"Active"})]})]})})}),e.jsx(F,{children:e.jsx(P,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-gray-100",children:e.jsx(Oo,{className:"h-5 w-5 text-gray-500"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:d}),e.jsx("div",{className:"text-sm text-gray-500",children:"Inactive"})]})]})})}),e.jsx(F,{children:e.jsx(P,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-blue-50",children:e.jsx(Yt,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:a}),e.jsx("div",{className:"text-sm text-gray-500",children:"Total Staff"})]})]})})}),e.jsx(F,{children:e.jsx(P,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-purple-50",children:e.jsx(_a,{className:"h-5 w-5 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:u}),e.jsx("div",{className:"text-sm text-gray-500",children:"Counties"})]})]})})}),e.jsx(F,{children:e.jsx(P,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`flex h-10 w-10 items-center justify-center rounded-full ${l>0?"bg-red-50":"bg-green-50"}`,children:l>0?e.jsx(We,{className:"h-5 w-5 text-red-600"}):e.jsx(rt,{className:"h-5 w-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:l}),e.jsx("div",{className:"text-sm text-gray-500",children:"Low Stock"})]})]})})})]})}const U8={lead_technician:"Lead Technician",assistant_technician:"Assistant Technician",storekeeper:"Storekeeper"},I8={lead_technician:"bg-purple-100 text-purple-800",assistant_technician:"bg-blue-100 text-blue-800",storekeeper:"bg-green-100 text-green-800"};function V8({staff:t,onAddClick:a}){return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:"Staff Members"}),e.jsxs(T,{size:"sm",onClick:a,children:[e.jsx(Tt,{className:"h-4 w-4"}),"Add Staff"]})]}),t.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(Yt,{className:"h-12 w-12 mx-auto mb-2 text-gray-300"}),e.jsx("p",{children:"No staff members assigned"})]}):e.jsx("div",{className:"space-y-2",children:t.map(l=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-gray-200",children:e.jsx(Yt,{className:"h-5 w-5 text-gray-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:l.userId}),e.jsx("div",{className:"text-sm text-gray-500",children:l.phone})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ee,{className:z("text-xs",I8[l.role]),children:U8[l.role]}),l.active?e.jsx(_t,{className:"h-4 w-4 text-green-500"}):e.jsx(Uo,{className:"h-4 w-4 text-gray-400"})]})]},l.id))})]})}function H8({inventory:t,onAddClick:a}){return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:"Inventory"}),e.jsxs(T,{size:"sm",onClick:a,children:[e.jsx(Tt,{className:"h-4 w-4"}),"Add Stock"]})]}),t.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(rt,{className:"h-12 w-12 mx-auto mb-2 text-gray-300"}),e.jsx("p",{children:"No inventory items"})]}):e.jsx("div",{className:"space-y-2",children:t.map(l=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:l.partName}),e.jsx("div",{className:"text-sm text-gray-500",children:l.partPuk})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:z("font-medium",l.qtyAvailable<=l.reorderLevel?"text-red-600":"text-gray-900"),children:[l.qtyAvailable," / ",l.qtyOnHand]}),e.jsx("div",{className:"text-sm text-gray-500",children:"available / on hand"})]})]},l.id))})]})}const B8={open:"bg-blue-100 text-blue-800",in_progress:"bg-yellow-100 text-yellow-800",completed:"bg-green-100 text-green-800",cancelled:"bg-gray-100 text-gray-800"},$8={low:"bg-gray-100 text-gray-600",medium:"bg-blue-100 text-blue-600",high:"bg-orange-100 text-orange-600",urgent:"bg-red-100 text-red-600"};function K8({shop:t,open:a,onClose:l,detailTab:r,onDetailTabChange:o,staff:d,inventory:u,workOrders:h=[],onEditClick:x,onAddStaffClick:g,onAddInventoryClick:y}){if(!t)return null;const p=u.filter(N=>N.qtyAvailable<=N.reorderLevel),j=d.filter(N=>N.active);return e.jsxs(ir,{open:a,onClose:l,side:"right",className:"w-full max-w-xl",children:[e.jsx(or,{onClose:l,children:"Service Shop Details"}),e.jsx(cr,{className:"p-0",children:e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200 bg-gradient-to-r from-orange-50 to-amber-50",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ee,{className:t.active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",children:t.active?"Active":"Inactive"}),e.jsx(ee,{variant:"outline",className:"capitalize",children:t.coverageLevel.replace("_"," ")})]}),e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-orange-100",children:e.jsx(si,{className:"h-6 w-6 text-orange-600"})})]}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-1",children:t.name}),e.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-1",children:[e.jsx(_a,{className:"h-4 w-4"}),t.location||"No location specified"]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-4",children:[e.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:j.length}),e.jsx("div",{className:"text-xs text-gray-500",children:"Staff"})]}),e.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:u.length}),e.jsx("div",{className:"text-xs text-gray-500",children:"Items"})]}),e.jsxs("div",{className:`rounded-lg p-3 shadow-sm ${p.length>0?"bg-red-50":"bg-white"}`,children:[e.jsx("div",{className:`text-2xl font-bold ${p.length>0?"text-red-600":"text-gray-900"}`,children:p.length}),e.jsx("div",{className:"text-xs text-gray-500",children:"Low Stock"})]})]})]}),e.jsxs(lr,{value:r,onValueChange:o,className:"flex-1 flex flex-col",children:[e.jsx("div",{className:"border-b border-gray-200 px-6",children:e.jsxs(rr,{className:"bg-transparent -mb-px",children:[e.jsxs(kt,{value:"staff",children:["Staff (",d.length,")"]}),e.jsxs(kt,{value:"inventory",children:["Inventory (",u.length,")"]}),e.jsxs(kt,{value:"work-orders",children:["Work Orders (",h.length,")"]}),e.jsx(kt,{value:"details",children:"Details"})]})}),e.jsxs("div",{className:"flex-1 overflow-auto",children:[e.jsx(At,{value:"staff",className:"p-6 m-0",children:e.jsx(V8,{staff:d,onAddClick:g})}),e.jsx(At,{value:"inventory",className:"p-6 m-0",children:e.jsx(H8,{inventory:u,onAddClick:y})}),e.jsx(At,{value:"work-orders",className:"p-6 m-0",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("h3",{className:"font-medium text-gray-900",children:"Work Orders"})}),h.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(Ge,{className:"h-12 w-12 mx-auto mb-2 text-gray-300"}),e.jsx("p",{children:"No work orders assigned"})]}):e.jsx("div",{className:"space-y-2",children:h.map(N=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 cursor-pointer",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:N.title}),e.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-2",children:[e.jsx(it,{className:"h-3 w-3"}),st(N.createdAt)]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ee,{className:$8[N.priority]||"bg-gray-100",children:N.priority}),e.jsx(ee,{className:B8[N.status]||"bg-gray-100",children:N.status.replace("_"," ")})]})]},N.id))})]})}),e.jsx(At,{value:"details",className:"p-6 m-0",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-medium text-gray-500 mb-3 flex items-center gap-2",children:[e.jsx(_a,{className:"h-4 w-4"}),"Location"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"County"}),e.jsx("div",{className:"font-medium text-gray-900",children:t.countyName}),e.jsx("div",{className:"text-sm text-gray-500",children:t.countyCode})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Sub-County"}),e.jsx("div",{className:"font-medium text-gray-900",children:t.subCountyName||"-"}),e.jsx("div",{className:"text-sm text-gray-500",children:t.subCountyCode||"-"})]})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-medium text-gray-500 mb-3 flex items-center gap-2",children:[e.jsx(si,{className:"h-4 w-4"}),"Address"]}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-3",children:e.jsx("p",{className:"text-gray-900",children:t.location||"Not specified"})})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-medium text-gray-500 mb-3 flex items-center gap-2",children:[e.jsx(Ot,{className:"h-4 w-4"}),"Timeline"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[e.jsx("span",{className:"text-gray-500",children:"Created"}),e.jsx("span",{className:"font-medium text-gray-900",children:st(t.createdAt)})]}),e.jsxs("div",{className:"flex justify-between items-center py-2",children:[e.jsx("span",{className:"text-gray-500",children:"Last Updated"}),e.jsx("span",{className:"font-medium text-gray-900",children:st(t.updatedAt)})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-3",children:"Coverage Area"}),e.jsxs("div",{className:"bg-orange-50 rounded-lg p-4 border border-orange-100",children:[e.jsxs("div",{className:"flex items-center gap-2 text-orange-800",children:[e.jsx(_a,{className:"h-5 w-5"}),e.jsxs("span",{className:"font-medium capitalize",children:[t.coverageLevel.replace("_"," ")," Level Coverage"]})]}),e.jsxs("p",{className:"text-sm text-orange-600 mt-1",children:["This shop serves all schools within its ",t.coverageLevel.replace("_"," ")," area."]})]})]})]})})]})]})]})}),e.jsxs(dr,{children:[e.jsx(T,{variant:"outline",onClick:l,children:"Close"}),e.jsx(T,{onClick:x,children:"Edit Shop"})]})]})}function Q8({open:t,onClose:a,formData:l,onFormChange:r,onSubmit:o,isLoading:d}){return e.jsxs(Ms,{open:t,onClose:a,className:"max-w-lg",children:[e.jsx(_s,{onClose:a,children:"Create New Service Shop"}),e.jsx(Ts,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Shop Name *"}),e.jsx(ue,{value:l.name,onChange:u=>r({...l,name:u.target.value}),placeholder:"Enter shop name"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"County Code *"}),e.jsx(ue,{value:l.countyCode,onChange:u=>r({...l,countyCode:u.target.value}),placeholder:"e.g., 047"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"County Name"}),e.jsx(ue,{value:l.countyName||"",onChange:u=>r({...l,countyName:u.target.value}),placeholder:"e.g., Nairobi"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sub-County Code"}),e.jsx(ue,{value:l.subCountyCode||"",onChange:u=>r({...l,subCountyCode:u.target.value}),placeholder:"Optional"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sub-County Name"}),e.jsx(ue,{value:l.subCountyName||"",onChange:u=>r({...l,subCountyName:u.target.value}),placeholder:"Optional"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Coverage Level"}),e.jsx(Me,{value:l.coverageLevel||"county",onChange:u=>r({...l,coverageLevel:u}),options:[{value:"county",label:"County"},{value:"sub_county",label:"Sub-County"},{value:"region",label:"Region"}]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location / Address"}),e.jsx(ue,{value:l.location||"",onChange:u=>r({...l,location:u.target.value}),placeholder:"Physical address or location description"})]})]})}),e.jsxs(Rs,{children:[e.jsx(T,{variant:"outline",onClick:a,children:"Cancel"}),e.jsx(T,{onClick:o,disabled:!l.name||!l.countyCode||d,children:d?"Creating...":"Create Service Shop"})]})]})}function G8({shop:t,open:a,onClose:l,onSubmit:r,isLoading:o}){const[d,u]=b.useState({});b.useEffect(()=>{t&&u({name:t.name,countyCode:t.countyCode,countyName:t.countyName,subCountyCode:t.subCountyCode,subCountyName:t.subCountyName,coverageLevel:t.coverageLevel,location:t.location,active:t.active})},[t]);const h=()=>{t&&r(t.id,d)};return t?e.jsxs(Ms,{open:a,onClose:l,className:"max-w-lg",children:[e.jsx(_s,{onClose:l,children:"Edit Service Shop"}),e.jsx(Ts,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Shop Name *"}),e.jsx(ue,{value:d.name||"",onChange:x=>u({...d,name:x.target.value}),placeholder:"Enter shop name"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"County Code *"}),e.jsx(ue,{value:d.countyCode||"",onChange:x=>u({...d,countyCode:x.target.value}),placeholder:"e.g., 047"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"County Name"}),e.jsx(ue,{value:d.countyName||"",onChange:x=>u({...d,countyName:x.target.value}),placeholder:"e.g., Nairobi"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sub-County Code"}),e.jsx(ue,{value:d.subCountyCode||"",onChange:x=>u({...d,subCountyCode:x.target.value}),placeholder:"Optional"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sub-County Name"}),e.jsx(ue,{value:d.subCountyName||"",onChange:x=>u({...d,subCountyName:x.target.value}),placeholder:"Optional"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Coverage Level"}),e.jsx(Me,{value:d.coverageLevel||"county",onChange:x=>u({...d,coverageLevel:x}),options:[{value:"county",label:"County"},{value:"sub_county",label:"Sub-County"},{value:"region",label:"Region"}]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location / Address"}),e.jsx(ue,{value:d.location||"",onChange:x=>u({...d,location:x.target.value}),placeholder:"Physical address or location description"})]}),e.jsxs("div",{className:"flex items-center justify-between py-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Active Status"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Inactive shops won't receive new work orders"})]}),e.jsx(T,{type:"button",variant:"outline",size:"sm",onClick:()=>u({...d,active:!d.active}),className:d.active?"bg-green-50 border-green-200":"bg-gray-50",children:e.jsx(ee,{className:d.active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600",children:d.active?"Active":"Inactive"})})]})]})}),e.jsxs(Rs,{children:[e.jsx(T,{variant:"outline",onClick:l,children:"Cancel"}),e.jsx(T,{onClick:h,disabled:!d.name||!d.countyCode||o,children:o?"Saving...":"Save Changes"})]})]}):null}const Y8=[{value:"lead_technician",label:"Lead Technician"},{value:"assistant_technician",label:"Assistant Technician"},{value:"storekeeper",label:"Storekeeper"}];function X8({serviceShopId:t,open:a,onClose:l,onSubmit:r,isLoading:o}){const[d,u]=b.useState({userId:"",role:"assistant_technician",phone:"",active:!0}),h=()=>{r({serviceShopId:t,...d})},x=()=>{u({userId:"",role:"assistant_technician",phone:"",active:!0}),l()};return e.jsxs(Ms,{open:a,onClose:x,className:"max-w-md",children:[e.jsx(_s,{onClose:x,children:"Add Staff Member"}),e.jsx(Ts,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Staff Name / ID *"}),e.jsx(ue,{value:d.userId,onChange:g=>u({...d,userId:g.target.value}),placeholder:"Enter staff name or ID"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role *"}),e.jsx(Me,{value:d.role,onChange:g=>u({...d,role:g}),options:Y8})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),e.jsx(ue,{value:d.phone||"",onChange:g=>u({...d,phone:g.target.value}),placeholder:"+254..."})]})]})}),e.jsxs(Rs,{children:[e.jsx(T,{variant:"outline",onClick:x,children:"Cancel"}),e.jsx(T,{onClick:h,disabled:!d.userId||!d.role||o,children:o?"Adding...":"Add Staff"})]})]})}const yu="service-shops",hN="service-staff",xN="inventory";function W8(t={}){return Se({queryKey:[yu,t],queryFn:()=>de.get("/service-shops",t),staleTime:3e4})}function Z8(){const t=_e();return Re({mutationFn:a=>de.post("/service-shops",a),onSuccess:()=>{t.invalidateQueries({queryKey:[yu]})}})}function J8(){const t=_e();return Re({mutationFn:({id:a,data:l})=>de.patch(`/service-shops/${a}`,l),onSuccess:()=>{t.invalidateQueries({queryKey:[yu]})}})}function eD(){const t=_e();return Re({mutationFn:a=>de.delete(`/service-shops/${a}`),onSuccess:()=>{t.invalidateQueries({queryKey:[yu]})}})}function Vv(t={}){return Se({queryKey:[hN,t],queryFn:()=>de.get("/service-staff",t),staleTime:3e4})}function tD(){const t=_e();return Re({mutationFn:a=>de.post("/service-staff",a),onSuccess:()=>{t.invalidateQueries({queryKey:[hN]})}})}function Hv(t={}){return Se({queryKey:[xN,t],queryFn:()=>de.get("/inventory",t),staleTime:3e4})}function sD(){const t=_e();return Re({mutationFn:({serviceShopId:a,partId:l,qtyOnHand:r,reorderLevel:o})=>de.post("/inventory/upsert",{serviceShopId:a,partId:l,qtyOnHand:r,reorderLevel:o}),onSuccess:()=>{t.invalidateQueries({queryKey:[xN]})}})}function aD(t={}){return Se({queryKey:["parts",t],queryFn:()=>de.get("/parts",t),staleTime:6e4})}function nD({serviceShopId:t,open:a,onClose:l,onSubmit:r,isLoading:o}){const[d,u]=b.useState(""),[h,x]=b.useState(null),[g,y]=b.useState(0),[p,j]=b.useState(5),{data:N,isLoading:v}=aD({limit:20,active:!0}),C=b.useMemo(()=>{if(!N?.items)return[];if(!d)return N.items.slice(0,10);const E=d.toLowerCase();return N.items.filter(A=>A.name.toLowerCase().includes(E)||A.puk.toLowerCase().includes(E))},[N?.items,d]),S=()=>{h&&r({serviceShopId:t,partId:h.id,qtyOnHand:g,reorderLevel:p})},_=()=>{u(""),x(null),y(0),j(5),l()};return e.jsxs(Ms,{open:a,onClose:_,className:"max-w-lg",children:[e.jsx(_s,{onClose:_,children:"Add Inventory Item"}),e.jsx(Ts,{children:e.jsx("div",{className:"space-y-4",children:h?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-amber-50",children:e.jsx(rt,{className:"h-5 w-5 text-amber-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:h.name}),e.jsx("div",{className:"text-sm text-gray-500",children:h.sku})]})]}),e.jsx(T,{variant:"ghost",size:"sm",onClick:()=>x(null),children:"Change"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity on Hand *"}),e.jsx(ue,{type:"number",min:"0",value:g,onChange:E=>y(parseInt(E.target.value)||0)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reorder Level"}),e.jsx(ue,{type:"number",min:"0",value:p,onChange:E=>j(parseInt(E.target.value)||0)})]})]}),e.jsx("p",{className:"text-sm text-gray-500",children:"When quantity falls below the reorder level, a low stock alert will be shown."})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search Parts"}),e.jsxs("div",{className:"relative",children:[e.jsx(gs,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),e.jsx(ue,{value:d,onChange:E=>u(E.target.value),placeholder:"Search by name or SKU...",className:"pl-9"})]})]}),e.jsx("div",{className:"border rounded-lg max-h-60 overflow-auto",children:v?e.jsx("div",{className:"p-4 text-center text-gray-500",children:"Loading parts..."}):C.length===0?e.jsxs("div",{className:"p-4 text-center text-gray-500",children:[e.jsx(rt,{className:"h-8 w-8 mx-auto mb-2 text-gray-300"}),"No parts found"]}):e.jsx("div",{className:"divide-y",children:C.map(E=>e.jsxs("button",{type:"button",onClick:()=>x({id:E.id,name:E.name,sku:E.puk}),className:"w-full p-3 text-left hover:bg-gray-50 flex items-center gap-3",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-amber-50",children:e.jsx(rt,{className:"h-4 w-4 text-amber-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:E.name}),e.jsx("div",{className:"text-sm text-gray-500",children:E.puk})]})]},E.id))})})]})})}),e.jsxs(Rs,{children:[e.jsx(T,{variant:"outline",onClick:_,children:"Cancel"}),e.jsx(T,{onClick:S,disabled:!h||o,children:o?"Adding...":"Add to Inventory"})]})]})}const lD=[{value:"",label:"All Status"},{value:"true",label:"Active"},{value:"false",label:"Inactive"}],rD=[{value:"",label:"All Coverage"},{value:"county",label:"County"},{value:"sub_county",label:"Sub-County"},{value:"region",label:"Region"}];function iD({allStaff:t=[],allInventory:a=[],onEdit:l,onDelete:r,onViewDetail:o}){return[gu(),{accessorKey:"name",header:({column:d})=>e.jsx(ns,{column:d,children:"Shop Name"}),cell:({row:d})=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-orange-50",children:e.jsx(Oo,{className:"h-5 w-5 text-orange-600"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"font-medium text-gray-900 truncate max-w-[200px]",children:d.original.name}),e.jsx("div",{className:"text-sm text-gray-500",children:d.original.location||"No location"})]})]})},{accessorKey:"active",header:"Status",cell:({row:d})=>e.jsx(ee,{className:d.original.active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",children:d.original.active?"Active":"Inactive"})},{accessorKey:"countyName",header:"County",cell:({row:d})=>e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium",children:d.original.countyName}),e.jsx("div",{className:"text-gray-500",children:d.original.subCountyName||"-"})]})},{accessorKey:"coverageLevel",header:"Coverage",cell:({row:d})=>e.jsx(ee,{variant:"outline",className:"capitalize",children:d.original.coverageLevel.replace("_"," ")})},{id:"stats",header:"Resources",cell:({row:d})=>{const u=t.filter(x=>x.serviceShopId===d.original.id),h=a.filter(x=>x.serviceShopId===d.original.id);return e.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[e.jsxs("span",{className:"flex items-center gap-1 text-gray-600",children:[e.jsx(Yt,{className:"h-4 w-4"}),u.length]}),e.jsxs("span",{className:"flex items-center gap-1 text-gray-600",children:[e.jsx(rt,{className:"h-4 w-4"}),h.length]})]})}},{accessorKey:"createdAt",header:({column:d})=>e.jsx(ns,{column:d,children:"Created"}),cell:({row:d})=>e.jsx("div",{className:"text-sm text-gray-500",children:st(d.original.createdAt)})},{id:"actions",cell:({row:d})=>e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(T,{variant:"ghost",size:"sm",onClick:u=>{u.stopPropagation(),l(d.original)},children:e.jsx(sr,{className:"h-4 w-4"})}),e.jsx(T,{variant:"ghost",size:"sm",onClick:u=>{u.stopPropagation(),r(d.original)},children:e.jsx(fl,{className:"h-4 w-4 text-red-500"})}),e.jsx(T,{variant:"ghost",size:"sm",onClick:u=>{u.stopPropagation(),o(d.original)},children:e.jsx(Da,{className:"h-4 w-4"})})]})}]}const Bv={name:"",countyCode:"",countyName:"",subCountyCode:"",subCountyName:"",coverageLevel:"county",location:"",active:!0};function oD({onRefetch:t,onStaffRefetch:a,onInventoryRefetch:l}){const[r,o]=b.useState(null),[d,u]=b.useState("staff"),[h,x]=b.useState(!1),[g,y]=b.useState(!1),[p,j]=b.useState(!1),[N,v]=b.useState(!1),[C,S]=b.useState(!1),[_,E]=b.useState(!1),[A,M]=b.useState(Bv),H=Z8(),I=J8(),W=eD(),Q=tD(),K=sD(),q=b.useCallback(async()=>{try{await H.mutateAsync(A),Xe.success("Service shop created successfully"),y(!1),M(Bv),t()}catch{Xe.error("Failed to create service shop")}},[H,A,t]),$=b.useCallback(async(ne,ge)=>{try{await I.mutateAsync({id:ne,data:ge}),Xe.success("Service shop updated successfully"),j(!1),o(null),t()}catch{Xe.error("Failed to update service shop")}},[I,t]),re=b.useCallback(async()=>{if(r)try{await W.mutateAsync(r.id),Xe.success("Service shop deleted successfully"),v(!1),o(null),t()}catch{Xe.error("Failed to delete service shop")}},[W,r,t]),le=b.useCallback(async ne=>{try{await Q.mutateAsync(ne),Xe.success("Staff member added successfully"),S(!1),a?.()}catch{Xe.error("Failed to add staff member")}},[Q,a]),xe=b.useCallback(async ne=>{try{await K.mutateAsync(ne),Xe.success("Inventory item added successfully"),E(!1),l?.()}catch{Xe.error("Failed to add inventory item")}},[K,l]),me=b.useCallback(ne=>{o(ne),j(!0)},[]),D=b.useCallback(ne=>{o(ne),v(!0)},[]),X=b.useCallback(ne=>{o(ne),x(!0),u("staff")},[]),Z=b.useCallback(ne=>{o(ne),x(!0),u("staff")},[]),be=b.useCallback(()=>{j(!1),o(null)},[]),ye=b.useCallback(()=>{v(!1),o(null)},[]),fe=b.useCallback(()=>{x(!1)},[]),Te=b.useCallback(()=>{x(!1),j(!0)},[]);return{selectedShop:r,setSelectedShop:o,detailTab:d,setDetailTab:u,showDetail:h,showCreateModal:g,setShowCreateModal:y,showEditModal:p,showDeleteModal:N,showAddStaffModal:C,setShowAddStaffModal:S,showAddInventoryModal:_,setShowAddInventoryModal:E,createForm:A,setCreateForm:M,isCreating:H.isPending,isUpdating:I.isPending,isDeleting:W.isPending,isAddingStaff:Q.isPending,isAddingInventory:K.isPending,handleCreateShop:q,handleUpdateShop:$,handleDeleteShop:re,handleAddStaff:le,handleAddInventory:xe,handleEditClick:me,handleDeleteClick:D,handleViewDetail:X,handleRowClick:Z,closeEditModal:be,closeDeleteModal:ye,closeDetail:fe,openEditFromDetail:Te}}function $v(){const[t,a]=b.useState({limit:50}),[l,r]=b.useState(""),[o,d]=b.useState(""),{data:u,isLoading:h,refetch:x}=W8(t),{data:g}=Vv({limit:1e3}),{data:y}=Hv({limit:1e3,lowStock:!0}),{selectedShop:p,detailTab:j,setDetailTab:N,showDetail:v,showCreateModal:C,setShowCreateModal:S,showEditModal:_,showDeleteModal:E,showAddStaffModal:A,setShowAddStaffModal:M,showAddInventoryModal:H,setShowAddInventoryModal:I,createForm:W,setCreateForm:Q,isCreating:K,isUpdating:q,isDeleting:$,isAddingStaff:re,isAddingInventory:le,handleCreateShop:xe,handleUpdateShop:me,handleDeleteShop:D,handleAddStaff:X,handleAddInventory:Z,handleEditClick:be,handleDeleteClick:ye,handleViewDetail:fe,handleRowClick:Te,closeEditModal:ne,closeDeleteModal:ge,closeDetail:Oe,openEditFromDetail:gt}=oD({onRefetch:x,onStaffRefetch:()=>Qe(),onInventoryRefetch:()=>bs()}),{data:Ze,refetch:Qe}=Vv({serviceShopId:p?.id}),{data:Ht,refetch:bs}=Hv({serviceShopId:p?.id}),Ns=b.useMemo(()=>{let es=u?.items||[];if(o&&(es=es.filter(Ut=>Ut.coverageLevel===o)),l){const Ut=l.toLowerCase();es=es.filter(Za=>Za.name.toLowerCase().includes(Ut)||Za.countyName.toLowerCase().includes(Ut)||Za.location?.toLowerCase().includes(Ut))}return es},[u?.items,o,l]),cs=b.useMemo(()=>iD({allStaff:g?.items,allInventory:y?.items,onEdit:be,onDelete:ye,onViewDetail:fe}),[g?.items,y?.items,be,ye,fe]),yl=Ns,Ks=Ze?.items||[],vl=Ht?.items||[],An=g?.items?.length||0,Wa=y?.items?.length||0;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Service Shops"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Manage service shops, staff, and inventory"})]}),e.jsxs(T,{onClick:()=>S(!0),children:[e.jsx(Tt,{className:"h-4 w-4"}),"Create Service Shop"]})]}),e.jsx(P8,{shops:yl,totalStaff:An,lowStockCount:Wa}),e.jsx(F,{children:e.jsx(P,{className:"p-4",children:e.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[e.jsxs("div",{className:"relative flex-1 min-w-[200px] max-w-md",children:[e.jsx(gs,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),e.jsx(ue,{placeholder:"Search shops by name, county, or location...",value:l,onChange:es=>r(es.target.value),className:"pl-9"})]}),e.jsx(Me,{value:t.active===void 0?"":String(t.active),onChange:es=>a(Ut=>({...Ut,active:es===""?void 0:es==="true"})),options:lD,placeholder:"Status",className:"w-32"}),e.jsx(Me,{value:o,onChange:es=>d(es),options:rD,placeholder:"Coverage",className:"w-36"})]})})}),e.jsx(F,{children:e.jsx(P,{className:"p-0",children:e.jsx(pl,{columns:cs,data:yl,isLoading:h,searchKey:"name",searchPlaceholder:"Search by name...",showRowSelection:!0,showColumnVisibility:!0,onRowClick:Te,emptyMessage:"No service shops found. Create your first service shop to get started."})})}),e.jsx(K8,{shop:p,open:v,onClose:Oe,detailTab:j,onDetailTabChange:N,staff:Ks,inventory:vl,onEditClick:gt,onAddStaffClick:()=>M(!0),onAddInventoryClick:()=>I(!0)}),e.jsx(Q8,{open:C,onClose:()=>S(!1),formData:W,onFormChange:Q,onSubmit:xe,isLoading:K}),e.jsx(G8,{shop:p,open:_,onClose:ne,onSubmit:me,isLoading:q}),e.jsx(mu,{open:E,onClose:ge,onConfirm:D,title:"Delete Service Shop",description:`Are you sure you want to delete "${p?.name}"? This will also remove all staff assignments and inventory. This action cannot be undone.`,confirmText:"Delete",isLoading:$,variant:"destructive"}),p&&e.jsx(X8,{serviceShopId:p.id,open:A,onClose:()=>M(!1),onSubmit:X,isLoading:re}),p&&e.jsx(nD,{serviceShopId:p.id,open:H,onClose:()=>I(!1),onSubmit:Z,isLoading:le})]})}const cD=[{value:"",label:"All Actions"},{value:"create",label:"Create"},{value:"update",label:"Update"},{value:"delete",label:"Delete"}],fN={create:"bg-emerald-100 text-emerald-700 border border-emerald-200",update:"bg-cyan-100 text-cyan-700 border border-cyan-200",delete:"bg-rose-100 text-rose-700 border border-rose-200"},dD={create:Tt,update:sr,delete:fl};function uD({onViewDetail:t}){return[{accessorKey:"createdAt",header:({column:a})=>e.jsx(ns,{column:a,children:"Timestamp"}),cell:({row:a})=>e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium text-gray-900",children:Vo(a.original.createdAt)}),e.jsx("div",{className:"text-gray-500",children:st(a.original.createdAt)})]})},{accessorKey:"action",header:"Action",cell:({row:a})=>{const l=dD[a.original.action];return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:z("flex h-8 w-8 items-center justify-center rounded-lg shadow-sm",a.original.action==="create"&&"bg-gradient-to-br from-emerald-500 to-green-600",a.original.action==="update"&&"bg-gradient-to-br from-cyan-500 to-blue-600",a.original.action==="delete"&&"bg-gradient-to-br from-rose-500 to-red-600"),children:e.jsx(l,{className:"h-4 w-4 text-white"})}),e.jsx(ee,{className:z("capitalize",fN[a.original.action]),children:a.original.action})]})}},{accessorKey:"entityType",header:"Entity",cell:({row:a})=>e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium text-gray-900 capitalize",children:a.original.entityType.replace(/_/g," ")}),e.jsx("div",{className:"text-gray-500 font-mono text-xs truncate max-w-[150px]",children:a.original.entityId})]})},{accessorKey:"userEmail",header:"User",cell:({row:a})=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-gradient-to-br from-slate-100 to-gray-200 shadow-sm",children:e.jsx(Pt,{className:"h-4 w-4 text-slate-600"})}),e.jsx("span",{className:"text-sm text-gray-900 truncate max-w-[150px] font-medium",children:a.original.userEmail})]})},{accessorKey:"ipAddress",header:"IP Address",cell:({row:a})=>e.jsx("span",{className:"text-sm text-gray-500 font-mono",children:a.original.ipAddress||"-"})},{id:"actions",cell:({row:a})=>e.jsx(T,{variant:"ghost",size:"sm",onClick:l=>{l.stopPropagation(),t(a.original)},children:e.jsx(Io,{className:"h-4 w-4"})})}]}function mD({logs:t}){const a=t.filter(o=>o.action==="create").length,l=t.filter(o=>o.action==="update").length,r=t.filter(o=>o.action==="delete").length;return e.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[e.jsx(F,{className:"border-0 shadow-md overflow-hidden",children:e.jsxs(P,{className:"p-0",children:[e.jsxs("div",{className:"flex items-center gap-4 p-4",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-slate-500 to-slate-700 shadow-lg shadow-slate-500/20",children:e.jsx(rs,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:t.length}),e.jsx("div",{className:"text-sm text-gray-500",children:"Total Events"})]})]}),e.jsx("div",{className:"h-1 bg-gradient-to-r from-slate-400 to-slate-600"})]})}),e.jsx(F,{className:"border-0 shadow-md overflow-hidden",children:e.jsxs(P,{className:"p-0",children:[e.jsxs("div",{className:"flex items-center gap-4 p-4",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-emerald-500 to-green-600 shadow-lg shadow-emerald-500/20",children:e.jsx(Tt,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:a}),e.jsx("div",{className:"text-sm text-gray-500",children:"Creates"})]})]}),e.jsx("div",{className:"h-1 bg-gradient-to-r from-emerald-400 to-green-500"})]})}),e.jsx(F,{className:"border-0 shadow-md overflow-hidden",children:e.jsxs(P,{className:"p-0",children:[e.jsxs("div",{className:"flex items-center gap-4 p-4",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-cyan-500 to-blue-600 shadow-lg shadow-cyan-500/20",children:e.jsx(sr,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:l}),e.jsx("div",{className:"text-sm text-gray-500",children:"Updates"})]})]}),e.jsx("div",{className:"h-1 bg-gradient-to-r from-cyan-400 to-blue-500"})]})}),e.jsx(F,{className:"border-0 shadow-md overflow-hidden",children:e.jsxs(P,{className:"p-0",children:[e.jsxs("div",{className:"flex items-center gap-4 p-4",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-rose-500 to-red-600 shadow-lg shadow-rose-500/20",children:e.jsx(fl,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:r}),e.jsx("div",{className:"text-sm text-gray-500",children:"Deletes"})]})]}),e.jsx("div",{className:"h-1 bg-gradient-to-r from-rose-400 to-red-500"})]})})]})}function hD({log:t,open:a,onClose:l}){return e.jsxs(ir,{open:a,onClose:l,side:"right",children:[e.jsx(or,{onClose:l,children:"Audit Log Details"}),e.jsx(cr,{children:t&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"rounded-xl bg-gradient-to-r from-slate-100 to-gray-100 p-4 border border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(ee,{className:z("capitalize shadow-sm",fN[t.action]),children:t.action}),e.jsx("span",{className:"text-sm text-gray-600 capitalize font-medium",children:t.entityType.replace(/_/g," ")})]}),e.jsxs("h2",{className:"text-lg font-bold text-gray-900",children:[t.action.charAt(0).toUpperCase()+t.action.slice(1)," Operation"]}),e.jsxs("div",{className:"flex items-center gap-2 mt-2 text-sm text-gray-500",children:[e.jsx(it,{className:"h-4 w-4"}),st(t.createdAt)]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-gradient-to-r from-cyan-50 to-teal-50 border border-cyan-100 rounded-xl",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-cyan-500 to-teal-600 shadow-lg shadow-cyan-500/20",children:e.jsx(Pt,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-900",children:t.userEmail}),e.jsxs("div",{className:"text-sm text-gray-500",children:["User ID: ",e.jsx("span",{className:"font-mono text-xs",children:t.userId})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-gray-100 bg-white p-4 shadow-sm",children:[e.jsxs("h3",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[e.jsx(NC,{className:"h-4 w-4 text-slate-500"}),"Entity Information"]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between items-center py-1.5 border-b border-gray-50",children:[e.jsx("span",{className:"text-gray-500",children:"Type"}),e.jsx("span",{className:"text-gray-900 font-medium capitalize bg-gray-100 px-2 py-0.5 rounded",children:t.entityType.replace(/_/g," ")})]}),e.jsxs("div",{className:"flex justify-between items-center py-1.5",children:[e.jsx("span",{className:"text-gray-500",children:"ID"}),e.jsx("span",{className:"text-gray-900 font-mono text-xs bg-gray-100 px-2 py-0.5 rounded",children:t.entityId})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-gray-100 bg-white p-4 shadow-sm",children:[e.jsxs("h3",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[e.jsx(Vj,{className:"h-4 w-4 text-slate-500"}),"Request Information"]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between items-center py-1.5 border-b border-gray-50",children:[e.jsxs("span",{className:"text-gray-500 flex items-center gap-1.5",children:[e.jsx(Pj,{className:"h-3 w-3"})," IP Address"]}),e.jsx("span",{className:"text-gray-900 font-mono bg-gray-100 px-2 py-0.5 rounded",children:t.ipAddress||"-"})]}),e.jsxs("div",{className:"flex justify-between items-center py-1.5 border-b border-gray-50",children:[e.jsx("span",{className:"text-gray-500",children:"Request ID"}),e.jsx("span",{className:"text-gray-900 font-mono text-xs bg-gray-100 px-2 py-0.5 rounded",children:t.requestId||"-"})]}),t.userAgent&&e.jsxs("div",{className:"pt-1.5",children:[e.jsx("span",{className:"text-gray-500 block mb-1.5 text-xs font-medium",children:"User Agent"}),e.jsx("span",{className:"text-gray-700 text-xs break-all bg-gray-50 p-2 rounded block",children:t.userAgent})]})]})]}),(t.beforeState||t.afterState)&&e.jsxs("div",{className:"rounded-xl border border-gray-100 bg-white p-4 shadow-sm",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"State Changes"}),e.jsxs("div",{className:"space-y-3",children:[t.beforeState&&e.jsxs("div",{children:[e.jsxs("span",{className:"text-xs font-semibold text-rose-600 block mb-1.5 flex items-center gap-1",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-rose-500"}),"Before"]}),e.jsx("pre",{className:"text-xs bg-gradient-to-r from-rose-50 to-red-50 text-rose-800 p-3 rounded-lg overflow-auto max-h-40 border border-rose-100",children:JSON.stringify(t.beforeState,null,2)})]}),t.afterState&&e.jsxs("div",{children:[e.jsxs("span",{className:"text-xs font-semibold text-emerald-600 block mb-1.5 flex items-center gap-1",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-500"}),"After"]}),e.jsx("pre",{className:"text-xs bg-gradient-to-r from-emerald-50 to-green-50 text-emerald-800 p-3 rounded-lg overflow-auto max-h-40 border border-emerald-100",children:JSON.stringify(t.afterState,null,2)})]})]})]})]})}),e.jsx(dr,{children:e.jsx(T,{variant:"outline",onClick:l,children:"Close"})})]})}function xD({filters:t,onFilterChange:a,searchQuery:l,onSearchChange:r,entityTypeOptions:o,startDate:d,endDate:u,onDateChange:h,onClearFilters:x}){const[g,y]=b.useState(!1);return e.jsx(F,{className:"border-0 shadow-md",children:e.jsxs(P,{className:"p-4",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[e.jsxs("div",{className:"relative flex-1 min-w-[200px] max-w-md",children:[e.jsx(gs,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),e.jsx(ue,{placeholder:"Search by user or entity ID...",value:l,onChange:p=>r(p.target.value),className:"pl-9 border-gray-200 focus:border-slate-400 focus:ring-slate-400"})]}),e.jsx(Me,{value:t.action||"",onChange:p=>a("action",p),options:cD,placeholder:"Action",className:"w-36"}),e.jsx(Me,{value:t.entityType||"",onChange:p=>a("entityType",p),options:o,placeholder:"Entity Type",className:"w-44"}),e.jsxs(T,{variant:"outline",onClick:()=>y(!g),className:g?"bg-slate-100 border-slate-300":"",children:[e.jsx(mi,{className:"h-4 w-4"}),"More Filters"]})]}),g&&e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:e.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-[300px]",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1.5",children:"Date Range"}),e.jsx(iN,{startDate:d,endDate:u,onChange:(p,j)=>h(p,j)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1.5",children:"User ID"}),e.jsx(ue,{value:t.userId||"",onChange:p=>a("userId",p.target.value),placeholder:"Filter by user ID",className:"w-48 border-gray-200"})]}),e.jsx("div",{className:"flex items-end gap-2",children:e.jsx(T,{variant:"outline",onClick:x,className:"text-slate-600",children:"Clear Filters"})})]})})]})})}const gN="audit-logs";function fD(t={}){return Se({queryKey:[gN,t],queryFn:()=>de.get("/audit-logs",t),staleTime:3e4})}function gD(){return Se({queryKey:[gN,"entity-types"],queryFn:async()=>[{value:"incident",label:"Incidents"},{value:"work_order",label:"Work Orders"},{value:"program",label:"Programs"},{value:"phase",label:"Phases"},{value:"service_shop",label:"Service Shops"},{value:"service_staff",label:"Service Staff"},{value:"inventory",label:"Inventory"},{value:"school",label:"Schools"},{value:"device",label:"Devices"},{value:"attachment",label:"Attachments"}],staleTime:1/0})}async function pD(t){const a=await de.get("/audit-logs",{...t,limit:1e3}),l=["ID","Timestamp","User","Action","Entity Type","Entity ID","IP Address","Request ID"],r=a.items.map(d=>[d.id,d.createdAt,d.userEmail,d.action,d.entityType,d.entityId,d.ipAddress,d.requestId]),o=[l.join(","),...r.map(d=>d.map(u=>`"${String(u).replace(/"/g,'""')}"`).join(","))].join(`
`);return new Blob([o],{type:"text/csv;charset=utf-8;"})}function yD(){const[t,a]=b.useState({limit:50}),[l,r]=b.useState(""),[o,d]=b.useState(null),[u,h]=b.useState(null),[x,g]=b.useState(!1),[y,p]=b.useState(null),[j,N]=b.useState(!1),{data:v,isLoading:C}=fD({...t,startDate:o?.toISOString(),endDate:u?.toISOString()}),{data:S}=gD(),_=b.useMemo(()=>uD({onViewDetail:W=>{p(W),N(!0)}}),[]),E=(W,Q)=>{a(K=>({...K,[W]:Q||void 0}))},A=async()=>{g(!0);try{const W=await pD({...t,startDate:o?.toISOString(),endDate:u?.toISOString()}),Q=URL.createObjectURL(W),K=document.createElement("a");K.href=Q,K.download=`audit-logs-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(K),K.click(),document.body.removeChild(K),URL.revokeObjectURL(Q)}catch(W){console.error("Failed to export audit logs:",W)}finally{g(!1)}},M=()=>{a({limit:50}),r(""),d(null),h(null)},H=v?.items||[],I=[{value:"",label:"All Entity Types"},...S||[]];return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"rounded-xl bg-gradient-to-r from-slate-700 via-slate-800 to-slate-900 p-6 text-white shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-white/10 backdrop-blur",children:e.jsx(rs,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Audit Logs"}),e.jsx("p",{className:"text-slate-300",children:"View system activity and change history"})]})]}),e.jsxs(T,{onClick:A,disabled:x,variant:"outline",className:"border-white/20 bg-white/10 text-white hover:bg-white/20 hover:text-white",children:[x?e.jsx(jt,{className:"h-4 w-4 animate-spin"}):e.jsx(ni,{className:"h-4 w-4"}),x?"Exporting...":"Export CSV"]})]})}),e.jsx(mD,{logs:H}),e.jsx(xD,{filters:t,onFilterChange:E,searchQuery:l,onSearchChange:r,entityTypeOptions:I,startDate:o,endDate:u,onDateChange:(W,Q)=>{d(W),h(Q)},onClearFilters:M}),e.jsx(F,{className:"border-0 shadow-md overflow-hidden",children:e.jsx(P,{className:"p-0",children:e.jsx(pl,{columns:_,data:H,isLoading:C,showColumnVisibility:!0,onRowClick:W=>{p(W),N(!0)},emptyMessage:"No audit logs found"})})}),e.jsx(hD,{log:y,open:j,onClose:()=>N(!1)})]})}function ka({checked:t,onChange:a,disabled:l}){return e.jsx("button",{type:"button",onClick:()=>!l&&a(!t),disabled:l,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${t?"bg-blue-600":"bg-gray-200"} ${l?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${t?"translate-x-6":"translate-x-1"}`})})}function Aa({title:t,description:a,children:l}){return e.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 last:border-0",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:t}),a&&e.jsx("p",{className:"text-xs text-gray-500",children:a})]}),e.jsx("div",{children:l})]})}function wo({status:t,label:a}){const l={online:"bg-green-500",offline:"bg-red-500",warning:"bg-yellow-500"};return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`h-2 w-2 rounded-full ${l[t]}`}),e.jsx("span",{className:"text-sm text-gray-600",children:a})]})}function vD(){const[t,a]=b.useState("profile"),[l,r]=b.useState({name:"Admin User",email:"admin@essp.local",phone:"+254 700 000 000"}),[o,d]=b.useState(!1),[u,h]=b.useState(!1),[x,g]=b.useState({current:"",new:"",confirm:""}),[y,p]=b.useState({emailAlerts:!0,browserNotifications:!1,workOrderUpdates:!0,incidentAlerts:!0,syncNotifications:!1,weeklyReports:!0}),[j,N]=b.useState({theme:"light",sidebarCollapsed:!1,compactMode:!1,showAvatars:!0}),[v]=b.useState({api:"online",database:"online",redis:"online",nats:"online",minio:"online",ssot:"online"}),[C,S]=b.useState({autoSync:!0,syncInterval:30,syncOnStartup:!0,conflictResolution:"ssot_wins"}),[_]=b.useState(new Date().toISOString()),E=()=>{Xe.success("Profile updated successfully"),d(!1)},A=()=>{if(x.new!==x.confirm){Xe.error("Passwords do not match");return}if(x.new.length<8){Xe.error("Password must be at least 8 characters");return}Xe.success("Password changed successfully"),g({current:"",new:"",confirm:""})},M=()=>{localStorage.clear(),sessionStorage.clear(),Xe.success("Cache cleared successfully")},H=()=>{Xe.success("Data export started. You will receive an email when ready.")};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Settings"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Manage your account and application preferences"})]}),e.jsxs(lr,{value:t,onValueChange:a,className:"space-y-6",children:[e.jsxs(rr,{className:"bg-white border border-gray-200 p-1",children:[e.jsxs(kt,{value:"profile",className:"gap-2",children:[e.jsx(Pt,{className:"h-4 w-4"}),"Profile"]}),e.jsxs(kt,{value:"notifications",className:"gap-2",children:[e.jsx(wn,{className:"h-4 w-4"}),"Notifications"]}),e.jsxs(kt,{value:"appearance",className:"gap-2",children:[e.jsx(Fy,{className:"h-4 w-4"}),"Appearance"]}),e.jsxs(kt,{value:"system",className:"gap-2",children:[e.jsx(rl,{className:"h-4 w-4"}),"System"]}),e.jsxs(kt,{value:"security",className:"gap-2",children:[e.jsx(pa,{className:"h-4 w-4"}),"Security"]})]}),e.jsx(At,{value:"profile",className:"space-y-6",children:e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs(F,{children:[e.jsxs(ie,{children:[e.jsxs(oe,{className:"flex items-center gap-2",children:[e.jsx(Pt,{className:"h-5 w-5"}),"Personal Information"]}),e.jsx(fs,{children:"Update your personal details"})]}),e.jsx(P,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),o?e.jsx(ue,{value:l.name,onChange:I=>r({...l,name:I.target.value})}):e.jsx("p",{className:"text-sm text-gray-900 py-2",children:l.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),o?e.jsx(ue,{type:"email",value:l.email,onChange:I=>r({...l,email:I.target.value})}):e.jsx("p",{className:"text-sm text-gray-900 py-2",children:l.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),o?e.jsx(ue,{value:l.phone,onChange:I=>r({...l,phone:I.target.value})}):e.jsx("p",{className:"text-sm text-gray-900 py-2",children:l.phone})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),e.jsx(ee,{className:"bg-blue-100 text-blue-800",children:"SSP Admin"})]}),e.jsx("div",{className:"pt-2",children:o?e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(T,{onClick:E,children:[e.jsx(y5,{className:"h-4 w-4 mr-2"}),"Save Changes"]}),e.jsx(T,{variant:"outline",onClick:()=>d(!1),children:"Cancel"})]}):e.jsx(T,{variant:"outline",onClick:()=>d(!0),children:"Edit Profile"})})]})})]}),e.jsxs(F,{children:[e.jsxs(ie,{children:[e.jsxs(oe,{className:"flex items-center gap-2",children:[e.jsx(Ly,{className:"h-5 w-5"}),"Change Password"]}),e.jsx(fs,{children:"Update your account password"})]}),e.jsx(P,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(ue,{type:u?"text":"password",value:x.current,onChange:I=>g({...x,current:I.target.value}),placeholder:"Enter current password"}),e.jsx("button",{type:"button",onClick:()=>h(!u),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:u?e.jsx(pC,{className:"h-4 w-4"}):e.jsx(Io,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),e.jsx(ue,{type:u?"text":"password",value:x.new,onChange:I=>g({...x,new:I.target.value}),placeholder:"Enter new password"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm New Password"}),e.jsx(ue,{type:u?"text":"password",value:x.confirm,onChange:I=>g({...x,confirm:I.target.value}),placeholder:"Confirm new password"})]}),e.jsx(T,{onClick:A,disabled:!x.current||!x.new||!x.confirm,children:"Update Password"})]})})]})]})}),e.jsx(At,{value:"notifications",className:"space-y-6",children:e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs(F,{children:[e.jsxs(ie,{children:[e.jsxs(oe,{className:"flex items-center gap-2",children:[e.jsx(wn,{className:"h-5 w-5"}),"Notification Channels"]}),e.jsx(fs,{children:"Choose how you want to be notified"})]}),e.jsxs(P,{children:[e.jsx(Aa,{title:"Email Notifications",description:"Receive alerts via email",children:e.jsx(ka,{checked:y.emailAlerts,onChange:I=>p({...y,emailAlerts:I})})}),e.jsx(Aa,{title:"Browser Notifications",description:"Show desktop push notifications",children:e.jsx(ka,{checked:y.browserNotifications,onChange:I=>p({...y,browserNotifications:I})})}),e.jsx(Aa,{title:"Weekly Reports",description:"Receive weekly summary emails",children:e.jsx(ka,{checked:y.weeklyReports,onChange:I=>p({...y,weeklyReports:I})})})]})]}),e.jsxs(F,{children:[e.jsxs(ie,{children:[e.jsxs(oe,{className:"flex items-center gap-2",children:[e.jsx(ls,{className:"h-5 w-5"}),"Notification Types"]}),e.jsx(fs,{children:"Select which events trigger notifications"})]}),e.jsxs(P,{children:[e.jsx(Aa,{title:"Work Order Updates",description:"When work orders are created or updated",children:e.jsx(ka,{checked:y.workOrderUpdates,onChange:I=>p({...y,workOrderUpdates:I})})}),e.jsx(Aa,{title:"Incident Alerts",description:"When new incidents are reported",children:e.jsx(ka,{checked:y.incidentAlerts,onChange:I=>p({...y,incidentAlerts:I})})}),e.jsx(Aa,{title:"Sync Notifications",description:"When SSOT sync completes",children:e.jsx(ka,{checked:y.syncNotifications,onChange:I=>p({...y,syncNotifications:I})})})]})]})]})}),e.jsx(At,{value:"appearance",className:"space-y-6",children:e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs(F,{children:[e.jsxs(ie,{children:[e.jsxs(oe,{className:"flex items-center gap-2",children:[e.jsx(Fy,{className:"h-5 w-5"}),"Theme"]}),e.jsx(fs,{children:"Customize the look and feel"})]}),e.jsx(P,{children:e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Color Theme"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(T,{variant:j.theme==="light"?"default":"outline",size:"sm",onClick:()=>N({...j,theme:"light"}),className:"flex-1",children:[e.jsx(Bx,{className:"h-4 w-4 mr-2"}),"Light"]}),e.jsxs(T,{variant:j.theme==="dark"?"default":"outline",size:"sm",onClick:()=>N({...j,theme:"dark"}),className:"flex-1",children:[e.jsx(Hx,{className:"h-4 w-4 mr-2"}),"Dark"]}),e.jsxs(T,{variant:j.theme==="system"?"default":"outline",size:"sm",onClick:()=>N({...j,theme:"system"}),className:"flex-1",children:[e.jsx(li,{className:"h-4 w-4 mr-2"}),"System"]})]})]})})})]}),e.jsxs(F,{children:[e.jsxs(ie,{children:[e.jsxs(oe,{className:"flex items-center gap-2",children:[e.jsx(rl,{className:"h-5 w-5"}),"Layout"]}),e.jsx(fs,{children:"Adjust layout preferences"})]}),e.jsxs(P,{children:[e.jsx(Aa,{title:"Collapsed Sidebar",description:"Start with sidebar collapsed",children:e.jsx(ka,{checked:j.sidebarCollapsed,onChange:I=>N({...j,sidebarCollapsed:I})})}),e.jsx(Aa,{title:"Compact Mode",description:"Reduce spacing for more content",children:e.jsx(ka,{checked:j.compactMode,onChange:I=>N({...j,compactMode:I})})}),e.jsx(Aa,{title:"Show Avatars",description:"Display user avatars in lists",children:e.jsx(ka,{checked:j.showAvatars,onChange:I=>N({...j,showAvatars:I})})})]})]})]})}),e.jsx(At,{value:"system",className:"space-y-6",children:e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs(F,{children:[e.jsxs(ie,{children:[e.jsxs(oe,{className:"flex items-center gap-2",children:[e.jsx(Qj,{className:"h-5 w-5"}),"Service Status"]}),e.jsx(fs,{children:"Current status of system services"})]}),e.jsx(P,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(hx,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm",children:"API Server"})]}),e.jsx(wo,{status:v.api,label:"Online"})]}),e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Eo,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm",children:"Database"})]}),e.jsx(wo,{status:v.database,label:"Online"})]}),e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ls,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm",children:"Redis Cache"})]}),e.jsx(wo,{status:v.redis,label:"Online"})]}),e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(zy,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm",children:"NATS Messaging"})]}),e.jsx(wo,{status:v.nats,label:"Online"})]}),e.jsxs("div",{className:"flex items-center justify-between py-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(hx,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm",children:"MinIO Storage"})]}),e.jsx(wo,{status:v.minio,label:"Online"})]})]})})]}),e.jsxs(F,{children:[e.jsxs(ie,{children:[e.jsxs(oe,{className:"flex items-center gap-2",children:[e.jsx(rl,{className:"h-5 w-5"}),"System Information"]}),e.jsx(fs,{children:"Application version and environment"})]}),e.jsx(P,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Version"}),e.jsx("p",{className:"text-sm text-gray-900",children:"1.0.0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Environment"}),e.jsx(ee,{className:"bg-yellow-100 text-yellow-800 mt-1",children:"Development"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"API Endpoint"}),e.jsx("p",{className:"text-sm text-gray-900 font-mono bg-gray-50 p-2 rounded mt-1",children:"http://localhost:8080"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Tenant ID"}),e.jsx("p",{className:"text-sm text-gray-900 font-mono bg-gray-50 p-2 rounded mt-1",children:"demo-tenant"})]})]})})]}),e.jsxs(F,{children:[e.jsxs(ie,{children:[e.jsxs(oe,{className:"flex items-center gap-2",children:[e.jsx(zy,{className:"h-5 w-5"}),"SSOT Configuration"]}),e.jsx(fs,{children:"Single Source of Truth sync settings"})]}),e.jsxs(P,{children:[e.jsx(Aa,{title:"Auto Sync",description:"Automatically sync with SSOT",children:e.jsx(ka,{checked:C.autoSync,onChange:I=>S({...C,autoSync:I})})}),e.jsx(Aa,{title:"Sync on Startup",description:"Sync when dashboard loads",children:e.jsx(ka,{checked:C.syncOnStartup,onChange:I=>S({...C,syncOnStartup:I})})}),e.jsx("div",{className:"py-3 border-b border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Sync Interval"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Minutes between auto syncs"})]}),e.jsx(ue,{type:"number",min:5,max:120,value:C.syncInterval,onChange:I=>S({...C,syncInterval:parseInt(I.target.value)||30}),className:"w-20 text-center"})]})}),e.jsx("div",{className:"py-3",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[e.jsx(it,{className:"h-4 w-4"}),"Last sync: ",new Date(_).toLocaleString()]})})]})]}),e.jsxs(F,{children:[e.jsxs(ie,{children:[e.jsxs(oe,{className:"flex items-center gap-2",children:[e.jsx(Eo,{className:"h-5 w-5"}),"Data Management"]}),e.jsx(fs,{children:"Manage application data"})]}),e.jsx(P,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between py-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Export Data"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Download all your data as CSV"})]}),e.jsxs(T,{variant:"outline",size:"sm",onClick:H,children:[e.jsx(ni,{className:"h-4 w-4 mr-2"}),"Export"]})]}),e.jsxs("div",{className:"flex items-center justify-between py-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Clear Cache"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Clear local browser cache"})]}),e.jsxs(T,{variant:"outline",size:"sm",onClick:M,children:[e.jsx(fl,{className:"h-4 w-4 mr-2"}),"Clear"]})]})]})})]})]})}),e.jsx(At,{value:"security",className:"space-y-6",children:e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs(F,{children:[e.jsxs(ie,{children:[e.jsxs(oe,{className:"flex items-center gap-2",children:[e.jsx(pa,{className:"h-5 w-5"}),"Session Information"]}),e.jsx(fs,{children:"Current login session details"})]}),e.jsx(P,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Session ID"}),e.jsxs("p",{className:"text-xs text-gray-900 font-mono bg-gray-50 p-2 rounded mt-1 truncate",children:[Math.random().toString(36).substring(2,15),"..."]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Login Time"}),e.jsx("p",{className:"text-sm text-gray-900 mt-1",children:new Date().toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"IP Address"}),e.jsx("p",{className:"text-sm text-gray-900 font-mono mt-1",children:"127.0.0.1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"User Agent"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1 truncate",children:typeof navigator<"u"?navigator.userAgent.substring(0,50)+"...":"N/A"})]})]})})]}),e.jsxs(F,{children:[e.jsxs(ie,{children:[e.jsxs(oe,{className:"flex items-center gap-2",children:[e.jsx(Ly,{className:"h-5 w-5"}),"Security Settings"]}),e.jsx(fs,{children:"Manage account security"})]}),e.jsx(P,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Two-Factor Authentication"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Add an extra layer of security"})]}),e.jsx(ee,{className:"bg-gray-100 text-gray-600",children:"Coming Soon"})]}),e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Active Sessions"}),e.jsx("p",{className:"text-xs text-gray-500",children:"View and manage active sessions"})]}),e.jsx(T,{variant:"outline",size:"sm",disabled:!0,children:"View All"})]}),e.jsxs("div",{className:"flex items-center justify-between py-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Sign Out All Devices"}),e.jsx("p",{className:"text-xs text-gray-500",children:"End all active sessions"})]}),e.jsxs(T,{variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700",children:[e.jsx(Ij,{className:"h-4 w-4 mr-2"}),"Sign Out All"]})]})]})})]})]})})]})]})}function jD({school:t,onClose:a}){const{data:l,isLoading:r}=hf(t.schoolId),o=l?.profile;return e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:a}),e.jsx("div",{className:"relative bg-white rounded-lg shadow-lg w-full max-w-lg mx-4 max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-blue-50",children:e.jsx(Ft,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:t.name}),e.jsx("p",{className:"text-sm text-gray-500",children:"School Details"})]})]}),e.jsx(T,{variant:"ghost",size:"icon",onClick:a,children:e.jsx(Et,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(ea,{label:"School ID",value:t.schoolId}),e.jsx(ea,{label:"KNEC Code",value:t.knecCode}),e.jsx(ea,{label:"UIC",value:t.uic}),e.jsx(ea,{label:"Level",value:t.level}),e.jsx(ea,{label:"Type",value:t.type,capitalize:!0}),e.jsx(ea,{label:"Sex",value:t.sex,capitalize:!0}),e.jsx(ea,{label:"Accommodation",value:t.accommodation,capitalize:!0}),e.jsx(ea,{label:"Cluster",value:t.cluster})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"Location"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(ea,{label:"County",value:t.countyName}),e.jsx(ea,{label:"County Code",value:t.countyCode}),e.jsx(ea,{label:"Sub-County",value:t.subCountyName}),e.jsx(ea,{label:"Sub-County Code",value:t.subCountyCode})]}),(t.latitude||t.longitude)&&e.jsxs("div",{className:"mt-2 text-sm text-gray-500",children:["Coordinates: ",t.latitude?.toFixed(6),", ",t.longitude?.toFixed(6)]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"Metadata"}),e.jsx(ea,{label:"Last Updated",value:st(t.updatedAt)})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"flex h-6 w-6 items-center justify-center rounded-md bg-gradient-to-br from-indigo-500 to-purple-600 text-white",children:e.jsx(Jt,{className:"h-3 w-3"})}),e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"EdTech Assessment"})]}),r?e.jsxs("div",{className:"flex items-center justify-center py-4",children:[e.jsx(jt,{className:"h-5 w-5 text-indigo-600 animate-spin"}),e.jsx("span",{className:"ml-2 text-sm text-gray-500",children:"Loading assessment..."})]}):o?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[o.status==="completed"?e.jsxs(ee,{className:"bg-green-100 text-green-800 border-green-200",children:[e.jsx(_t,{className:"h-3 w-3 mr-1"}),"Complete"]}):e.jsx(ee,{className:"bg-amber-100 text-amber-800 border-amber-200",children:"Draft"}),o.completedAt&&e.jsxs("span",{className:"text-xs text-gray-500",children:["Completed ",st(o.completedAt)]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsxs("div",{className:"bg-indigo-50 rounded-lg p-2 text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-1",children:[e.jsx(is,{className:"h-3 w-3 text-indigo-600"}),e.jsx("span",{className:"text-lg font-bold text-indigo-600",children:o.totalDevices||0})]}),e.jsx("div",{className:"text-[10px] text-gray-500",children:"Devices"})]}),e.jsxs("div",{className:"bg-teal-50 rounded-lg p-2 text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-1",children:[e.jsx(Qj,{className:"h-3 w-3 text-teal-600"}),e.jsx("span",{className:"text-xs font-semibold text-teal-600 truncate",children:o.networkQuality||"-"})]}),e.jsx("div",{className:"text-[10px] text-gray-500",children:"Network"})]}),e.jsxs("div",{className:"bg-amber-50 rounded-lg p-2 text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-1",children:[e.jsx(Xa,{className:"h-3 w-3 text-amber-600"}),e.jsx("span",{className:"text-lg font-bold text-amber-600",children:o.biggestChallenges?.length||0})]}),e.jsx("div",{className:"text-[10px] text-gray-500",children:"Challenges"})]})]}),o.deviceTypes&&e.jsxs("div",{className:"bg-gray-50 rounded-lg p-2",children:[e.jsx("div",{className:"text-xs font-medium text-gray-700 mb-1",children:"Device Breakdown"}),e.jsxs("div",{className:"flex flex-wrap gap-1.5 text-xs",children:[o.deviceTypes.laptops>0&&e.jsxs("span",{className:"bg-white px-1.5 py-0.5 rounded border text-gray-600",children:["Laptops: ",o.deviceTypes.laptops]}),o.deviceTypes.chromebooks>0&&e.jsxs("span",{className:"bg-white px-1.5 py-0.5 rounded border text-gray-600",children:["Chromebooks: ",o.deviceTypes.chromebooks]}),o.deviceTypes.tablets>0&&e.jsxs("span",{className:"bg-white px-1.5 py-0.5 rounded border text-gray-600",children:["Tablets: ",o.deviceTypes.tablets]}),o.deviceTypes.desktops>0&&e.jsxs("span",{className:"bg-white px-1.5 py-0.5 rounded border text-gray-600",children:["Desktops: ",o.deviceTypes.desktops]})]})]}),o.priorityRanking?.[0]&&e.jsxs("div",{className:"flex items-center gap-2 text-xs bg-emerald-50 rounded-lg p-2",children:[e.jsx(sa,{className:"h-3 w-3 text-emerald-600"}),e.jsx("span",{className:"text-gray-600",children:"Top Priority:"}),e.jsx("span",{className:"font-medium text-emerald-700",children:o.priorityRanking[0]})]}),o.aiSummary&&e.jsxs("div",{className:"bg-purple-50 rounded-lg p-2",children:[e.jsxs("div",{className:"flex items-center gap-1 text-xs font-medium text-purple-700 mb-1",children:[e.jsx(Jt,{className:"h-3 w-3"}),"AI Summary"]}),e.jsx("p",{className:"text-xs text-gray-700 line-clamp-3",children:o.aiSummary})]}),o.aiRecommendations&&o.aiRecommendations.length>0&&e.jsxs("div",{className:"text-xs text-gray-500",children:[o.aiRecommendations.length," AI recommendation",o.aiRecommendations.length!==1?"s":""," available"]})]}):e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[e.jsx(Jt,{className:"h-6 w-6 text-gray-300 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-500",children:"No EdTech assessment completed"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"The school contact can complete this from their dashboard"})]})]})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx(T,{variant:"outline",onClick:a,children:"Close"})})]})})]})}function ea({label:t,value:a,capitalize:l}){return e.jsxs("div",{children:[e.jsx("dt",{className:"text-xs text-gray-500",children:t}),e.jsx("dd",{className:`text-sm font-medium text-gray-900 ${l?"capitalize":""}`,children:a||"-"})]})}const pN="ssot-schools",bD="ssot-counties",ND="ssot-subcounties",wD="ssot-devices",SD="ssot-parts",vu="ssot-sync-status";function yN(t={}){return Se({queryKey:[pN,t],queryFn:()=>de.get("/ssot/schools",t),staleTime:6e4})}function vN(){return Se({queryKey:[bD],queryFn:()=>de.get("/ssot/schools/counties"),staleTime:3e5})}function jN(t){return Se({queryKey:[ND,t],queryFn:()=>de.get("/ssot/schools/sub-counties",t?{countyCode:t}:{}),staleTime:3e5})}function CD(){return Se({queryKey:[vu],queryFn:()=>de.get("/ssot/status"),staleTime:3e4,refetchInterval:3e4})}function bN(){const t=_e();return Re({mutationFn:()=>de.post("/ssot/sync/schools",{}),onSuccess:()=>{t.invalidateQueries({queryKey:[pN]}),t.invalidateQueries({queryKey:[vu]})}})}function kD(){const t=_e();return Re({mutationFn:()=>de.post("/ssot/sync/devices",{}),onSuccess:()=>{t.invalidateQueries({queryKey:[wD]}),t.invalidateQueries({queryKey:[vu]})}})}function AD(){const t=_e();return Re({mutationFn:()=>de.post("/ssot/sync/parts",{}),onSuccess:()=>{t.invalidateQueries({queryKey:[SD]}),t.invalidateQueries({queryKey:[vu]})}})}const MD=[{value:"",label:"All Levels"},{value:"JSS",label:"JSS (Junior Secondary)"},{value:"SSS",label:"SSS (Senior Secondary)"},{value:"Primary",label:"Primary"},{value:"TVET",label:"TVET"},{value:"University",label:"University"}],_D=[{value:"",label:"All Types"},{value:"public",label:"Public"},{value:"private",label:"Private"}];function TD(t){switch(t){case"JSS":return"default";case"SSS":return"secondary";case"Primary":return"outline";case"TVET":case"University":return"outline";default:return"secondary"}}function RD(){const[t,a]=b.useState({limit:50,offset:0}),[l,r]=b.useState(""),[o,d]=b.useState(null),{data:u,isLoading:h,refetch:x}=yN(t),g=bN(),{data:y}=vN(),{data:p}=jN(t.countyCode),j=()=>{a(M=>({...M,q:l,offset:0}))},N=()=>{g.mutate(void 0,{onSuccess:()=>{x()}})},v=b.useMemo(()=>y?.items?y.items.map(M=>({value:M.code,label:M.name})):[],[y?.items]),C=[{accessorKey:"name",header:({column:M})=>e.jsx(ns,{column:M,children:"School Name"}),cell:({row:M})=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-blue-50",children:e.jsx(Ft,{className:"h-4 w-4 text-blue-600"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"font-medium text-gray-900 truncate max-w-[250px]",children:M.original.name}),e.jsx("div",{className:"text-sm text-gray-500",children:M.original.knecCode||M.original.schoolId})]})]})},{accessorKey:"level",header:({column:M})=>e.jsx(ns,{column:M,children:"Level"}),cell:({row:M})=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ud,{className:"h-4 w-4 text-gray-400"}),M.original.level?e.jsx(ee,{variant:TD(M.original.level),children:M.original.level}):e.jsx("span",{className:"text-gray-400",children:"-"})]})},{accessorKey:"type",header:"Type",cell:({row:M})=>e.jsx("span",{className:`capitalize ${M.original.type==="public"?"text-green-600":"text-blue-600"}`,children:M.original.type||"-"})},{accessorKey:"countyName",header:({column:M})=>e.jsx(ns,{column:M,children:"County"}),cell:({row:M})=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_a,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{children:M.original.countyName||"-"})]})},{accessorKey:"subCountyName",header:"Sub-County",cell:({row:M})=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(si,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{children:M.original.subCountyName||"-"})]})},{id:"actions",header:"",cell:({row:M})=>e.jsx(T,{variant:"ghost",size:"sm",onClick:()=>d(M.original),children:e.jsx(Ix,{className:"h-4 w-4"})})}],S=u?.items||[],_=u?.total||0,E=Math.floor((t.offset||0)/(t.limit||50))+1,A=Math.ceil(_/(t.limit||50));return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Schools"}),e.jsx("p",{className:"text-gray-500",children:"Browse and search schools from the SSOT registry"})]}),e.jsxs(T,{onClick:N,disabled:g.isPending,children:[e.jsx(ls,{className:`mr-2 h-4 w-4 ${g.isPending?"animate-spin":""}`}),g.isPending?"Syncing...":"Sync Schools"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(F,{children:e.jsx(P,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Total Schools"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:_.toLocaleString()})]}),e.jsx("div",{className:"h-12 w-12 rounded-full bg-blue-50 flex items-center justify-center",children:e.jsx(Ft,{className:"h-6 w-6 text-blue-600"})})]})})}),e.jsx(F,{children:e.jsx(P,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Counties"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:y?.total||0})]}),e.jsx("div",{className:"h-12 w-12 rounded-full bg-green-50 flex items-center justify-center",children:e.jsx(_a,{className:"h-6 w-6 text-green-600"})})]})})}),e.jsx(F,{children:e.jsx(P,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Sub-Counties"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p?.total||0})]}),e.jsx("div",{className:"h-12 w-12 rounded-full bg-orange-50 flex items-center justify-center",children:e.jsx(si,{className:"h-6 w-6 text-orange-600"})})]})})}),e.jsx(F,{children:e.jsx(P,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Showing"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:S.length})]}),e.jsx("div",{className:"h-12 w-12 rounded-full bg-purple-50 flex items-center justify-center",children:e.jsx(Ud,{className:"h-6 w-6 text-purple-600"})})]})})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 flex-wrap",children:[e.jsxs("div",{className:"flex-1 flex gap-2 min-w-[300px]",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(gs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(ue,{placeholder:"Search by name, ID, or KNEC code...",value:l,onChange:M=>r(M.target.value),onKeyDown:M=>M.key==="Enter"&&j(),className:"pl-9"})]}),e.jsx(T,{variant:"outline",onClick:j,children:"Search"})]}),e.jsx(Me,{value:t.countyCode||"",onChange:M=>a(H=>({...H,countyCode:M||void 0,offset:0})),options:[{value:"",label:"All Counties"},...v],className:"w-48"}),e.jsx(Me,{value:t.level||"",onChange:M=>a(H=>({...H,level:M||void 0,offset:0})),options:MD,className:"w-40"}),e.jsx(Me,{value:t.type||"",onChange:M=>a(H=>({...H,type:M||void 0,offset:0})),options:_D,className:"w-36"})]}),e.jsx(pl,{columns:C,data:S,isLoading:h,emptyMessage:"No schools found"}),A>1&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("p",{className:"text-sm text-gray-500",children:["Showing ",(t.offset||0)+1," to"," ",Math.min((t.offset||0)+(t.limit||50),_)," of"," ",_.toLocaleString()," schools"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(T,{variant:"outline",size:"sm",disabled:E===1,onClick:()=>a(M=>({...M,offset:Math.max(0,(M.offset||0)-(M.limit||50))})),children:"Previous"}),e.jsxs("span",{className:"flex items-center px-3 text-sm text-gray-600",children:["Page ",E," of ",A]}),e.jsx(T,{variant:"outline",size:"sm",disabled:E===A,onClick:()=>a(M=>({...M,offset:(M.offset||0)+(M.limit||50)})),children:"Next"})]})]}),o&&e.jsx(jD,{school:o,onClose:()=>d(null)})]})}const NN="devices",wN="device-models",SN="device-stats";function DD(t={}){return Se({queryKey:[NN,t],queryFn:()=>de.get("/ssot/devices",t),staleTime:6e4})}function ED(){return Se({queryKey:[SN],queryFn:()=>de.get("/ssot/devices/stats"),staleTime:3e4,refetchInterval:6e4})}function OD(t={}){return Se({queryKey:[wN,t],queryFn:()=>de.get("/ssot/device-models",t),staleTime:3e5})}function zD(){return Se({queryKey:[wN,"makes"],queryFn:()=>de.get("/ssot/device-models/makes"),staleTime:3e5})}function LD(){const t=_e();return Re({mutationFn:()=>de.post("/ssot/sync/devices",{}),onSuccess:()=>{t.invalidateQueries({queryKey:[NN]}),t.invalidateQueries({queryKey:[SN]})}})}const qD={in_stock:"bg-green-100 text-green-800",deployed:"bg-blue-100 text-blue-800",repair:"bg-yellow-100 text-yellow-800",retired:"bg-gray-100 text-gray-800"},FD={in_stock:e.jsx(rt,{className:"h-4 w-4"}),deployed:e.jsx(is,{className:"h-4 w-4"}),repair:e.jsx(Ge,{className:"h-4 w-4"}),retired:e.jsx(Dj,{className:"h-4 w-4"})};function PD(t){return t.replace(/_/g," ").replace(/\b\w/g,a=>a.toUpperCase())}const UD=[{accessorKey:"serial",header:({column:t})=>e.jsx(ns,{column:t,children:"Serial / Asset Tag"}),cell:({row:t})=>e.jsxs("div",{children:[e.jsx("div",{className:"font-mono text-sm font-medium text-gray-900",children:t.original.serial}),t.original.assetTag&&e.jsx("div",{className:"text-xs text-gray-500",children:t.original.assetTag})]})},{accessorKey:"model",header:({column:t})=>e.jsx(ns,{column:t,children:"Model"}),cell:({row:t})=>e.jsx("span",{className:"text-sm text-gray-900",children:t.original.model||"-"})},{accessorKey:"schoolId",header:"School",cell:({row:t})=>e.jsx("span",{className:"text-sm text-gray-600",children:t.original.schoolId})},{accessorKey:"status",header:({column:t})=>e.jsx(ns,{column:t,children:"Status"}),cell:({row:t})=>e.jsxs(ee,{className:z("capitalize gap-1",qD[t.original.status]||"bg-gray-100 text-gray-800"),children:[FD[t.original.status],PD(t.original.status)]})},{accessorKey:"updatedAt",header:({column:t})=>e.jsx(ns,{column:t,children:"Updated"}),cell:({row:t})=>e.jsx("span",{className:"text-sm text-gray-500",children:new Date(t.original.updatedAt).toLocaleDateString()})}];function ID({stats:t}){return e.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[e.jsxs(F,{children:[e.jsxs(ie,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(oe,{className:"text-sm font-medium",children:"Total Devices"}),e.jsx(is,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(P,{children:[e.jsx("div",{className:"text-2xl font-bold",children:t.total}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.uniqueModels," unique models"]})]})]}),e.jsxs(F,{children:[e.jsxs(ie,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(oe,{className:"text-sm font-medium",children:"Deployed"}),e.jsx(is,{className:"h-4 w-4 text-blue-500"})]}),e.jsxs(P,{children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.byStatus.deployed||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Active in schools"})]})]}),e.jsxs(F,{children:[e.jsxs(ie,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(oe,{className:"text-sm font-medium",children:"In Stock"}),e.jsx(rt,{className:"h-4 w-4 text-green-500"})]}),e.jsxs(P,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:t.byStatus.in_stock||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Available for deployment"})]})]}),e.jsxs(F,{children:[e.jsxs(ie,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(oe,{className:"text-sm font-medium",children:"In Repair"}),e.jsx(Ge,{className:"h-4 w-4 text-yellow-500"})]}),e.jsxs(P,{children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:t.byStatus.repair||0}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.byStatus.retired||0," retired"]})]})]})]})}const VD=[{value:"",label:"All Statuses"},{value:"in_stock",label:"In Stock"},{value:"deployed",label:"Deployed"},{value:"repair",label:"In Repair"},{value:"retired",label:"Retired"}];function HD({searchQuery:t,onSearchChange:a,statusFilter:l,onStatusChange:r,schoolFilter:o,onSchoolChange:d,schoolOptions:u,onClearFilters:h,hasFilters:x}){return e.jsx(F,{children:e.jsx(P,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[e.jsxs("div",{className:"flex-1 min-w-[200px]",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1.5 block",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx(gs,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),e.jsx(ue,{placeholder:"Search by serial, asset tag, model...",value:t,onChange:g=>a(g.target.value),className:"pl-9"})]})]}),e.jsxs("div",{className:"w-[180px]",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1.5 block",children:"Status"}),e.jsx(Me,{value:l,onChange:r,options:VD})]}),e.jsxs("div",{className:"w-[200px]",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1.5 block",children:"School"}),e.jsx(Me,{value:o,onChange:d,options:u})]}),x&&e.jsxs(T,{variant:"ghost",onClick:h,className:"gap-2",children:[e.jsx(Et,{className:"h-4 w-4"}),"Clear"]})]})})})}function BD({models:t,makes:a}){return t.length===0?null:e.jsxs(F,{children:[e.jsx(ie,{children:e.jsx(oe,{className:"text-lg",children:"Device Models"})}),e.jsxs(P,{children:[e.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(l=>e.jsxs(ee,{variant:"outline",className:"text-sm",children:[l.model," (",l.count,")"]},l.model))}),a.length>0&&e.jsxs("div",{className:"mt-4 pt-4 border-t",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Makes:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:a.map(l=>e.jsx("span",{className:"text-sm text-gray-700 bg-gray-100 px-2 py-1 rounded",children:l},l))})]})]})]})}function Kv(){const[t,a]=b.useState(""),[l,r]=b.useState(""),[o,d]=b.useState(""),[u,h]=b.useState(0),x=50,g=b.useMemo(()=>({q:t||void 0,status:l||void 0,schoolId:o||void 0,limit:x,offset:u*x}),[t,l,o,u]),{data:y,isLoading:p,refetch:j}=DD(g),{data:N,isLoading:v}=ED(),{data:C}=OD(),{data:S}=zD(),{data:_}=yN({limit:1e3}),E=LD(),A=y?.items||[],M=y?.total||0,H=C?.items||[],I=S?.makes||[],W=_?.items||[],Q=b.useMemo(()=>[{value:"",label:"All Schools"},...W.map(xe=>({value:xe.schoolId,label:xe.name}))],[W]),K=async()=>{try{const xe=await E.mutateAsync();xt.success(`Synced ${xe.synced} devices from SSOT`),j()}catch{xt.error("Failed to sync devices")}},q=()=>{a(""),r(""),d(""),h(0)},$=t||l||o,re=Math.ceil(M/x),le=xe=>{h(xe)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"SSOT Devices"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Device inventory from Single Source of Truth"})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs(T,{variant:"outline",onClick:K,disabled:E.isPending,className:"gap-2",children:[e.jsx(ls,{className:z("h-4 w-4",E.isPending&&"animate-spin")}),"Sync from SSOT"]})})]}),!v&&N&&e.jsx(ID,{stats:N}),e.jsx(HD,{searchQuery:t,onSearchChange:xe=>{a(xe),h(0)},statusFilter:l,onStatusChange:xe=>{r(xe),h(0)},schoolFilter:o,onSchoolChange:xe=>{d(xe),h(0)},schoolOptions:Q,onClearFilters:q,hasFilters:!!$}),e.jsxs(F,{children:[e.jsxs(ie,{className:"flex flex-row items-center justify-between",children:[e.jsxs(oe,{children:["Devices ",M>0&&`(${M})`]}),$&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(mi,{className:"h-4 w-4"}),"Filtered"]})]}),e.jsx(P,{children:A.length===0&&!p?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(is,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500",children:$?"No devices match your filters":"No devices found"}),$&&e.jsx(T,{variant:"link",onClick:q,className:"mt-2",children:"Clear filters"})]}):e.jsxs(e.Fragment,{children:[e.jsx(pl,{columns:UD,data:A,isLoading:p,emptyMessage:"No devices found",pageSize:x,pageCount:re,manualPagination:!0,onPaginationChange:xe=>le(xe)}),re>1&&e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t mt-4",children:[e.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",u*x+1," to ",Math.min((u+1)*x,M)," of ",M]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(T,{variant:"outline",size:"sm",onClick:()=>h(xe=>Math.max(0,xe-1)),disabled:u===0,children:"Previous"}),e.jsx(T,{variant:"outline",size:"sm",onClick:()=>h(xe=>Math.min(re-1,xe+1)),disabled:u>=re-1,children:"Next"})]})]})]})})]}),e.jsx(BD,{models:H,makes:I})]})}const ii="parts",Yo="parts-stats",Xo="parts-categories";function $D(t={}){return Se({queryKey:[ii,t],queryFn:()=>de.get("/parts",t),staleTime:3e4})}function KD(){const t=_e();return Re({mutationFn:a=>de.post("/parts",a),onSuccess:()=>{t.invalidateQueries({queryKey:[ii]}),t.invalidateQueries({queryKey:[Yo]}),t.invalidateQueries({queryKey:[Xo]})}})}function QD(){const t=_e();return Re({mutationFn:({id:a,data:l})=>de.patch(`/parts/${a}`,l),onSuccess:(a,{id:l})=>{t.invalidateQueries({queryKey:[ii]}),t.invalidateQueries({queryKey:[ii,l]}),t.invalidateQueries({queryKey:[Yo]}),t.invalidateQueries({queryKey:[Xo]})}})}function GD(){const t=_e();return Re({mutationFn:a=>de.delete(`/parts/${a}`),onSuccess:()=>{t.invalidateQueries({queryKey:[ii]}),t.invalidateQueries({queryKey:[Yo]}),t.invalidateQueries({queryKey:[Xo]})}})}function YD(){return Se({queryKey:[Yo],queryFn:()=>de.get("/parts/stats"),staleTime:6e4})}function XD(){return Se({queryKey:[Xo],queryFn:()=>de.get("/parts/categories"),staleTime:6e4})}function WD(){const t=_e();return Re({mutationFn:async a=>{const l=new FormData;l.append("file",a);const r=await fetch("/v1/parts/import",{method:"POST",body:l,headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`,"X-Tenant-ID":localStorage.getItem("tenant_id")||"demo-tenant"}});if(!r.ok)throw new Error("Import failed");return r.json()},onSuccess:()=>{t.invalidateQueries({queryKey:[ii]}),t.invalidateQueries({queryKey:[Yo]}),t.invalidateQueries({queryKey:[Xo]})}})}function ZD(){return Re({mutationFn:async()=>{const t=await fetch("/v1/parts/export",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`,"X-Tenant-ID":localStorage.getItem("tenant_id")||"demo-tenant"}});if(!t.ok)throw new Error("Export failed");const a=await t.blob(),l=window.URL.createObjectURL(a),r=document.createElement("a");r.href=l,r.download="parts.csv",document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(l)}})}function JD(){const a=["sku","name","category","description","unitCostCents","supplier","supplierSku"].join(",")+`
EXAMPLE-001,Example Part,Electronics,An example part description,1500,Acme Corp,ACM-001
EXAMPLE-002,Another Part,Cables,Another description,250,Tech Supply,TS-002`,l=new Blob([a],{type:"text/csv;charset=utf-8;"}),r=window.URL.createObjectURL(l),o=document.createElement("a");o.href=r,o.download="parts-template.csv",document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(r)}function eE({open:t,onClose:a,onSubmit:l,isLoading:r,categories:o=[]}){const[d,u]=b.useState({sku:"",name:"",category:"",description:"",unitCostCents:0,supplier:"",supplierSku:""}),h=p=>{p.preventDefault(),l(d)},x=()=>{u({sku:"",name:"",category:"",description:"",unitCostCents:0,supplier:"",supplierSku:""}),a()},g=p=>(p/100).toFixed(2),y=p=>{const j=parseFloat(p);return isNaN(j)?0:Math.round(j*100)};return e.jsxs(Ms,{open:t,onClose:x,className:"max-w-lg",children:[e.jsx(_s,{onClose:x,children:"Create New Part"}),e.jsxs("form",{onSubmit:h,children:[e.jsx(Ts,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SKU *"}),e.jsx(ue,{value:d.sku,onChange:p=>u({...d,sku:p.target.value}),placeholder:"e.g., WDG-001",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),e.jsx(ue,{value:d.name,onChange:p=>u({...d,name:p.target.value}),placeholder:"Part name",required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),e.jsx(ue,{value:d.category,onChange:p=>u({...d,category:p.target.value}),placeholder:"e.g., Electronics",list:"category-list"}),e.jsx("datalist",{id:"category-list",children:(o??[]).map(p=>e.jsx("option",{value:p},p))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit Price ($)"}),e.jsx(ue,{type:"number",step:"0.01",min:"0",value:g(d.unitCostCents||0),onChange:p=>u({...d,unitCostCents:y(p.target.value)}),placeholder:"0.00"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),e.jsx(Rt,{value:d.description,onChange:p=>u({...d,description:p.target.value}),placeholder:"Part description",rows:3})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Supplier"}),e.jsx(ue,{value:d.supplier,onChange:p=>u({...d,supplier:p.target.value}),placeholder:"Supplier name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Supplier SKU"}),e.jsx(ue,{value:d.supplierSku,onChange:p=>u({...d,supplierSku:p.target.value}),placeholder:"Supplier's part number"})]})]})]})}),e.jsxs(Rs,{children:[e.jsx(T,{type:"button",variant:"outline",onClick:x,children:"Cancel"}),e.jsx(T,{type:"submit",disabled:!d.sku||!d.name||r,children:r?"Creating...":"Create Part"})]})]})]})}function tE({part:t,open:a,onClose:l,onSubmit:r,isLoading:o,categories:d=[]}){const[u,h]=b.useState({});b.useEffect(()=>{t&&h({name:t.name,category:t.category,description:t.description,unitCostCents:t.unitCostCents,supplier:t.supplier,supplierSku:t.supplierSku,active:t.active})},[t]);const x=p=>{p.preventDefault(),t&&r(t.id,u)},g=p=>p!==void 0?(p/100).toFixed(2):"0.00",y=p=>{const j=parseFloat(p);return isNaN(j)?0:Math.round(j*100)};return t?e.jsxs(Ms,{open:a,onClose:l,className:"max-w-lg",children:[e.jsx(_s,{onClose:l,children:"Edit Part"}),e.jsxs("form",{onSubmit:x,children:[e.jsx(Ts,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SKU"}),e.jsx(ue,{value:t.sku,disabled:!0,className:"bg-gray-50"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"SKU cannot be changed"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),e.jsx(ue,{value:u.name||"",onChange:p=>h({...u,name:p.target.value}),placeholder:"Part name",required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),e.jsx(ue,{value:u.category||"",onChange:p=>h({...u,category:p.target.value}),placeholder:"e.g., Electronics",list:"category-list"}),e.jsx("datalist",{id:"category-list",children:(d??[]).map(p=>e.jsx("option",{value:p},p))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit Price ($)"}),e.jsx(ue,{type:"number",step:"0.01",min:"0",value:g(u.unitCostCents),onChange:p=>h({...u,unitCostCents:y(p.target.value)}),placeholder:"0.00"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),e.jsx(Rt,{value:u.description||"",onChange:p=>h({...u,description:p.target.value}),placeholder:"Part description",rows:3})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Supplier"}),e.jsx(ue,{value:u.supplier||"",onChange:p=>h({...u,supplier:p.target.value}),placeholder:"Supplier name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Supplier SKU"}),e.jsx(ue,{value:u.supplierSku||"",onChange:p=>h({...u,supplierSku:p.target.value}),placeholder:"Supplier's part number"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"active",checked:u.active??!0,onChange:p=>h({...u,active:p.target.checked}),className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("label",{htmlFor:"active",className:"text-sm text-gray-700",children:"Active (visible in catalog)"})]})]})}),e.jsxs(Rs,{children:[e.jsx(T,{type:"button",variant:"outline",onClick:l,children:"Cancel"}),e.jsx(T,{type:"submit",disabled:!u.name||o,children:o?"Saving...":"Save Changes"})]})]})]}):null}function sE({open:t,onClose:a,onImport:l,isLoading:r}){const[o,d]=b.useState(null),[u,h]=b.useState(!1),x=b.useRef(null),g=v=>{v.preventDefault(),v.stopPropagation(),v.type==="dragenter"||v.type==="dragover"?h(!0):v.type==="dragleave"&&h(!1)},y=v=>{if(v.preventDefault(),v.stopPropagation(),h(!1),v.dataTransfer.files&&v.dataTransfer.files[0]){const C=v.dataTransfer.files[0];(C.type==="text/csv"||C.name.endsWith(".csv"))&&d(C)}},p=v=>{v.target.files&&v.target.files[0]&&d(v.target.files[0])},j=()=>{o&&l(o)},N=()=>{d(null),a()};return e.jsxs(Ms,{open:t,onClose:N,className:"max-w-lg",children:[e.jsx(_s,{onClose:N,children:"Import Parts"}),e.jsx(Ts,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Upload a CSV file with parts data."}),e.jsx(T,{type:"button",variant:"outline",size:"sm",onClick:JD,children:"Download Template"})]}),e.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${u?"border-blue-500 bg-blue-50":o?"border-green-500 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:g,onDragLeave:g,onDragOver:g,onDrop:y,children:[e.jsx("input",{ref:x,type:"file",accept:".csv",onChange:p,className:"hidden"}),o?e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-green-600",children:e.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("p",{className:"font-medium text-gray-900",children:o.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:[(o.size/1024).toFixed(1)," KB"]}),e.jsx(T,{type:"button",variant:"outline",size:"sm",onClick:()=>d(null),children:"Remove"})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-gray-400",children:e.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})}),e.jsxs("p",{className:"text-gray-600",children:["Drag and drop a CSV file here, or"," ",e.jsx("button",{type:"button",className:"text-blue-600 hover:underline",onClick:()=>x.current?.click(),children:"browse"})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"CSV files only"})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"CSV Format"}),e.jsxs("p",{className:"text-xs text-gray-600 mb-2",children:["Required columns: ",e.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"sku"}),","," ",e.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"name"})]}),e.jsxs("p",{className:"text-xs text-gray-600",children:["Optional columns:"," ",e.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"category"}),","," ",e.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"description"}),","," ",e.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"unitCostCents"}),","," ",e.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"supplier"}),","," ",e.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"supplierSku"})]})]})]})}),e.jsxs(Rs,{children:[e.jsx(T,{type:"button",variant:"outline",onClick:N,children:"Cancel"}),e.jsx(T,{type:"button",disabled:!o||r,onClick:j,children:r?"Importing...":"Import Parts"})]})]})}const aE={electronics:"bg-blue-100 text-blue-800",mechanical:"bg-orange-100 text-orange-800",consumable:"bg-green-100 text-green-800",accessory:"bg-purple-100 text-purple-800",replacement:"bg-yellow-100 text-yellow-800",cables:"bg-cyan-100 text-cyan-800",hardware:"bg-amber-100 text-amber-800"};function nE({onEdit:t,onDelete:a}){return[{accessorKey:"name",header:({column:l})=>e.jsx(ns,{column:l,children:"Part Name"}),cell:({row:l})=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-amber-50",children:e.jsx(rt,{className:"h-4 w-4 text-amber-600"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"font-medium text-gray-900 truncate max-w-[200px]",children:l.original.name}),e.jsx("div",{className:"text-sm text-gray-500 font-mono",children:l.original.sku})]})]})},{accessorKey:"category",header:"Category",cell:({row:l})=>{const r=l.original.category||"unknown";return e.jsx(ee,{className:aE[r.toLowerCase()]||"bg-gray-100 text-gray-800",children:e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ea,{className:"h-3 w-3"}),r.charAt(0).toUpperCase()+r.slice(1)]})})}},{accessorKey:"unitCostCents",header:({column:l})=>e.jsx(ns,{column:l,children:"Unit Price"}),cell:({row:l})=>e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(tr,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"font-medium",children:Gx(l.original.unitCostCents/100)})]})},{accessorKey:"supplier",header:"Supplier",cell:({row:l})=>e.jsx("div",{className:"min-w-0",children:l.original.supplier?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(si,{className:"h-4 w-4 text-gray-400"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-900 truncate max-w-[150px]",children:l.original.supplier}),l.original.supplierSku&&e.jsx("div",{className:"text-xs text-gray-500 font-mono",children:l.original.supplierSku})]})]}):e.jsx("span",{className:"text-gray-400",children:"-"})})},{accessorKey:"active",header:"Status",cell:({row:l})=>e.jsx(ee,{className:l.original.active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600",children:l.original.active?e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(xl,{className:"h-3 w-3"}),"Active"]}):e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Uo,{className:"h-3 w-3"}),"Inactive"]})})},{accessorKey:"updatedAt",header:({column:l})=>e.jsx(ns,{column:l,children:"Updated"}),cell:({row:l})=>e.jsx("span",{className:"text-gray-600 text-sm",children:st(l.original.updatedAt)})},{id:"actions",header:"",cell:({row:l})=>e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(T,{variant:"ghost",size:"sm",onClick:()=>t(l.original),children:e.jsx(sr,{className:"h-4 w-4"})}),e.jsx(T,{variant:"ghost",size:"sm",onClick:()=>a(l.original),children:e.jsx(fl,{className:"h-4 w-4 text-red-500"})})]})}]}function lE({onRefetch:t}){const[a,l]=b.useState(!1),[r,o]=b.useState(!1),[d,u]=b.useState(!1),[h,x]=b.useState(!1),[g,y]=b.useState(null),p=KD(),j=QD(),N=GD(),v=WD(),C=ZD(),S=b.useCallback(K=>{p.mutate(K,{onSuccess:()=>{Xe.success("Part created successfully"),l(!1),t()},onError:q=>{Xe.error(q.message||"Failed to create part")}})},[p,t]),_=b.useCallback(K=>{y(K),o(!0)},[]),E=b.useCallback((K,q)=>{j.mutate({id:K,data:q},{onSuccess:()=>{Xe.success("Part updated successfully"),o(!1),y(null),t()},onError:$=>{Xe.error($.message||"Failed to update part")}})},[j,t]),A=b.useCallback(K=>{y(K),u(!0)},[]),M=b.useCallback(()=>{g&&N.mutate(g.id,{onSuccess:()=>{Xe.success("Part deleted successfully"),u(!1),y(null),t()},onError:K=>{Xe.error(K.message||"Failed to delete part")}})},[g,N,t]),H=b.useCallback(K=>{v.mutate(K,{onSuccess:q=>{const $=`Created ${q.created} parts${q.failed>0?`. ${q.failed} failed.`:""}`;Xe.success($),x(!1),t()},onError:q=>{Xe.error(q.message||"Import failed")}})},[v,t]),I=b.useCallback(()=>{C.mutate(void 0,{onSuccess:()=>{Xe.success("CSV file downloaded")},onError:K=>{Xe.error(K.message||"Export failed")}})},[C]),W=b.useCallback(()=>{o(!1),y(null)},[]),Q=b.useCallback(()=>{u(!1),y(null)},[]);return{createModalOpen:a,setCreateModalOpen:l,editModalOpen:r,deleteModalOpen:d,importModalOpen:h,setImportModalOpen:x,selectedPart:g,isCreating:p.isPending,isUpdating:j.isPending,isDeleting:N.isPending,isImporting:v.isPending,isExporting:C.isPending,handleCreate:S,handleEdit:_,handleUpdate:E,handleDeleteClick:A,handleDelete:M,handleImport:H,handleExport:I,closeEditModal:W,closeDeleteModal:Q}}function rE(){const[t,a]=b.useState({limit:50}),[l,r]=b.useState(""),{data:o,isLoading:d,refetch:u}=$D(t),{data:h}=YD(),{data:x}=XD(),{createModalOpen:g,setCreateModalOpen:y,editModalOpen:p,deleteModalOpen:j,importModalOpen:N,setImportModalOpen:v,selectedPart:C,isCreating:S,isUpdating:_,isDeleting:E,isImporting:A,isExporting:M,handleCreate:H,handleEdit:I,handleUpdate:W,handleDeleteClick:Q,handleDelete:K,handleImport:q,handleExport:$,closeEditModal:re,closeDeleteModal:le}=lE({onRefetch:u}),xe=b.useMemo(()=>x?.items?x.items.map(fe=>({value:fe,label:fe.charAt(0).toUpperCase()+fe.slice(1)})):[],[x?.items]),me=()=>{a(fe=>({...fe,q:l||void 0,cursor:void 0}))},D=b.useMemo(()=>nE({onEdit:I,onDelete:Q}),[I,Q]),X=o?.items||[],Z=h?.total||X.length,be=h?.byCategory?Object.keys(h.byCategory).length:0,ye=X.filter(fe=>fe.active).length;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Parts Catalog "}),e.jsx("p",{className:"text-gray-500",children:"Manage your parts inventory"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(T,{variant:"outline",onClick:()=>v(!0),children:[e.jsx(Kx,{className:"mr-2 h-4 w-4"}),"Import"]}),e.jsxs(T,{variant:"outline",onClick:$,disabled:M,children:[e.jsx(ni,{className:"mr-2 h-4 w-4"}),M?"Exporting...":"Export"]}),e.jsxs(T,{onClick:()=>y(!0),children:[e.jsx(Tt,{className:"mr-2 h-4 w-4"}),"Create Part"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx(F,{children:e.jsx(P,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Total Parts"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Z})]}),e.jsx("div",{className:"h-12 w-12 rounded-full bg-amber-50 flex items-center justify-center",children:e.jsx(rt,{className:"h-6 w-6 text-amber-600"})})]})})}),e.jsx(F,{children:e.jsx(P,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Categories"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:be})]}),e.jsx("div",{className:"h-12 w-12 rounded-full bg-purple-50 flex items-center justify-center",children:e.jsx(Ea,{className:"h-6 w-6 text-purple-600"})})]})})}),e.jsx(F,{children:e.jsx(P,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Active"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:ye})]}),e.jsx("div",{className:"h-12 w-12 rounded-full bg-green-50 flex items-center justify-center",children:e.jsx(xl,{className:"h-6 w-6 text-green-600"})})]})})}),e.jsx(F,{children:e.jsx(P,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Showing"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:X.length})]}),e.jsx("div",{className:"h-12 w-12 rounded-full bg-blue-50 flex items-center justify-center",children:e.jsx(tr,{className:"h-6 w-6 text-blue-600"})})]})})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 flex gap-2",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(gs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(ue,{placeholder:"Search by name, SKU, or supplier...",value:l,onChange:fe=>r(fe.target.value),onKeyDown:fe=>fe.key==="Enter"&&me(),className:"pl-9"})]}),e.jsx(T,{variant:"outline",onClick:me,children:"Search"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Me,{value:t.category||"",onChange:fe=>a(Te=>({...Te,category:fe||void 0,cursor:void 0})),options:[{value:"",label:"All Categories"},...xe],className:"w-40"}),e.jsx(Me,{value:t.active===void 0?"":t.active?"active":"inactive",onChange:fe=>a(Te=>({...Te,active:fe===""?void 0:fe==="active",cursor:void 0})),options:[{value:"",label:"All Status"},{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}],className:"w-32"})]})]}),e.jsx(pl,{columns:D,data:X,isLoading:d,emptyMessage:"No parts found. Create your first part to get started."}),o?.nextCursor&&e.jsx("div",{className:"flex justify-center",children:e.jsx(T,{variant:"outline",onClick:()=>a(fe=>({...fe,cursor:o.nextCursor||void 0})),children:"Load More"})}),e.jsx(eE,{open:g,onClose:()=>y(!1),onSubmit:H,isLoading:S,categories:x?.items}),e.jsx(tE,{part:C,open:p,onClose:re,onSubmit:W,isLoading:_,categories:x?.items}),e.jsx(mu,{open:j,onClose:le,onConfirm:K,title:"Delete Part",description:`Are you sure you want to delete "${C?.name}"? This action cannot be undone.`,confirmText:"Delete",isLoading:E,variant:"destructive"}),e.jsx(sE,{open:N,onClose:()=>v(!1),onImport:q,isLoading:A})]})}function sx({title:t,icon:a,count:l,lastSyncAt:r,onSync:o,isSyncing:d,color:u}){const h=r&&r!=="0001-01-01T00:00:00Z";return e.jsxs(F,{className:"overflow-hidden",children:[e.jsx("div",{className:`h-2 ${u}`}),e.jsxs(P,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`h-14 w-14 rounded-xl ${u.replace("bg-","bg-opacity-20 bg-")} flex items-center justify-center`,children:a}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:t}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(Eo,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-2xl font-bold text-gray-900",children:l.toLocaleString()}),e.jsx("span",{className:"text-gray-500",children:"records"})]})]})]}),e.jsxs(T,{variant:"outline",size:"sm",onClick:o,disabled:d,className:"shrink-0",children:[e.jsx(ls,{className:`h-4 w-4 mr-2 ${d?"animate-spin":""}`}),d?"Syncing...":"Sync Now"]})]}),e.jsx("div",{className:"mt-6 pt-4 border-t border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[e.jsx(it,{className:"h-4 w-4"}),e.jsx("span",{children:"Last synced:"})]}),e.jsx("div",{className:"flex items-center gap-2",children:h?e.jsxs(e.Fragment,{children:[e.jsx(_t,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-gray-700",children:st(r)})]}):e.jsx("span",{className:"text-gray-400",children:"Never synced"})})]})})]})]})}function iE(){const{data:t,isLoading:a,refetch:l}=CD(),r=bN(),o=kD(),d=AD(),u=async()=>{await Promise.all([r.mutateAsync(),o.mutateAsync(),d.mutateAsync()]),l()},h=r.isPending||o.isPending||d.isPending,x=(t?.schools?.count||0)+(t?.devices?.count||0)+(t?.parts?.count||0);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"SSOT Sync Control"}),e.jsx("p",{className:"text-gray-500",children:"Manage synchronization of Single Source of Truth data"})]}),e.jsxs(T,{onClick:u,disabled:h,children:[e.jsx(ls,{className:`mr-2 h-4 w-4 ${h?"animate-spin":""}`}),h?"Syncing All...":"Sync All"]})]}),e.jsx(F,{children:e.jsx(P,{className:"py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("div",{className:"h-16 w-16 rounded-2xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:e.jsx(Eo,{className:"h-8 w-8 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Total SSOT Records"}),e.jsx("p",{className:"text-4xl font-bold text-gray-900",children:x.toLocaleString()})]})]}),e.jsxs("div",{className:"hidden md:flex items-center gap-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[e.jsx(Ft,{className:"h-5 w-5"}),e.jsx("span",{className:"font-semibold",children:t?.schools?.count||0})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Schools"})]}),e.jsx(Pe,{className:"h-4 w-4 text-gray-300"}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center gap-2 text-indigo-600",children:[e.jsx(is,{className:"h-5 w-5"}),e.jsx("span",{className:"font-semibold",children:t?.devices?.count||0})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Devices"})]}),e.jsx(Pe,{className:"h-4 w-4 text-gray-300"}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center gap-2 text-amber-600",children:[e.jsx(rt,{className:"h-5 w-5"}),e.jsx("span",{className:"font-semibold",children:t?.parts?.count||0})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Parts"})]})]})]})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(sx,{title:"Schools",icon:e.jsx(Ft,{className:"h-7 w-7 text-blue-600"}),count:t?.schools?.count||0,lastSyncAt:t?.schools?.lastSyncAt||"",onSync:()=>r.mutate(void 0,{onSuccess:()=>l()}),isSyncing:r.isPending,color:"bg-blue-500"}),e.jsx(sx,{title:"Devices",icon:e.jsx(is,{className:"h-7 w-7 text-indigo-600"}),count:t?.devices?.count||0,lastSyncAt:t?.devices?.lastSyncAt||"",onSync:()=>o.mutate(void 0,{onSuccess:()=>l()}),isSyncing:o.isPending,color:"bg-indigo-500"}),e.jsx(sx,{title:"Parts",icon:e.jsx(rt,{className:"h-7 w-7 text-amber-600"}),count:t?.parts?.count||0,lastSyncAt:t?.parts?.lastSyncAt||"",onSync:()=>d.mutate(void 0,{onSuccess:()=>l()}),isSyncing:d.isPending,color:"bg-amber-500"})]}),e.jsx(F,{children:e.jsxs(P,{className:"py-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"About SSOT Sync"}),e.jsxs("div",{className:"space-y-3 text-sm text-gray-600",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Single Source of Truth (SSOT)"})," data is synchronized from external master data services to ensure the IMS has up-to-date information about schools, devices, and parts."]}),e.jsx("p",{children:"Syncing pulls data from the following SSOT services:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Schools"})," - School registry with location information (ssot-school:8081)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Devices"})," - Device inventory with assignments and status (ssot-devices:8082)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Parts"})," - Parts catalog with PUK codes and categories (ssot-parts:8083)"]})]}),e.jsx("p",{className:"text-gray-500",children:"Sync runs incrementally using cursors to minimize data transfer. Only changed records since the last sync are fetched."})]})]})}),a&&e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(ls,{className:"h-8 w-8 animate-spin text-gray-400"})})]})}function oE(){const{user:t,profile:a,isLoadingProfile:l,fetchProfile:r}=Nt();return b.useEffect(()=>{t&&!a&&r()},[t,a,r]),l?e.jsx("div",{className:"flex h-64 items-center justify-center",children:e.jsx(jt,{className:"h-8 w-8 animate-spin text-cyan-600"})}):!a&&t?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"rounded-xl bg-gradient-to-r from-cyan-600 via-teal-600 to-cyan-700 p-6 text-white shadow-lg",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(ce,{to:"/overview",children:e.jsxs(T,{variant:"ghost",size:"sm",className:"text-white/80 hover:text-white hover:bg-white/10",children:[e.jsx(Ya,{className:"mr-2 h-4 w-4"}),"Back"]})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-white/20 backdrop-blur",children:e.jsx(Oy,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"User Profile"}),e.jsx("p",{className:"text-cyan-100",children:"Your account information"})]})]})]})}),e.jsxs("div",{className:"rounded-xl border-0 bg-white p-6 shadow-md",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-gradient-to-br from-cyan-100 to-teal-100",children:e.jsx(Pt,{className:"h-8 w-8 text-cyan-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:t.displayName||t.username}),e.jsxs("p",{className:"text-sm text-gray-500",children:["@",t.username]}),t.email&&e.jsx("p",{className:"text-sm text-gray-500",children:t.email})]})]}),e.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:t.roles?.map(o=>e.jsx("span",{className:"rounded-full bg-gradient-to-r from-cyan-100 to-teal-100 px-3 py-1 text-xs font-medium text-cyan-800",children:o},o))})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx(T,{onClick:()=>r(),children:"Load Full Profile"})})]}):a?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"rounded-xl bg-gradient-to-r from-cyan-600 via-teal-600 to-cyan-700 p-6 text-white shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(ce,{to:"/overview",children:e.jsxs(T,{variant:"ghost",size:"sm",className:"text-white/80 hover:text-white hover:bg-white/10",children:[e.jsx(Ya,{className:"mr-2 h-4 w-4"}),"Back"]})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-white/20 backdrop-blur",children:e.jsx(Oy,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"User Profile"}),e.jsx("p",{className:"text-cyan-100",children:"Your account information and preferences"})]})]})]}),e.jsxs("div",{className:"hidden md:flex items-center gap-2 rounded-lg bg-white/10 px-3 py-1.5 backdrop-blur",children:[e.jsx(Jt,{className:"h-4 w-4 text-cyan-200"}),e.jsx("span",{className:"text-sm text-cyan-100",children:"ESSP Account"})]})]})}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsx(WA,{profile:a}),e.jsx(aM,{preferences:a.preferences,onEdit:()=>{console.log("Edit preferences")}}),e.jsx("div",{className:"lg:col-span-2",children:e.jsx(tM,{permissions:a.permissions||[]})})]}),e.jsxs("div",{className:"rounded-xl border border-cyan-100 bg-gradient-to-r from-cyan-50 to-teal-50 p-4 shadow-sm",children:[e.jsx("h3",{className:"mb-3 text-sm font-semibold text-cyan-800",children:"Session Information"}),e.jsxs("div",{className:"grid gap-4 text-sm sm:grid-cols-2 lg:grid-cols-4",children:[e.jsxs("div",{className:"rounded-lg bg-white/60 p-2 backdrop-blur",children:[e.jsx("span",{className:"text-cyan-600 text-xs font-medium",children:"Tenant ID"}),e.jsx("p",{className:"font-mono text-gray-900 text-xs mt-0.5 truncate",children:a.tenantId})]}),e.jsxs("div",{className:"rounded-lg bg-white/60 p-2 backdrop-blur",children:[e.jsx("span",{className:"text-cyan-600 text-xs font-medium",children:"User ID"}),e.jsx("p",{className:"font-mono text-gray-900 text-xs mt-0.5 truncate",children:a.id})]}),a.ssoSubject&&e.jsxs("div",{className:"rounded-lg bg-white/60 p-2 backdrop-blur",children:[e.jsx("span",{className:"text-cyan-600 text-xs font-medium",children:"SSO Subject"}),e.jsx("p",{className:"font-mono text-gray-900 text-xs mt-0.5 truncate",children:a.ssoSubject})]}),a.createdAt&&e.jsxs("div",{className:"rounded-lg bg-white/60 p-2 backdrop-blur",children:[e.jsx("span",{className:"text-cyan-600 text-xs font-medium",children:"Account Created"}),e.jsx("p",{className:"text-gray-900 text-xs mt-0.5",children:new Date(a.createdAt).toLocaleDateString()})]})]})]})]}):e.jsx("div",{className:"flex h-64 items-center justify-center",children:e.jsx("p",{className:"text-gray-500",children:"Unable to load profile"})})}function cE({thread:t,isSelected:a,onClick:l,isSchoolContact:r}){const o=r?t.unreadCountSchool:t.unreadCountSupport,d=()=>{switch(t.threadType){case"incident":return e.jsx(We,{className:"h-4 w-4 text-amber-500"});case"livechat":return e.jsx(bn,{className:"h-4 w-4 text-green-500"});default:return e.jsx(qt,{className:"h-4 w-4 text-blue-500"})}},u=()=>t.status==="closed"?e.jsx(ee,{variant:"secondary",className:"text-xs",children:"Closed"}):null,h=t.lastMessageAt?$s(new Date(t.lastMessageAt),{addSuffix:!0}):$s(new Date(t.createdAt),{addSuffix:!0});return e.jsx("div",{onClick:l,className:z("p-3 border-b border-gray-100 cursor-pointer transition-colors hover:bg-gray-50",a&&"bg-cyan-50 border-l-2 border-l-cyan-500",o>0&&!a&&"bg-blue-50/50"),children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:d()}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("h4",{className:z("text-sm truncate",o>0?"font-semibold text-gray-900":"font-medium text-gray-700"),children:t.subject}),o>0&&e.jsx(ee,{className:"bg-cyan-500 text-white text-xs px-1.5 py-0.5 min-w-[20px] text-center",children:o})]}),t.lastMessage&&e.jsxs("p",{className:"text-xs text-gray-500 truncate mt-1",children:[e.jsxs("span",{className:"font-medium",children:[t.lastMessage.senderName,":"]})," ",t.lastMessage.contentType==="system"?t.lastMessage.content:t.lastMessage.content.length>50?t.lastMessage.content.substring(0,50)+"...":t.lastMessage.content]}),e.jsxs("div",{className:"flex items-center gap-2 mt-1.5",children:[e.jsx("span",{className:"text-xs text-gray-400",children:h}),!r&&t.schoolName&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("span",{className:"text-xs text-gray-400 truncate",children:t.schoolName})]}),u()]}),t.threadType==="incident"&&t.incidentId&&e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e.jsx($x,{className:"h-3 w-3 text-gray-400"}),e.jsx("span",{className:"text-xs text-gray-400",children:t.incidentId})]})]})]})})}const dE=[{value:"all",label:"All Conversations"},{value:"open",label:"Open"},{value:"closed",label:"Closed"}];function uE({searchQuery:t,onSearchChange:a,statusFilter:l,onStatusChange:r}){return e.jsxs("div",{className:"p-3 border-b border-gray-200 space-y-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(gs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(ue,{type:"text",placeholder:"Search conversations...",value:t,onChange:o=>a(o.target.value),className:"pl-9 pr-8"}),t&&e.jsx("button",{onClick:()=>a(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:e.jsx(Et,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(mi,{className:"h-4 w-4 text-gray-400"}),e.jsx(Me,{value:l,onChange:r,options:dE,placeholder:"Filter by status",className:"flex-1"})]})]})}function mE({selectedThreadId:t,onSelectThread:a,onNewThread:l}){const{hasRole:r}=Nt(),[o,d]=b.useState(""),[u,h]=b.useState("all"),x=r("ssp_school_contact"),{data:g,isLoading:y,error:p}=tf({status:u==="all"?void 0:u,q:o||void 0}),j=g?.items||[];return e.jsxs("div",{className:"flex flex-col h-full bg-white",children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Messages"}),e.jsxs(T,{size:"sm",onClick:l,className:"bg-cyan-600 hover:bg-cyan-700",children:[e.jsx(Tt,{className:"h-4 w-4 mr-1"}),"New"]})]})}),e.jsx(uE,{searchQuery:o,onSearchChange:d,statusFilter:u,onStatusChange:h}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:y?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(jt,{className:"h-6 w-6 animate-spin text-cyan-600"})}):p?e.jsx("div",{className:"p-4 text-center text-red-500",children:"Failed to load conversations"}):j.length===0?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(qt,{className:"h-12 w-12 mx-auto text-gray-300 mb-3"}),e.jsx("p",{className:"text-gray-500",children:"No conversations yet"}),e.jsxs(T,{variant:"outline",size:"sm",onClick:l,className:"mt-3",children:[e.jsx(Tt,{className:"h-4 w-4 mr-1"}),"Start a conversation"]})]}):e.jsx("div",{children:j.map(N=>e.jsx(cE,{thread:N,isSelected:N.id===t,onClick:()=>a(N.id),isSchoolContact:x},N.id))})})]})}function hE({thread:t,participants:a,onClose:l}){const[r,o]=b.useState(!1),d=b.useRef(null),u=uM(),h=mM();b.useEffect(()=>{const p=j=>{d.current&&!d.current.contains(j.target)&&o(!1)};return r&&document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[r]);const x=()=>{u.mutate(t.id),o(!1)},g=()=>{h.mutate(t.id),o(!1)},y=()=>{switch(t.threadType){case"incident":return e.jsxs(ee,{variant:"outline",className:"text-amber-600 border-amber-200 bg-amber-50",children:[e.jsx(We,{className:"h-3 w-3 mr-1"}),"Incident"]});case"livechat":return e.jsx(ee,{variant:"outline",className:"text-green-600 border-green-200 bg-green-50",children:"Live Chat"});default:return null}};return e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-white",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 truncate",children:t.subject}),y(),t.status==="closed"&&e.jsx(ee,{variant:"secondary",children:"Closed"})]}),e.jsxs("div",{className:"flex items-center gap-3 mt-1 text-sm text-gray-500",children:[t.schoolName&&e.jsx("span",{children:t.schoolName}),a&&a.length>0&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Yt,{className:"h-3.5 w-3.5"}),a.length," participant",a.length!==1?"s":""]}),e.jsxs("span",{children:[t.messageCount," messages"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative",ref:d,children:[e.jsx(T,{variant:"ghost",size:"sm",onClick:()=>o(!r),className:"h-8 w-8 p-0",children:e.jsx(Ux,{className:"h-4 w-4"})}),r&&e.jsxs("div",{className:"absolute right-0 top-full mt-1 w-48 bg-white rounded-md shadow-lg border border-gray-200 py-1 z-50",children:[t.status==="open"?e.jsxs("button",{onClick:x,className:"flex items-center w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[e.jsx(Dj,{className:"h-4 w-4 mr-2"}),"Close conversation"]}):e.jsxs("button",{onClick:g,className:"flex items-center w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[e.jsx(ls,{className:"h-4 w-4 mr-2"}),"Reopen conversation"]}),t.incidentId&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"border-t border-gray-100 my-1"}),e.jsxs("button",{className:"flex items-center w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[e.jsx(We,{className:"h-4 w-4 mr-2"}),"View linked incident"]})]})]})]}),l&&e.jsx(T,{variant:"ghost",size:"sm",onClick:l,className:"md:hidden h-8 w-8 p-0",children:e.jsx(Et,{className:"h-4 w-4"})})]})]})}function xE({message:t,isOwnMessage:a,showAvatar:l=!0}){if(t.contentType==="system")return e.jsx("div",{className:"flex justify-center my-3",children:e.jsx("div",{className:"bg-gray-100 text-gray-600 text-xs px-3 py-1.5 rounded-full",children:t.content})});const r=Qd(new Date(t.createdAt),"HH:mm"),o=u=>{switch(u){case"ssp_admin":return"bg-purple-100 text-purple-700";case"ssp_support_agent":return"bg-blue-100 text-blue-700";case"ssp_school_contact":return"bg-green-100 text-green-700";default:return"bg-gray-100 text-gray-700"}},d=u=>{switch(u){case"ssp_admin":return"Admin";case"ssp_support_agent":return"Support";case"ssp_school_contact":return"School";default:return u}};return e.jsxs("div",{className:z("flex gap-3 mb-4",a?"flex-row-reverse":"flex-row"),children:[l&&e.jsx("div",{className:z("flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium",a?"bg-cyan-100 text-cyan-700":"bg-gray-100 text-gray-700"),children:t.senderName.charAt(0).toUpperCase()}),e.jsxs("div",{className:z("flex flex-col max-w-[70%]",a?"items-end":"items-start"),children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"text-xs font-medium text-gray-700",children:t.senderName}),e.jsx("span",{className:z("text-xs px-1.5 py-0.5 rounded",o(t.senderRole)),children:d(t.senderRole)})]}),e.jsxs("div",{className:z("rounded-2xl px-4 py-2.5",a?"bg-cyan-600 text-white rounded-br-md":"bg-gray-100 text-gray-900 rounded-bl-md"),children:[e.jsx("p",{className:"text-sm whitespace-pre-wrap break-words",children:t.content}),t.attachments&&t.attachments.length>0&&e.jsx("div",{className:"mt-2 space-y-1",children:t.attachments.map(u=>e.jsxs("a",{href:u.downloadUrl,target:"_blank",rel:"noopener noreferrer",className:z("flex items-center gap-2 text-xs p-2 rounded",a?"bg-cyan-500 hover:bg-cyan-400":"bg-gray-200 hover:bg-gray-300"),children:[e.jsx(Id,{className:"h-3.5 w-3.5"}),e.jsx("span",{className:"truncate flex-1",children:u.fileName}),e.jsx(ni,{className:"h-3.5 w-3.5"})]},u.id))})]}),e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e.jsx("span",{className:"text-xs text-gray-400",children:r}),t.editedAt&&e.jsx("span",{className:"text-xs text-gray-400",children:"(edited)"}),a&&e.jsx(O4,{className:"h-3.5 w-3.5 text-gray-400"})]})]})]})}function fE({messages:t,currentUserId:a,isLoading:l,typingUsers:r=[]}){const o=b.useRef(null),d=b.useRef(null);b.useEffect(()=>{d.current&&d.current.scrollIntoView({behavior:"smooth"})},[t.length]);const u=[];let h="";t.forEach(g=>{const y=Qd(new Date(g.createdAt),"yyyy-MM-dd");y!==h?(h=y,u.push({date:y,messages:[g]})):u[u.length-1].messages.push(g)});const x=g=>{const y=new Date(g),p=new Date,j=new Date(p);return j.setDate(j.getDate()-1),Gy(y,p)?"Today":Gy(y,j)?"Yesterday":Qd(y,"MMMM d, yyyy")};return l?e.jsx("div",{className:"flex-1 flex items-center justify-center",children:e.jsx(jt,{className:"h-8 w-8 animate-spin text-cyan-600"})}):e.jsx("div",{className:"flex-1 overflow-y-auto p-4",ref:o,children:t.length===0?e.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:e.jsx("p",{children:"No messages yet. Start the conversation!"})}):e.jsxs("div",{className:"space-y-4",children:[u.map(g=>e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center justify-center my-4",children:e.jsx("div",{className:"bg-gray-200 text-gray-600 text-xs px-3 py-1 rounded-full",children:x(g.date)})}),g.messages.map((y,p)=>{const j=y.senderId===a,N=p>0?g.messages[p-1]:null,v=!N||N.senderId!==y.senderId;return e.jsx(xE,{message:y,isOwnMessage:j,showAvatar:v},y.id)})]},g.date)),r.length>0&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),e.jsx("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),e.jsx("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),e.jsx("span",{children:r.length===1?`${r[0].userName} is typing...`:`${r.length} people are typing...`})]}),e.jsx("div",{ref:d})]})})}function gE({threadId:t,disabled:a,placeholder:l="Type a message...",onTyping:r}){const[o,d]=b.useState(""),[u,h]=b.useState([]),x=b.useRef(null),g=b.useRef(null),y=af(t),p=b.useCallback(async()=>{if(!(!o.trim()&&u.length===0)&&!y.isPending)try{await y.mutateAsync({content:o.trim()}),d(""),h([]),x.current?.focus()}catch(_){console.error("Failed to send message:",_)}},[o,u,y]),j=_=>{_.key==="Enter"&&!_.shiftKey&&(_.preventDefault(),p())},N=_=>{d(_.target.value),r?.(),x.current&&(x.current.style.height="auto",x.current.style.height=Math.min(x.current.scrollHeight,150)+"px")},v=_=>{const E=Array.from(_.target.files||[]);h(A=>[...A,...E])},C=_=>{h(E=>E.filter((A,M)=>M!==_))},S=(o.trim()||u.length>0)&&!a;return e.jsxs("div",{className:"border-t border-gray-200 bg-white p-4",children:[u.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:u.map((_,E)=>e.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 rounded-lg px-3 py-1.5 text-sm",children:[e.jsx(Id,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"truncate max-w-[150px]",children:_.name}),e.jsx("button",{onClick:()=>C(E),className:"text-gray-400 hover:text-gray-600",children:e.jsx(Et,{className:"h-4 w-4"})})]},E))}),e.jsxs("div",{className:"flex items-end gap-2",children:[e.jsx(T,{type:"button",variant:"ghost",size:"icon",onClick:()=>g.current?.click(),disabled:a,className:"flex-shrink-0",children:e.jsx(Id,{className:"h-5 w-5 text-gray-500"})}),e.jsx("input",{ref:g,type:"file",multiple:!0,className:"hidden",onChange:v,accept:"image/*,.pdf,.doc,.docx,.xls,.xlsx,.txt"}),e.jsx("div",{className:"flex-1 relative",children:e.jsx(Rt,{ref:x,value:o,onChange:N,onKeyDown:j,placeholder:l,disabled:a,className:z("min-h-[44px] max-h-[150px] resize-none pr-4",a&&"bg-gray-50"),rows:1})}),e.jsx(T,{onClick:p,disabled:!S||y.isPending,className:"flex-shrink-0 bg-cyan-600 hover:bg-cyan-700",children:y.isPending?e.jsx(jt,{className:"h-5 w-5 animate-spin"}):e.jsx(hi,{className:"h-5 w-5"})})]}),a&&e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"This conversation is closed. Reopen it to send messages."})]})}const CN=b.createContext(void 0);function pE(){const t=b.useContext(CN);if(!t)throw new Error("useMessaging must be used within a MessagingProvider");return t}function yE({children:t}){const a=_e(),[l,r]=b.useState(null),[o]=b.useState(0),[d,u]=b.useState(new Map),[h,x]=b.useState(!1),[g,y]=b.useState(""),p=b.useCallback(_=>{switch(_.type){case"chat_message":{const{threadId:E,message:A}=_.payload;a.setQueryData(pt.thread(E),M=>M&&{...M,messages:[...M.messages,A],thread:{...M.thread,messageCount:M.thread.messageCount+1,lastMessageAt:A.createdAt,lastMessage:A}}),a.invalidateQueries({queryKey:pt.threads()}),a.invalidateQueries({queryKey:pt.unread()});break}case"chat_typing":{const{threadId:E,userId:A,userName:M,isTyping:H}=_.payload;u(I=>{const W=new Map(I);return H?W.set(A,{threadId:E,userName:M,timestamp:Date.now()}):W.delete(A),W});break}case"chat_read":{const{threadId:E}=_.payload;a.invalidateQueries({queryKey:pt.thread(E)}),a.invalidateQueries({queryKey:pt.unread()});break}}},[a]);ou({onMessage:p}),b.useEffect(()=>{const _=setInterval(()=>{const E=Date.now();u(A=>{const M=new Map(A);let H=!1;for(const[I,W]of A)E-W.timestamp>5e3&&(M.delete(I),H=!0);return H?M:A})},1e3);return()=>clearInterval(_)},[]);const j=b.useCallback((_,E)=>{a.setQueryData(pt.thread(_),A=>A&&{...A,messages:[...A.messages,E]})},[a]),N=b.useCallback(()=>{a.invalidateQueries({queryKey:pt.unread()})},[a]),v=b.useCallback(()=>{x(!0)},[]),C=b.useCallback(()=>{x(!1)},[]),S={selectedThreadId:l,setSelectedThreadId:r,onNewMessage:j,unreadCount:o,refreshUnreadCount:N,typingUsers:d,isNewThreadModalOpen:h,openNewThreadModal:v,closeNewThreadModal:C,searchQuery:g,setSearchQuery:y,isSearching:g.length>=2};return e.jsx(CN.Provider,{value:S,children:t})}function vE({threadId:t,onClose:a}){const{user:l}=Nt(),{typingUsers:r}=pE(),{data:o,isLoading:d,error:u}=sf(t),h=hM(t);b.useEffect(()=>{if(o?.messages&&o.messages.length>0){const N=o.messages[o.messages.length-1];h.mutate(N.id)}},[o?.messages?.length]);const x=Array.from(r.entries()).filter(([N,v])=>v.threadId===t).map(([N,v])=>({userId:N,userName:v.userName}));if(d)return e.jsx("div",{className:"flex-1 flex items-center justify-center bg-white",children:e.jsx(jt,{className:"h-8 w-8 animate-spin text-cyan-600"})});if(u||!o)return e.jsx("div",{className:"flex-1 flex items-center justify-center bg-white",children:e.jsxs("div",{className:"text-center text-gray-500",children:[e.jsx(qt,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),e.jsx("p",{children:"Failed to load conversation"})]})});const{thread:g,messages:y,participants:p}=o,j=l?.username||"";return e.jsxs("div",{className:"flex flex-col h-full bg-white",children:[e.jsx(hE,{thread:g,participants:p,onClose:a}),e.jsx(fE,{messages:y,currentUserId:j,typingUsers:x}),e.jsx(gE,{threadId:t,disabled:g.status==="closed"})]})}function jE({isOpen:t,onClose:a,onThreadCreated:l,incidentId:r}){const[o,d]=b.useState(""),[u,h]=b.useState(""),[x,g]=b.useState(null),y=dM(),p=async N=>{if(N.preventDefault(),g(null),!o.trim()||!u.trim()){g("Please fill in all fields");return}try{const v=await y.mutateAsync({subject:o.trim(),initialMessage:u.trim(),incidentId:r});d(""),h(""),a(),l?.(v.thread.id)}catch{g("Failed to start conversation")}},j=()=>{d(""),h(""),g(null),a()};return e.jsxs(Ms,{open:t,onClose:j,className:"max-w-[500px]",children:[e.jsx(_s,{onClose:j,children:"New Conversation"}),e.jsxs("form",{onSubmit:p,children:[e.jsxs(Ts,{className:"space-y-4",children:[x&&e.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 rounded-lg",children:x}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700",children:"Subject"}),e.jsx(ue,{id:"subject",value:o,onChange:N=>d(N.target.value),placeholder:"What is this conversation about?",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700",children:"Message"}),e.jsx(Rt,{id:"message",value:u,onChange:N=>h(N.target.value),placeholder:"Write your message...",rows:5,required:!0})]}),r&&e.jsxs("div",{className:"text-sm text-gray-500 bg-gray-50 p-3 rounded-lg",children:["This conversation will be linked to incident"," ",e.jsx("span",{className:"font-mono font-medium",children:r})]})]}),e.jsxs(Rs,{children:[e.jsx(T,{type:"button",variant:"outline",onClick:j,children:"Cancel"}),e.jsx(T,{type:"submit",disabled:y.isPending,className:"bg-cyan-600 hover:bg-cyan-700",children:y.isPending?e.jsxs(e.Fragment,{children:[e.jsx(jt,{className:"h-4 w-4 mr-2 animate-spin"}),"Sending..."]}):e.jsxs(e.Fragment,{children:[e.jsx(hi,{className:"h-4 w-4 mr-2"}),"Start Conversation"]})})]})]})]})}function bE(){const[t,a]=b.useState(null),[l,r]=b.useState(!1),[o,d]=b.useState(!1),u=y=>{a(y),d(!0)},h=()=>{d(!1)},x=()=>{r(!0)},g=y=>{a(y),d(!0)};return e.jsxs("div",{className:"h-[calc(100vh-8rem)] bg-gray-50 rounded-xl overflow-hidden border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex h-full",children:[e.jsx("div",{className:z("w-full md:w-80 lg:w-96 border-r border-gray-200 flex-shrink-0",o&&"hidden md:block"),children:e.jsx(mE,{selectedThreadId:t,onSelectThread:u,onNewThread:x})}),e.jsx("div",{className:z("flex-1 flex flex-col",!o&&"hidden md:flex"),children:t?e.jsx(vE,{threadId:t,onClose:h}):e.jsx("div",{className:"flex-1 flex items-center justify-center bg-white",children:e.jsxs("div",{className:"text-center text-gray-500",children:[e.jsx(qt,{className:"h-16 w-16 mx-auto mb-4 text-gray-300"}),e.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-2",children:"Select a conversation"}),e.jsx("p",{className:"text-sm",children:"Choose a conversation from the list to view messages"})]})})})]}),e.jsx(jE,{isOpen:l,onClose:()=>r(!1),onThreadCreated:g})]})}function NE(){return e.jsx(yE,{children:e.jsx(bE,{})})}function Qv(){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Messages"}),e.jsx("p",{className:"text-gray-500",children:"Communicate with school contacts and support team"})]}),e.jsx(NE,{})]})}function wE(){return e.jsx(D_,{children:e.jsx(Z_,{})})}const er="kb-articles",Wo="kb-stats";function SE(t={}){return Se({queryKey:[er,t],queryFn:()=>de.get("/kb/articles",t),staleTime:3e4})}function CE(){const t=_e();return Re({mutationFn:a=>de.post("/kb/articles",a),onSuccess:()=>{t.invalidateQueries({queryKey:[er]}),t.invalidateQueries({queryKey:[Wo]})}})}function kE(){const t=_e();return Re({mutationFn:({id:a,data:l})=>de.patch(`/kb/articles/${a}`,l),onSuccess:(a,{id:l})=>{t.invalidateQueries({queryKey:[er]}),t.invalidateQueries({queryKey:[er,"id",l]}),t.invalidateQueries({queryKey:[Wo]})}})}function AE(){const t=_e();return Re({mutationFn:a=>de.delete(`/kb/articles/${a}`),onSuccess:()=>{t.invalidateQueries({queryKey:[er]}),t.invalidateQueries({queryKey:[Wo]})}})}function ME(){const t=_e();return Re({mutationFn:a=>de.post(`/kb/articles/${a}/publish`,{}),onSuccess:(a,l)=>{t.invalidateQueries({queryKey:[er]}),t.invalidateQueries({queryKey:[er,"id",l]}),t.invalidateQueries({queryKey:[Wo]})}})}function _E(){return Se({queryKey:[Wo],queryFn:()=>de.get("/kb/stats"),staleTime:6e4})}function TE({stats:t,isLoading:a}){const l=[{label:"Total Articles",value:t?.total??0,icon:rs,color:"text-blue-600 bg-blue-100"},{label:"Published",value:t?.published??0,icon:xl,color:"text-green-600 bg-green-100"},{label:"Drafts",value:t?.draft??0,icon:o5,color:"text-amber-600 bg-amber-100"},{label:"Runbooks",value:t?.byContentType?.runbook??0,icon:Qa,color:"text-purple-600 bg-purple-100"}];return e.jsx("div",{className:"grid gap-4 md:grid-cols-4",children:l.map(r=>e.jsx(F,{children:e.jsxs(P,{className:"flex items-center p-4",children:[e.jsx("div",{className:`rounded-lg p-3 ${r.color.split(" ")[1]}`,children:e.jsx(r.icon,{className:`h-5 w-5 ${r.color.split(" ")[0]}`})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:r.label}),a?e.jsx("div",{className:"h-7 w-16 bg-gray-200 rounded animate-pulse mt-1"}):e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.value})]})]})},r.label))})}const il={runbook:"Runbook",troubleshooting:"Troubleshooting",kedb:"Known Issues",checklist:"Checklist",sop:"SOP"},ol={learning_portal:"Learning Portal",mdm:"MDM",sso:"SSO",devices:"Devices",inventory:"Inventory",general:"General"},Ql={demo:"Demo",install:"Install",commission:"Commission",support:"Support"},Zd={draft:"Draft",published:"Published",archived:"Archived"};function RE({search:t,onSearchChange:a,contentType:l,onContentTypeChange:r,module:o,onModuleChange:d,lifecycleStage:u,onLifecycleStageChange:h,status:x,onStatusChange:g,onClearFilters:y,hasFilters:p}){return e.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[e.jsxs("div",{className:"relative flex-1 min-w-[200px] max-w-sm",children:[e.jsx(gs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(ue,{placeholder:"Search articles...",className:"pl-10",value:t,onChange:j=>a(j.target.value)})]}),e.jsxs(Me,{value:l,onValueChange:r,children:[e.jsx(ut,{className:"w-[160px]",children:e.jsx(ft,{placeholder:"Content Type"})}),e.jsxs(mt,{children:[e.jsx(Ue,{value:"all",children:"All Types"}),Object.keys(il).map(j=>e.jsx(Ue,{value:j,children:il[j]},j))]})]}),e.jsxs(Me,{value:o,onValueChange:d,children:[e.jsx(ut,{className:"w-[160px]",children:e.jsx(ft,{placeholder:"Module"})}),e.jsxs(mt,{children:[e.jsx(Ue,{value:"all",children:"All Modules"}),Object.keys(ol).map(j=>e.jsx(Ue,{value:j,children:ol[j]},j))]})]}),e.jsxs(Me,{value:u,onValueChange:h,children:[e.jsx(ut,{className:"w-[160px]",children:e.jsx(ft,{placeholder:"Stage"})}),e.jsxs(mt,{children:[e.jsx(Ue,{value:"all",children:"All Stages"}),Object.keys(Ql).map(j=>e.jsx(Ue,{value:j,children:Ql[j]},j))]})]}),e.jsxs(Me,{value:x,onValueChange:g,children:[e.jsx(ut,{className:"w-[140px]",children:e.jsx(ft,{placeholder:"Status"})}),e.jsxs(mt,{children:[e.jsx(Ue,{value:"all",children:"All Status"}),Object.keys(Zd).map(j=>e.jsx(Ue,{value:j,children:Zd[j]},j))]})]}),p&&e.jsxs(T,{variant:"ghost",size:"sm",onClick:y,children:[e.jsx(Et,{className:"h-4 w-4 mr-1"}),"Clear"]})]})}const DE={runbook:Qa,troubleshooting:We,kedb:w4,checklist:D5,sop:rs},EE={draft:"bg-amber-100 text-amber-800",published:"bg-green-100 text-green-800",archived:"bg-gray-100 text-gray-800"};function OE(){return e.jsx("div",{className:"space-y-4",children:[1,2,3].map(t=>e.jsx(F,{children:e.jsxs(P,{className:"p-4",children:[e.jsx("div",{className:"h-6 w-3/4 bg-gray-200 rounded animate-pulse mb-2"}),e.jsx("div",{className:"h-4 w-full bg-gray-200 rounded animate-pulse mb-4"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"h-5 w-20 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-5 w-16 bg-gray-200 rounded animate-pulse"})]})]})},t))})}function zE({articles:t,isLoading:a,onArticleClick:l}){return a?e.jsx(OE,{}):t.length===0?e.jsx(F,{children:e.jsxs(P,{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(Qa,{className:"h-12 w-12 text-gray-300 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No articles found"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Try adjusting your filters or create a new article."})]})}):e.jsx("div",{className:"space-y-4",children:t.map(r=>{const o=DE[r.contentType]||rs;return e.jsx(F,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>l(r),children:e.jsx(P,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"rounded-lg bg-emerald-100 p-2.5",children:e.jsx(o,{className:"h-5 w-5 text-emerald-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:r.title}),e.jsx(ee,{className:EE[r.status],variant:"secondary",children:Zd[r.status]})]}),e.jsx("p",{className:"text-sm text-gray-500 line-clamp-2 mb-3",children:r.summary||"No summary available"}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-xs text-gray-400",children:[e.jsx(ee,{variant:"outline",children:il[r.contentType]}),e.jsx(ee,{variant:"outline",children:ol[r.module]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Pt,{className:"h-3 w-3"}),r.updatedByName||"Unknown"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ot,{className:"h-3 w-3"}),$s(new Date(r.updatedAt),{addSuffix:!0})]})]})]})]})})},r.id)})})}const LE={draft:"bg-amber-100 text-amber-800",published:"bg-green-100 text-green-800",archived:"bg-gray-100 text-gray-800"};function qE({article:t,open:a,onClose:l,onUpdate:r,onPublish:o,onDelete:d,isUpdating:u}){const{hasPermission:h}=Nt(),x=h("kb:update"),g=h("kb:delete"),[y,p]=b.useState(!1),[j,N]=b.useState({}),v=()=>{t&&(N({title:t.title,slug:t.slug,summary:t.summary,content:t.content,contentType:t.contentType,module:t.module,lifecycleStage:t.lifecycleStage,tags:t.tags}),p(!0))},C=()=>{p(!1),N({})},S=()=>{t&&(r(t.id,j),p(!1))},_=()=>{t&&o(t.id)},E=()=>{t&&window.confirm("Are you sure you want to archive this article?")&&(d(t.id),l())};return t?e.jsxs(ir,{open:a,onClose:l,side:"right",className:"sm:max-w-2xl",children:[e.jsx(or,{onClose:l,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{children:y?"Edit Article":t.title}),!y&&e.jsx(ee,{className:LE[t.status],children:Zd[t.status]})]})}),e.jsx(cr,{children:e.jsx("div",{className:"space-y-6",children:y?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(De,{children:"Title"}),e.jsx(ue,{value:j.title||"",onChange:A=>N({...j,title:A.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(De,{children:"Slug"}),e.jsx(ue,{value:j.slug||"",onChange:A=>N({...j,slug:A.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(De,{children:"Summary"}),e.jsx(Rt,{value:j.summary||"",onChange:A=>N({...j,summary:A.target.value}),rows:2})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(De,{children:"Content Type"}),e.jsxs(Me,{value:j.contentType,onValueChange:A=>N({...j,contentType:A}),children:[e.jsx(ut,{children:e.jsx(ft,{})}),e.jsx(mt,{children:Object.keys(il).map(A=>e.jsx(Ue,{value:A,children:il[A]},A))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(De,{children:"Module"}),e.jsxs(Me,{value:j.module,onValueChange:A=>N({...j,module:A}),children:[e.jsx(ut,{children:e.jsx(ft,{})}),e.jsx(mt,{children:Object.keys(ol).map(A=>e.jsx(Ue,{value:A,children:ol[A]},A))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(De,{children:"Lifecycle Stage"}),e.jsxs(Me,{value:j.lifecycleStage,onValueChange:A=>N({...j,lifecycleStage:A}),children:[e.jsx(ut,{children:e.jsx(ft,{})}),e.jsx(mt,{children:Object.keys(Ql).map(A=>e.jsx(Ue,{value:A,children:Ql[A]},A))})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(De,{children:"Content"}),e.jsx(Rt,{value:j.content||"",onChange:A=>N({...j,content:A.target.value}),rows:12,className:"font-mono text-sm"})]})]}):e.jsxs(e.Fragment,{children:[t.summary&&e.jsx("p",{className:"text-gray-600",children:t.summary}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Pt,{className:"h-4 w-4"}),t.createdByName]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ot,{className:"h-4 w-4"}),Qd(new Date(t.createdAt),"PPP")]}),e.jsxs("span",{className:"text-xs",children:["Updated ",$s(new Date(t.updatedAt),{addSuffix:!0})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(ee,{variant:"outline",children:il[t.contentType]}),e.jsx(ee,{variant:"outline",children:ol[t.module]}),e.jsx(ee,{variant:"outline",children:Ql[t.lifecycleStage]})]}),t.tags&&t.tags.length>0&&e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx($x,{className:"h-4 w-4 text-gray-400"}),t.tags.map(A=>e.jsx(ee,{variant:"secondary",className:"text-xs",children:A},A))]}),e.jsx("div",{className:"prose prose-sm max-w-none",children:e.jsx("div",{className:"bg-gray-50 rounded-lg p-4 whitespace-pre-wrap font-mono text-sm",children:t.content})})]})})}),e.jsx(dr,{children:y?e.jsxs(e.Fragment,{children:[e.jsxs(T,{variant:"ghost",onClick:C,children:[e.jsx(Et,{className:"h-4 w-4 mr-2"}),"Cancel"]}),e.jsxs(T,{onClick:S,disabled:u,children:[u&&e.jsx(jt,{className:"h-4 w-4 mr-2 animate-spin"}),"Save Changes"]})]}):e.jsxs(e.Fragment,{children:[g&&t.status!=="archived"&&e.jsxs(T,{variant:"ghost",size:"sm",className:"text-red-600 mr-auto",onClick:E,children:[e.jsx(fl,{className:"h-4 w-4 mr-2"}),"Archive"]}),x&&e.jsxs(T,{variant:"outline",onClick:v,children:[e.jsx(sr,{className:"h-4 w-4 mr-2"}),"Edit"]}),x&&t.status==="draft"&&e.jsxs(T,{onClick:_,disabled:u,children:[u&&e.jsx(jt,{className:"h-4 w-4 mr-2 animate-spin"}),e.jsx(hi,{className:"h-4 w-4 mr-2"}),"Publish"]})]})})]}):null}const Gv={title:"",slug:"",summary:"",content:"",contentType:"runbook",module:"general",lifecycleStage:"support",tags:[]};function FE({open:t,onClose:a,onSubmit:l,isLoading:r}){const[o,d]=b.useState(Gv),u=g=>{g.preventDefault(),!(!o.title||!o.content)&&l(o)},h=()=>{d(Gv),a()},x=()=>{const g=o.title.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"");d({...o,slug:g})};return e.jsx(of,{open:t,onOpenChange:g=>!g&&h(),children:e.jsxs(cf,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(df,{children:[e.jsx(uf,{children:"Create New Article"}),e.jsx(mf,{children:"Add a new knowledge base article. Articles are created as drafts and can be published later."})]}),e.jsxs("form",{onSubmit:u,className:"space-y-4 mt-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(De,{htmlFor:"title",children:"Title *"}),e.jsx(ue,{id:"title",value:o.title,onChange:g=>d({...o,title:g.target.value}),placeholder:"Enter article title",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(De,{htmlFor:"slug",children:["Slug",e.jsx(T,{type:"button",variant:"link",size:"sm",className:"ml-2 h-auto p-0 text-xs",onClick:x,children:"Generate from title"})]}),e.jsx(ue,{id:"slug",value:o.slug,onChange:g=>d({...o,slug:g.target.value}),placeholder:"article-url-slug"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(De,{htmlFor:"summary",children:"Summary"}),e.jsx(Rt,{id:"summary",value:o.summary,onChange:g=>d({...o,summary:g.target.value}),placeholder:"Brief description of the article",rows:2})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(De,{children:"Content Type"}),e.jsxs(Me,{value:o.contentType,onValueChange:g=>d({...o,contentType:g}),children:[e.jsx(ut,{children:e.jsx(ft,{})}),e.jsx(mt,{children:Object.keys(il).map(g=>e.jsx(Ue,{value:g,children:il[g]},g))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(De,{children:"Module"}),e.jsxs(Me,{value:o.module,onValueChange:g=>d({...o,module:g}),children:[e.jsx(ut,{children:e.jsx(ft,{})}),e.jsx(mt,{children:Object.keys(ol).map(g=>e.jsx(Ue,{value:g,children:ol[g]},g))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(De,{children:"Lifecycle Stage"}),e.jsxs(Me,{value:o.lifecycleStage,onValueChange:g=>d({...o,lifecycleStage:g}),children:[e.jsx(ut,{children:e.jsx(ft,{})}),e.jsx(mt,{children:Object.keys(Ql).map(g=>e.jsx(Ue,{value:g,children:Ql[g]},g))})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(De,{htmlFor:"content",children:"Content *"}),e.jsx(Rt,{id:"content",value:o.content,onChange:g=>d({...o,content:g.target.value}),placeholder:"Write your article content here...",rows:10,className:"font-mono text-sm",required:!0})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(T,{type:"button",variant:"outline",onClick:h,children:"Cancel"}),e.jsxs(T,{type:"submit",disabled:r||!o.title||!o.content,children:[r&&e.jsx(jt,{className:"h-4 w-4 mr-2 animate-spin"}),"Create Article"]})]})]})]})})}function PE(){const{hasPermission:t}=Nt(),a=t("kb:create"),[l,r]=b.useState(""),[o,d]=b.useState("all"),[u,h]=b.useState("all"),[x,g]=b.useState("all"),[y,p]=b.useState("all"),[j,N]=b.useState(!1),[v,C]=b.useState(null),[S,_]=b.useState(!1),E={q:l||void 0,contentType:o!=="all"?o:void 0,module:u!=="all"?u:void 0,lifecycleStage:x!=="all"?x:void 0,status:y!=="all"?y:void 0,limit:50},A=l!==""||o!=="all"||u!=="all"||x!=="all"||y!=="all",{data:M,isLoading:H}=SE(E),{data:I,isLoading:W}=_E(),Q=CE(),K=kE(),q=ME(),$=AE(),re=M?.items||[],le=()=>{r(""),d("all"),h("all"),g("all"),p("all")},xe=ye=>{C(ye),_(!0)},me=b.useCallback(ye=>{Q.mutate(ye,{onSuccess:()=>{N(!1),xt.success("Article created","Your article has been saved as a draft")},onError:()=>{xt.error("Failed to create article","Please try again")}})},[Q]),D=b.useCallback((ye,fe)=>{K.mutate({id:ye,data:fe},{onSuccess:Te=>{C(Te),xt.success("Article updated","Your changes have been saved")},onError:()=>{xt.error("Failed to update article","Please try again")}})},[K]),X=b.useCallback(ye=>{q.mutate(ye,{onSuccess:fe=>{C(fe),xt.success("Article published","Your article is now live")},onError:()=>{xt.error("Failed to publish article","Please try again")}})},[q]),Z=b.useCallback(ye=>{$.mutate(ye,{onSuccess:()=>{_(!1),C(null),xt.success("Article archived","The article has been archived")},onError:()=>{xt.error("Failed to archive article","Please try again")}})},[$]),be=K.isPending||q.isPending||$.isPending;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-lg bg-emerald-100 p-2",children:e.jsx(Qa,{className:"h-6 w-6 text-emerald-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Knowledge Base"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Technical documentation for field operations"})]})]}),a&&e.jsxs(T,{onClick:()=>N(!0),children:[e.jsx(Tt,{className:"h-4 w-4 mr-2"}),"Create Article"]})]}),e.jsx(TE,{stats:I,isLoading:W}),e.jsx(RE,{search:l,onSearchChange:r,contentType:o,onContentTypeChange:d,module:u,onModuleChange:h,lifecycleStage:x,onLifecycleStageChange:g,status:y,onStatusChange:p,onClearFilters:le,hasFilters:A}),e.jsx(zE,{articles:re,isLoading:H,onArticleClick:xe}),M?.nextCursor&&e.jsx("div",{className:"flex justify-center pt-4",children:e.jsxs(T,{variant:"outline",disabled:H,children:[H&&e.jsx(jt,{className:"h-4 w-4 mr-2 animate-spin"}),"Load More"]})}),e.jsx(FE,{open:j,onClose:()=>N(!1),onSubmit:me,isLoading:Q.isPending}),e.jsx(qE,{article:v,open:S,onClose:()=>{_(!1),C(null)},onUpdate:D,onPublish:X,onDelete:Z,isUpdating:be})]})}const UE={getDashboard:t=>{const a=t?`?days=${t}`:"";return de.get(`/sales/dashboard${a}`)},getMetrics:(t,a)=>{const l=new URLSearchParams;t&&l.set("startDate",t),a&&l.set("endDate",a);const r=l.toString();return de.get(`/sales/metrics${r?`?${r}`:""}`)},getPipelineStages:()=>de.get("/sales/pipeline-stages"),incrementMetric:(t,a)=>de.post("/sales/metrics/increment",{metric:t,value:a})},Gl={new_lead:"New Lead",contacted:"Contacted",demo_scheduled:"Demo Scheduled",demo_completed:"Demo Completed",proposal_sent:"Proposal Sent",negotiation:"Negotiation",won:"Won",lost:"Lost"},Jd={new_lead:"bg-blue-100 text-blue-800",contacted:"bg-yellow-100 text-yellow-800",demo_scheduled:"bg-purple-100 text-purple-800",demo_completed:"bg-indigo-100 text-indigo-800",proposal_sent:"bg-orange-100 text-orange-800",negotiation:"bg-pink-100 text-pink-800",won:"bg-green-100 text-green-800",lost:"bg-red-100 text-red-800"},IE={website:"Website",referral:"Referral",event:"Event",cold_outreach:"Cold Outreach",inbound:"Inbound"},yf={presentation:"Presentation",brochure:"Brochure",case_study:"Case Study",video:"Video",roi_calculator:"ROI Calculator",template:"Template",other:"Other"},kN={general:"General",product_overview:"Product Overview",technical:"Technical",pricing:"Pricing",onboarding:"Onboarding",training:"Training"};function Sd(t){return t>=1e6?`KES ${(t/1e6).toFixed(1)}M`:t>=1e3?`KES ${(t/1e3).toFixed(0)}K`:`KES ${t.toFixed(0)}`}function VE(t){const a=new Date(t),r=new Date().getTime()-a.getTime(),o=Math.floor(r/(1e3*60)),d=Math.floor(r/(1e3*60*60)),u=Math.floor(r/(1e3*60*60*24));return o<60?`${o} min ago`:d<24?`${d} hours ago`:u===1?"Yesterday":u<7?`${u} days ago`:a.toLocaleDateString()}function HE(t){switch(t){case"demo":return e.jsx(Yt,{className:"h-4 w-4 text-blue-600"});case"stage_change":return e.jsx(Pe,{className:"h-4 w-4 text-yellow-600"});case"note":return e.jsx(rs,{className:"h-4 w-4 text-purple-600"});case"call":return e.jsx(Ot,{className:"h-4 w-4 text-amber-600"});case"created":return e.jsx(sa,{className:"h-4 w-4 text-gray-600"});default:return e.jsx(Oa,{className:"h-4 w-4 text-green-600"})}}const BE={new_lead:"bg-blue-400",contacted:"bg-yellow-400",demo_scheduled:"bg-purple-400",demo_completed:"bg-indigo-400",proposal_sent:"bg-orange-400",negotiation:"bg-pink-400",won:"bg-green-400",lost:"bg-red-400"};function $E(){const{data:t,isLoading:a,error:l}=Se({queryKey:["sales-dashboard"],queryFn:()=>UE.getDashboard(30),refetchInterval:6e4});if(a)return e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(jt,{className:"h-8 w-8 animate-spin text-gray-400"})});if(l)return e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("p",{className:"text-red-500",children:"Failed to load dashboard data"})});const r=t?.metrics||{totalLeads:0,newLeadsThisPeriod:0,demosScheduled:0,demosCompleted:0,proposalsSent:0,dealsWon:0,dealsLost:0,totalPipelineValue:0,wonValueThisPeriod:0,winRate:0,averageDealSize:0},o=t?.pipelineStages||[],d=t?.recentActivities||[],u=t?.schoolsByRegion||[],h=o.filter(x=>x.stage!=="lost");return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Sales Dashboard"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Track your sales pipeline and demo performance"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(T,{variant:"outline",asChild:!0,children:e.jsxs(ce,{to:"/presentations",children:[e.jsx(Wl,{className:"h-4 w-4 mr-2"}),"Presentations"]})}),e.jsx(T,{asChild:!0,children:e.jsxs(ce,{to:"/demo-pipeline",children:[e.jsx(sa,{className:"h-4 w-4 mr-2"}),"View Pipeline"]})})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(F,{children:[e.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(oe,{className:"text-sm font-medium",children:"Demos Completed"}),e.jsx(Ot,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(P,{children:[e.jsx("div",{className:"text-2xl font-bold",children:r.demosCompleted}),e.jsxs("p",{className:"text-xs text-gray-500",children:[r.demosScheduled," scheduled"]})]})]}),e.jsxs(F,{children:[e.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(oe,{className:"text-sm font-medium",children:"Pipeline Value"}),e.jsx(Oa,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(P,{children:[e.jsx("div",{className:"text-2xl font-bold",children:Sd(r.totalPipelineValue)}),e.jsxs("p",{className:"text-xs text-green-600",children:[Sd(r.wonValueThisPeriod)," won this period"]})]})]}),e.jsxs(F,{children:[e.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(oe,{className:"text-sm font-medium",children:"Win Rate"}),e.jsx(ai,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(P,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[r.winRate.toFixed(0),"%"]}),e.jsxs("p",{className:"text-xs text-gray-500",children:[r.dealsWon," won / ",r.dealsLost," lost"]})]})]}),e.jsxs(F,{children:[e.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(oe,{className:"text-sm font-medium",children:"Total Leads"}),e.jsx(Ft,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(P,{children:[e.jsx("div",{className:"text-2xl font-bold",children:r.totalLeads}),e.jsxs("p",{className:"text-xs text-green-600",children:["+",r.newLeadsThisPeriod," this period"]})]})]})]}),e.jsxs(F,{children:[e.jsxs(ie,{className:"flex flex-row items-center justify-between",children:[e.jsx(oe,{children:"Demo Pipeline"}),e.jsx(T,{variant:"ghost",size:"sm",asChild:!0,children:e.jsxs(ce,{to:"/demo-pipeline",children:["View All ",e.jsx(Pe,{className:"ml-2 h-4 w-4"})]})})]}),e.jsx(P,{children:h.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No pipeline data available"}):e.jsx("div",{className:"flex items-center justify-between gap-2",children:h.map(x=>e.jsxs("div",{className:"flex-1 text-center relative",children:[e.jsx("div",{className:`h-16 ${BE[x.stage]||"bg-gray-400"} rounded-lg flex items-center justify-center mb-2`,children:e.jsx("span",{className:"text-2xl font-bold text-white",children:x.count})}),e.jsx("p",{className:"text-xs text-gray-600 truncate",children:Gl[x.stage]||x.stage}),e.jsx("p",{className:"text-xs text-gray-400",children:Sd(x.totalValue)})]},x.stage))})})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs(F,{children:[e.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(oe,{className:"text-sm font-medium",children:"Proposals Sent"}),e.jsx(rs,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(P,{children:e.jsx("div",{className:"text-2xl font-bold",children:r.proposalsSent})})]}),e.jsxs(F,{children:[e.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(oe,{className:"text-sm font-medium",children:"Deals Won"}),e.jsx(xl,{className:"h-4 w-4 text-green-500"})]}),e.jsx(P,{children:e.jsx("div",{className:"text-2xl font-bold text-green-600",children:r.dealsWon})})]}),e.jsxs(F,{children:[e.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(oe,{className:"text-sm font-medium",children:"Average Deal Size"}),e.jsx(tr,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(P,{children:e.jsx("div",{className:"text-2xl font-bold",children:Sd(r.averageDealSize)})})]})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs(F,{children:[e.jsx(ie,{children:e.jsx(oe,{children:"Recent Activities"})}),e.jsx(P,{children:d.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No recent activities"}):e.jsx("div",{className:"space-y-4",children:d.map(x=>e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 rounded-full bg-gray-100",children:HE(x.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:x.leadName||"Unknown Lead"}),e.jsx("p",{className:"text-sm text-gray-500",children:x.description})]}),e.jsx("span",{className:"text-xs text-gray-400",children:VE(x.createdAt)})]},x.id))})})]}),e.jsxs(F,{children:[e.jsxs(ie,{className:"flex flex-row items-center justify-between",children:[e.jsx(oe,{children:"Leads by Region"}),e.jsx(T,{variant:"ghost",size:"sm",asChild:!0,children:e.jsxs(ce,{to:"/demo-pipeline",children:["View All ",e.jsx(Pe,{className:"ml-2 h-4 w-4"})]})})]}),e.jsx(P,{children:u.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No regional data available"}):e.jsx("div",{className:"space-y-4",children:u.map(x=>e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-24 text-sm font-medium text-gray-900",children:x.region}),e.jsx("div",{className:"flex-1",children:e.jsx("div",{className:"flex h-4 overflow-hidden rounded-full bg-gray-100",children:e.jsx("div",{className:"bg-blue-500",style:{width:`${Math.min(100,x.count/Math.max(...u.map(g=>g.count))*100)}%`}})})}),e.jsxs("div",{className:"text-sm text-gray-600 w-16 text-right",children:[x.count," leads"]})]},x.region))})})]})]}),e.jsxs(F,{children:[e.jsx(ie,{children:e.jsx(oe,{children:"Quick Actions"})}),e.jsx(P,{children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[e.jsx(T,{variant:"outline",className:"h-20 flex-col",asChild:!0,children:e.jsxs(ce,{to:"/demo-pipeline",children:[e.jsx(Ot,{className:"h-6 w-6 mb-2"}),"Schedule Demo"]})}),e.jsx(T,{variant:"outline",className:"h-20 flex-col",asChild:!0,children:e.jsxs(ce,{to:"/schools",children:[e.jsx(Ft,{className:"h-6 w-6 mb-2"}),"View Schools"]})}),e.jsx(T,{variant:"outline",className:"h-20 flex-col",asChild:!0,children:e.jsxs(ce,{to:"/presentations",children:[e.jsx(Wl,{className:"h-6 w-6 mb-2"}),"Presentations"]})}),e.jsx(T,{variant:"outline",className:"h-20 flex-col",asChild:!0,children:e.jsxs(ce,{to:"/projects",children:[e.jsx(rs,{className:"h-6 w-6 mb-2"}),"View Projects"]})})]})})]})]})}const So={listLeads:t=>{const a=new URLSearchParams;return t?.stage&&a.set("stage",t.stage),t?.assignedTo&&a.set("assignedTo",t.assignedTo),t?.source&&a.set("source",t.source),t?.search&&a.set("search",t.search),t?.limit&&a.set("limit",String(t.limit)),t?.offset&&a.set("offset",String(t.offset)),de.get(`/demo-pipeline/leads?${a.toString()}`)},getLead:t=>de.get(`/demo-pipeline/leads/${t}`),createLead:t=>de.post("/demo-pipeline/leads",t),updateLead:(t,a)=>de.put(`/demo-pipeline/leads/${t}`,a),updateStage:(t,a)=>de.put(`/demo-pipeline/leads/${t}/stage`,a),deleteLead:t=>de.delete(`/demo-pipeline/leads/${t}`),getActivities:(t,a)=>{const l=a?`?limit=${a}`:"";return de.get(`/demo-pipeline/leads/${t}/activities${l}`)},addNote:(t,a)=>de.post(`/demo-pipeline/leads/${t}/notes`,{note:a}),scheduleDemo:(t,a)=>de.post(`/demo-pipeline/leads/${t}/schedule-demo`,a),getPipelineSummary:()=>de.get("/demo-pipeline/summary"),getRecentActivities:t=>{const a=t?`?limit=${t}`:"";return de.get(`/demo-pipeline/activities${a}`)}},KE=["website","referral","event","cold_outreach","inbound"];function QE({open:t,onClose:a,onSubmit:l,isLoading:r}){const[o,d]=b.useState({schoolName:"",contactName:"",contactEmail:"",contactPhone:"",contactRole:"",countyCode:"",countyName:"",subCountyCode:"",subCountyName:"",estimatedValue:void 0,estimatedDevices:void 0,leadSource:"website",notes:"",tags:[]}),{data:u}=vN(),{data:h}=jN(o.countyCode),x=b.useMemo(()=>u?.items?u.items:[],[u?.items]),g=b.useMemo(()=>h?.items?h.items:[],[h?.items]),y=v=>{const C=x?.find(S=>S.code===v);d({...o,countyCode:v,countyName:C?.name||"",subCountyCode:"",subCountyName:""})},p=v=>{const C=g?.find(S=>S.code===v);d({...o,subCountyCode:v,subCountyName:C?.name||""})},j=v=>{v.preventDefault(),l(o)},N=()=>{d({schoolName:"",contactName:"",contactEmail:"",contactPhone:"",contactRole:"",countyCode:"",countyName:"",subCountyCode:"",subCountyName:"",estimatedValue:void 0,estimatedDevices:void 0,leadSource:"website",notes:"",tags:[]}),a()};return e.jsxs(Ms,{open:t,onClose:N,className:"max-w-lg",children:[e.jsx(_s,{onClose:N,children:"Add New Lead"}),e.jsxs("form",{onSubmit:j,children:[e.jsx(Ts,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(De,{htmlFor:"schoolName",children:"School Name *"}),e.jsx(ue,{id:"schoolName",value:o.schoolName,onChange:v=>d({...o,schoolName:v.target.value}),placeholder:"Enter school name",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(De,{htmlFor:"contactName",children:"Contact Name"}),e.jsx(ue,{id:"contactName",value:o.contactName,onChange:v=>d({...o,contactName:v.target.value}),placeholder:"Contact person name"})]}),e.jsxs("div",{children:[e.jsx(De,{htmlFor:"contactRole",children:"Role"}),e.jsx(ue,{id:"contactRole",value:o.contactRole,onChange:v=>d({...o,contactRole:v.target.value}),placeholder:"e.g., Principal, IT Admin"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(De,{htmlFor:"contactEmail",children:"Email"}),e.jsx(ue,{id:"contactEmail",type:"email",value:o.contactEmail,onChange:v=>d({...o,contactEmail:v.target.value}),placeholder:"email@school.edu"})]}),e.jsxs("div",{children:[e.jsx(De,{htmlFor:"contactPhone",children:"Phone"}),e.jsx(ue,{id:"contactPhone",value:o.contactPhone,onChange:v=>d({...o,contactPhone:v.target.value}),placeholder:"+254 7XX XXX XXX"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(De,{htmlFor:"county",children:"County"}),e.jsxs(Me,{value:o.countyCode||"",onValueChange:y,children:[e.jsx(ut,{children:e.jsx(ft,{placeholder:"Select county"})}),e.jsx(mt,{children:x.map(v=>e.jsx(Ue,{value:v.code,children:v.name},v.code))})]})]}),e.jsxs("div",{children:[e.jsx(De,{htmlFor:"subCounty",children:"Sub-County"}),e.jsxs(Me,{value:o.subCountyCode||"",onValueChange:p,disabled:!o.countyCode,children:[e.jsx(ut,{children:e.jsx(ft,{placeholder:"Select sub-county"})}),e.jsx(mt,{children:g.map(v=>e.jsx(Ue,{value:v.code,children:v.name},v.code))})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(De,{htmlFor:"estimatedValue",children:"Estimated Value (KES)"}),e.jsx(ue,{id:"estimatedValue",type:"number",min:"0",value:o.estimatedValue||"",onChange:v=>d({...o,estimatedValue:v.target.value?Number(v.target.value):void 0}),placeholder:"0"})]}),e.jsxs("div",{children:[e.jsx(De,{htmlFor:"estimatedDevices",children:"Estimated Devices"}),e.jsx(ue,{id:"estimatedDevices",type:"number",min:"0",value:o.estimatedDevices||"",onChange:v=>d({...o,estimatedDevices:v.target.value?Number(v.target.value):void 0}),placeholder:"0"})]})]}),e.jsxs("div",{children:[e.jsx(De,{htmlFor:"leadSource",children:"Lead Source"}),e.jsxs(Me,{value:o.leadSource,onValueChange:v=>d({...o,leadSource:v}),children:[e.jsx(ut,{children:e.jsx(ft,{placeholder:"Select source"})}),e.jsx(mt,{children:KE.map(v=>e.jsx(Ue,{value:v,children:IE[v]},v))})]})]}),e.jsxs("div",{children:[e.jsx(De,{htmlFor:"notes",children:"Notes"}),e.jsx(Rt,{id:"notes",value:o.notes,onChange:v=>d({...o,notes:v.target.value}),placeholder:"Initial inquiry details, interests, etc.",rows:3})]})]})}),e.jsxs(Rs,{children:[e.jsx(T,{type:"button",variant:"outline",onClick:N,children:"Cancel"}),e.jsx(T,{type:"submit",disabled:!o.schoolName.trim()||r,children:r?"Creating...":"Create Lead"})]})]})]})}function xa({icon:t,label:a,value:l}){return e.jsxs("div",{className:"flex items-start gap-3 py-2",children:[e.jsx("div",{className:"text-gray-400 mt-0.5",children:t}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-sm text-gray-500",children:a}),e.jsx("div",{className:"font-medium text-gray-900",children:l||"-"})]})]})}function GE(t){return new Intl.NumberFormat("en-KE",{style:"currency",currency:"KES",minimumFractionDigits:0}).format(t)}const ax=["new_lead","contacted","demo_scheduled","demo_completed","proposal_sent","negotiation","won"];function YE(t){const a=ax.indexOf(t);return a===-1||a>=ax.length-1?null:ax[a+1]}function XE({activity:t}){const a=()=>{switch(t.activityType){case"note":return e.jsx(qt,{className:"h-4 w-4 text-blue-500"});case"call":return e.jsx(Vd,{className:"h-4 w-4 text-green-500"});case"email":return e.jsx(Vx,{className:"h-4 w-4 text-purple-500"});case"meeting":return e.jsx(Ot,{className:"h-4 w-4 text-orange-500"});case"demo":return e.jsx(li,{className:"h-4 w-4 text-indigo-500"});case"stage_change":return e.jsx(Pe,{className:"h-4 w-4 text-yellow-500"});default:return e.jsx(it,{className:"h-4 w-4 text-gray-400"})}};return e.jsxs("div",{className:"flex gap-3 py-3 border-b last:border-b-0",children:[e.jsx("div",{className:"mt-0.5",children:a()}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-900",children:t.description}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:Vo(t.createdAt)})]})]})}function WE({lead:t,open:a,onClose:l,onUpdateStage:r,onAddNote:o,onScheduleDemo:d,isUpdating:u}){const[h,x]=b.useState("details"),[g,y]=b.useState(""),[p,j]=b.useState("");if(!t)return null;const N=YE(t.stage),v=t.stage!=="won"&&t.stage!=="lost",C=()=>{N&&r(t.id,{stage:N})},S=()=>{r(t.id,{stage:"won"})},_=()=>{r(t.id,{stage:"lost",lostReason:p,lostNotes:""}),j("")},E=()=>{g.trim()&&(o(t.id,g.trim()),y(""))};return e.jsxs(ir,{open:a,onClose:l,side:"right",className:"max-w-lg",children:[e.jsx(or,{onClose:l,children:"Lead Details"}),e.jsx(cr,{className:"p-0",children:e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsx("div",{className:"p-6 border-b border-gray-200 bg-gray-50",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex h-14 w-14 items-center justify-center rounded-xl bg-blue-100",children:e.jsx(Ft,{className:"h-7 w-7 text-blue-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 truncate",children:t.schoolName}),e.jsx("p",{className:"text-sm text-gray-500",children:t.contactName}),e.jsx(ee,{className:z("mt-2",Jd[t.stage]),children:Gl[t.stage]})]})]})}),e.jsxs(lr,{value:h,onValueChange:x,className:"flex-1 flex flex-col",children:[e.jsxs(rr,{className:"border-b px-6",children:[e.jsx(kt,{value:"details",children:"Details"}),e.jsx(kt,{value:"activity",children:"Activity"}),e.jsx(kt,{value:"actions",children:"Actions"})]}),e.jsxs(At,{value:"details",className:"flex-1 overflow-auto p-6",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(xa,{icon:e.jsx(Pt,{className:"h-4 w-4"}),label:"Contact",value:t.contactName}),e.jsx(xa,{icon:e.jsx(Vx,{className:"h-4 w-4"}),label:"Email",value:t.contactEmail}),e.jsx(xa,{icon:e.jsx(Vd,{className:"h-4 w-4"}),label:"Phone",value:t.contactPhone}),e.jsx(xa,{icon:e.jsx($x,{className:"h-4 w-4"}),label:"Role",value:t.contactRole}),(t.countyName||t.subCountyName)&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"border-t my-4"}),e.jsx(xa,{icon:e.jsx(_a,{className:"h-4 w-4"}),label:"County",value:t.countyName||"-"}),e.jsx(xa,{icon:e.jsx(_a,{className:"h-4 w-4"}),label:"Sub-County",value:t.subCountyName||"-"})]}),e.jsx("div",{className:"border-t my-4"}),e.jsx(xa,{icon:e.jsx(tr,{className:"h-4 w-4"}),label:"Estimated Value",value:t.estimatedValue?GE(t.estimatedValue):"-"}),e.jsx(xa,{icon:e.jsx(li,{className:"h-4 w-4"}),label:"Estimated Devices",value:t.estimatedDevices?.toString()}),e.jsx(xa,{icon:e.jsx(sa,{className:"h-4 w-4"}),label:"Win Probability",value:`${t.probability}%`}),e.jsx("div",{className:"border-t my-4"}),e.jsx(xa,{icon:e.jsx(Ot,{className:"h-4 w-4"}),label:"Created",value:st(t.createdAt)}),t.expectedCloseDate&&e.jsx(xa,{icon:e.jsx(Ot,{className:"h-4 w-4"}),label:"Expected Close",value:st(t.expectedCloseDate)}),t.nextDemo&&e.jsx(xa,{icon:e.jsx(li,{className:"h-4 w-4"}),label:"Next Demo",value:`${st(t.nextDemo.scheduledDate)} at ${t.nextDemo.scheduledTime}`})]}),t.notes&&e.jsxs("div",{className:"mt-6",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Notes"}),e.jsx("p",{className:"text-sm text-gray-600 whitespace-pre-wrap",children:t.notes})]}),t.tags&&t.tags.length>0&&e.jsxs("div",{className:"mt-6",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Tags"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.map((A,M)=>e.jsx(ee,{variant:"secondary",children:A},M))})]})]}),e.jsxs(At,{value:"activity",className:"flex-1 overflow-auto p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx(Rt,{placeholder:"Add a note...",value:g,onChange:A=>y(A.target.value),rows:2}),e.jsx(T,{size:"sm",className:"mt-2",onClick:E,disabled:!g.trim()||u,children:"Add Note"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Recent Activity"}),t.recentActivities&&t.recentActivities.length>0?e.jsx("div",{className:"divide-y",children:t.recentActivities.map(A=>e.jsx(XE,{activity:A},A.id))}):e.jsx("p",{className:"text-sm text-gray-500",children:"No activity recorded yet."})]})]}),e.jsx(At,{value:"actions",className:"flex-1 overflow-auto p-6",children:e.jsxs("div",{className:"space-y-6",children:[v&&N&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Progress Lead"}),e.jsxs(T,{className:"w-full",onClick:C,disabled:u,children:["Move to ",Gl[N]]})]}),t.stage!=="won"&&t.stage!=="lost"&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Schedule Demo"}),e.jsxs(T,{variant:"outline",className:"w-full",onClick:()=>d(t.id),children:[e.jsx(Ot,{className:"h-4 w-4 mr-2"}),"Schedule Demo"]})]}),v&&e.jsxs("div",{className:"border-t pt-6",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(T,{variant:"outline",className:"bg-green-50 border-green-200 text-green-700 hover:bg-green-100",onClick:S,disabled:u,children:"Mark as Won"}),e.jsx(T,{variant:"outline",className:"bg-red-50 border-red-200 text-red-700 hover:bg-red-100",onClick:_,disabled:u||!p,children:"Mark as Lost"})]}),e.jsx(Rt,{placeholder:"Lost reason (required to mark as lost)",className:"mt-3",value:p,onChange:A=>j(A.target.value),rows:2})]}),t.stage==="won"&&e.jsx("div",{className:"bg-green-50 p-4 rounded-lg",children:e.jsx("p",{className:"text-green-800 font-medium",children:"This deal was won!"})}),t.stage==="lost"&&e.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[e.jsx("p",{className:"text-red-800 font-medium",children:"This deal was lost"}),t.lostReason&&e.jsxs("p",{className:"text-red-600 text-sm mt-1",children:["Reason: ",t.lostReason]})]})]})})]})]})}),e.jsx(dr,{children:e.jsx(T,{variant:"outline",onClick:l,children:"Close"})})]})}const Yv=["new_lead","contacted","demo_scheduled","demo_completed","proposal_sent","negotiation","won"];function Od(t){return new Intl.NumberFormat("en-KE",{style:"currency",currency:"KES",minimumFractionDigits:0}).format(t)}function ZE({lead:t,onClick:a,onScheduleDemo:l,onAddNote:r}){return e.jsx(F,{className:"mb-3 cursor-pointer hover:shadow-md transition-shadow",onClick:a,children:e.jsxs(P,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ft,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"font-medium text-sm truncate",children:t.schoolName})]}),e.jsxs(rf,{children:[e.jsx(du,{asChild:!0,onClick:o=>o.stopPropagation(),children:e.jsx(T,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:e.jsx(Ux,{className:"h-4 w-4"})})}),e.jsxs(uu,{align:"end",children:[e.jsx(Ga,{onClick:o=>{o.stopPropagation(),a()},children:"View Details"}),e.jsx(Ga,{onClick:o=>{o.stopPropagation(),l()},children:"Schedule Demo"}),e.jsx(Ga,{onClick:o=>{o.stopPropagation(),r()},children:"Add Note"})]})]})]}),e.jsxs("div",{className:"space-y-2 text-xs text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Pt,{className:"h-3 w-3"}),e.jsx("span",{className:"truncate",children:t.contactName||"No contact"})]}),t.expectedCloseDate&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ot,{className:"h-3 w-3"}),e.jsx("span",{children:new Date(t.expectedCloseDate).toLocaleDateString()})]})]}),e.jsxs("div",{className:"mt-3 pt-3 border-t flex items-center justify-between",children:[e.jsx("span",{className:"font-semibold text-sm text-gray-900",children:t.estimatedValue?Od(t.estimatedValue):"-"}),e.jsx(ee,{className:Jd[t.stage],children:Gl[t.stage]})]})]})})}function JE(){const t=_e(),[a,l]=b.useState(""),[r,o]=b.useState("all"),[d,u]=b.useState(!1),[h,x]=b.useState(null),[g,y]=b.useState(!1),{data:p,isLoading:j,error:N}=Se({queryKey:["demo-leads",a,r],queryFn:()=>So.listLeads({search:a||void 0,stage:r!=="all"?r:void 0,limit:100})}),v=p?.leads||[],C=Re({mutationFn:K=>So.createLead(K),onSuccess:()=>{t.invalidateQueries({queryKey:["demo-leads"]}),u(!1),xt.success("Lead created","New lead has been added to the pipeline")},onError:()=>{xt.error("Failed to create lead","Please try again")}}),S=Re({mutationFn:({id:K,data:q})=>So.updateStage(K,q),onSuccess:()=>{t.invalidateQueries({queryKey:["demo-leads"]}),h&&E(h.id),xt.success("Stage updated","Lead stage has been updated")},onError:()=>{xt.error("Failed to update stage","Please try again")}}),_=Re({mutationFn:({leadId:K,note:q})=>So.addNote(K,q),onSuccess:(K,q)=>{t.invalidateQueries({queryKey:["demo-leads"]}),h&&h.id===q.leadId&&E(q.leadId),xt.success("Note added","Note has been added to the lead")},onError:()=>{xt.error("Failed to add note","Please try again")}}),E=b.useCallback(async K=>{try{const q=await So.getLead(K);x(q)}catch{xt.error("Failed to load lead details","Please try again")}},[]),A=async K=>{await E(K.id),y(!0)},M=(K,q)=>{S.mutate({id:K,data:q})},H=(K,q)=>{_.mutate({leadId:K,note:q})},I=K=>{xt.info("Coming soon","Demo scheduling will be available soon")},W=K=>v.filter(q=>q.stage===K),Q=K=>W(K).reduce((q,$)=>q+($.estimatedValue||0),0);return N?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("p",{className:"text-red-500",children:"Failed to load pipeline data"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Demo Pipeline"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Manage your sales pipeline and track demo progress"})]}),e.jsxs(T,{onClick:()=>u(!0),children:[e.jsx(Tt,{className:"h-4 w-4 mr-2"}),"Add Lead"]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative flex-1 max-w-sm",children:[e.jsx(gs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(ue,{placeholder:"Search schools or contacts...",className:"pl-10",value:a,onChange:K=>l(K.target.value)})]}),e.jsxs(rf,{children:[e.jsx(du,{asChild:!0,children:e.jsxs(T,{variant:"outline",children:[e.jsx(mi,{className:"h-4 w-4 mr-2"}),r==="all"?"All Stages":Gl[r]]})}),e.jsxs(uu,{children:[e.jsx(Ga,{onClick:()=>o("all"),children:"All Stages"}),Yv.map(K=>e.jsx(Ga,{onClick:()=>o(K),children:Gl[K]},K))]})]})]}),j&&e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(jt,{className:"h-8 w-8 animate-spin text-gray-400"})}),!j&&e.jsx("div",{className:"grid grid-cols-7 gap-4 overflow-x-auto pb-4",children:Yv.map(K=>{const q=W(K),$=Q(K);return e.jsxs("div",{className:"min-w-[240px]",children:[e.jsxs("div",{className:`rounded-t-lg px-4 py-3 ${Jd[K].replace("text-","bg-").replace("800","100")}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:`font-semibold text-sm ${Jd[K].split(" ")[1]}`,children:Gl[K]}),e.jsx(ee,{variant:"secondary",className:"bg-white",children:q.length})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:Od($)})]}),e.jsx("div",{className:"bg-gray-50 rounded-b-lg p-3 min-h-[400px]",children:q.length===0?e.jsx("div",{className:"text-center py-8 text-gray-400 text-sm",children:"No leads"}):q.map(re=>e.jsx(ZE,{lead:re,onClick:()=>A(re),onScheduleDemo:()=>I(re.id),onAddNote:()=>{A(re)}},re.id))})]},K)})}),e.jsxs(F,{children:[e.jsx(ie,{children:e.jsxs(oe,{className:"flex items-center gap-2",children:[e.jsx(sa,{className:"h-5 w-5"}),"Pipeline Summary"]})}),e.jsx(P,{children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Total Leads"}),e.jsx("p",{className:"text-2xl font-bold",children:v.length})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Total Pipeline Value"}),e.jsx("p",{className:"text-2xl font-bold",children:Od(v.reduce((K,q)=>K+(q.estimatedValue||0),0))})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Average Deal Size"}),e.jsx("p",{className:"text-2xl font-bold",children:Od(v.length>0?v.reduce((K,q)=>K+(q.estimatedValue||0),0)/v.length:0)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Won This Month"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:W("won").length})]})]})})]}),e.jsx(QE,{open:d,onClose:()=>u(!1),onSubmit:K=>C.mutate(K),isLoading:C.isPending}),e.jsx(WE,{lead:h,open:g,onClose:()=>{y(!1),x(null)},onUpdateStage:M,onAddNote:H,onScheduleDemo:I,isUpdating:S.isPending||_.isPending})]})}const Cd={list:t=>{const a=new URLSearchParams;return t?.type&&a.set("type",t.type),t?.category&&a.set("category",t.category),t?.featured!==void 0&&a.set("featured",String(t.featured)),t?.active!==void 0&&a.set("active",String(t.active)),t?.search&&a.set("search",t.search),t?.limit&&a.set("limit",String(t.limit)),t?.offset&&a.set("offset",String(t.offset)),de.get(`/presentations?${a.toString()}`)},getById:t=>de.get(`/presentations/${t}`),create:t=>de.post("/presentations",t),update:(t,a)=>de.put(`/presentations/${t}`,a),delete:t=>de.delete(`/presentations/${t}`),getDownloadUrl:t=>de.get(`/presentations/${t}/download`),recordView:(t,a,l)=>de.post(`/presentations/${t}/view`,{context:a,durationSeconds:l}),getTypes:()=>de.get("/presentations/types"),uploadFile:async(t,a)=>{await fetch(t,{method:"PUT",body:a,headers:{"Content-Type":a.type}})}};function eO({value:t=0,max:a=100,className:l,...r}){const o=Math.min(100,Math.max(0,t/a*100));return e.jsx("div",{role:"progressbar","aria-valuenow":t,"aria-valuemin":0,"aria-valuemax":a,className:z("relative h-2 w-full overflow-hidden rounded-full bg-gray-200",l),...r,children:e.jsx("div",{className:"h-full bg-primary transition-all duration-300 ease-in-out",style:{width:`${o}%`}})})}const tO=["presentation","brochure","case_study","video","roi_calculator","template","other"],sO=["general","product_overview","technical","pricing","onboarding","training"];function aO({open:t,onClose:a,onSubmit:l,isLoading:r,uploadProgress:o=0}){const d=b.useRef(null),[u,h]=b.useState(null),[x,g]=b.useState({title:"",description:"",type:"presentation",category:"general",tags:[],isFeatured:!1}),[y,p]=b.useState(""),j=M=>{M.preventDefault();const H={...x,fileName:u?.name,fileSize:u?.size,fileType:u?.type};l(H,u)},N=()=>{g({title:"",description:"",type:"presentation",category:"general",tags:[],isFeatured:!1}),h(null),p(""),a()},v=M=>{const H=M.target.files?.[0];if(H&&(h(H),!x.title)){const I=H.name.replace(/\.[^/.]+$/,"");g({...x,title:I})}},C=M=>{M.preventDefault();const H=M.dataTransfer.files?.[0];if(H&&(h(H),!x.title)){const I=H.name.replace(/\.[^/.]+$/,"");g({...x,title:I})}},S=M=>{M.preventDefault()},_=()=>{const M=y.trim();M&&!x.tags?.includes(M)&&(g({...x,tags:[...x.tags||[],M]}),p(""))},E=M=>{g({...x,tags:x.tags?.filter(H=>H!==M)||[]})},A=M=>M<1024?`${M} B`:M<1024*1024?`${(M/1024).toFixed(1)} KB`:`${(M/(1024*1024)).toFixed(1)} MB`;return e.jsxs(Ms,{open:t,onClose:N,className:"max-w-lg",children:[e.jsx(_s,{onClose:N,children:"Upload Presentation"}),e.jsxs("form",{onSubmit:j,children:[e.jsx(Ts,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center cursor-pointer transition-colors ${u?"border-green-300 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onClick:()=>d.current?.click(),onDrop:C,onDragOver:S,children:[e.jsx("input",{ref:d,type:"file",className:"hidden",onChange:v,accept:".pdf,.ppt,.pptx,.doc,.docx,.xls,.xlsx,.mp4,.webm,.png,.jpg,.jpeg"}),u?e.jsxs("div",{className:"flex items-center justify-center gap-3",children:[e.jsx(CC,{className:"h-8 w-8 text-green-600"}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-medium text-gray-900",children:u.name}),e.jsx("p",{className:"text-sm text-gray-500",children:A(u.size)})]}),e.jsx(T,{type:"button",variant:"ghost",size:"sm",onClick:M=>{M.stopPropagation(),h(null)},children:e.jsx(Et,{className:"h-4 w-4"})})]}):e.jsxs(e.Fragment,{children:[e.jsx(Kx,{className:"h-10 w-10 text-gray-400 mx-auto mb-2"}),e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium text-indigo-600",children:"Click to upload"})," or drag and drop"]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PDF, PPT, DOC, XLS, MP4, or images"})]})]}),r&&o>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(eO,{value:o,className:"h-2"}),e.jsxs("p",{className:"text-sm text-gray-500 text-center",children:["Uploading... ",o,"%"]})]}),e.jsxs("div",{children:[e.jsx(De,{htmlFor:"title",children:"Title *"}),e.jsx(ue,{id:"title",value:x.title,onChange:M=>g({...x,title:M.target.value}),placeholder:"Enter presentation title",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(De,{htmlFor:"type",children:"Type *"}),e.jsxs(Me,{value:x.type,onValueChange:M=>g({...x,type:M}),children:[e.jsx(ut,{children:e.jsx(ft,{placeholder:"Select type"})}),e.jsx(mt,{children:tO.map(M=>e.jsx(Ue,{value:M,children:yf[M]},M))})]})]}),e.jsxs("div",{children:[e.jsx(De,{htmlFor:"category",children:"Category"}),e.jsxs(Me,{value:x.category,onValueChange:M=>g({...x,category:M}),children:[e.jsx(ut,{children:e.jsx(ft,{placeholder:"Select category"})}),e.jsx(mt,{children:sO.map(M=>e.jsx(Ue,{value:M,children:kN[M]},M))})]})]})]}),e.jsxs("div",{children:[e.jsx(De,{htmlFor:"description",children:"Description"}),e.jsx(Rt,{id:"description",value:x.description,onChange:M=>g({...x,description:M.target.value}),placeholder:"Brief description of the presentation",rows:2})]}),e.jsxs("div",{children:[e.jsx(De,{htmlFor:"tags",children:"Tags"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ue,{id:"tags",value:y,onChange:M=>p(M.target.value),placeholder:"Add a tag",onKeyDown:M=>{M.key==="Enter"&&(M.preventDefault(),_())}}),e.jsx(T,{type:"button",variant:"outline",onClick:_,children:"Add"})]}),x.tags&&x.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:x.tags.map(M=>e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 text-gray-700 text-sm rounded",children:[M,e.jsx("button",{type:"button",onClick:()=>E(M),className:"text-gray-400 hover:text-gray-600",children:e.jsx(Et,{className:"h-3 w-3"})})]},M))})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"featured",checked:x.isFeatured,onChange:M=>g({...x,isFeatured:M.target.checked}),className:"h-4 w-4 rounded border-gray-300"}),e.jsx(De,{htmlFor:"featured",className:"cursor-pointer",children:"Feature this presentation"})]})]})}),e.jsxs(Rs,{children:[e.jsx(T,{type:"button",variant:"outline",onClick:N,children:"Cancel"}),e.jsx(T,{type:"submit",disabled:!x.title.trim()||r,children:r?e.jsxs(e.Fragment,{children:[e.jsx(jt,{className:"h-4 w-4 mr-2 animate-spin"}),"Uploading..."]}):"Upload"})]})]})]})}const _o={presentation:{icon:Wl,color:"text-blue-600"},case_study:{icon:Qa,color:"text-green-600"},roi_calculator:{icon:k4,color:"text-purple-600"},brochure:{icon:rs,color:"text-amber-600"},video:{icon:W5,color:"text-red-600"},template:{icon:rs,color:"text-indigo-600"},other:{icon:EC,color:"text-pink-600"}},nO={all:"All",general:"General",product_overview:"Product",technical:"Technical",pricing:"Pricing",onboarding:"Onboarding",training:"Training"},lO=["all","general","product_overview","technical","pricing","onboarding","training"];function rO({item:t,onDownload:a}){const l=_o[t.type]||_o.other,r=l.icon;return e.jsx(F,{className:"hover:shadow-md transition-shadow",children:e.jsx(P,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`p-3 rounded-lg bg-gray-100 ${l.color}`,children:e.jsx(r,{className:"h-6 w-6"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900 line-clamp-1",children:t.title}),t.isFeatured&&e.jsx(Bj,{className:"h-4 w-4 text-yellow-500 fill-yellow-500"})]}),e.jsx(ee,{variant:"secondary",className:"mt-1",children:yf[t.type]})]}),e.jsx(ee,{variant:"outline",children:kN[t.category]})]}),e.jsx("p",{className:"text-sm text-gray-500 mt-2 line-clamp-2",children:t.description}),e.jsxs("div",{className:"flex items-center gap-4 mt-4 text-xs text-gray-400",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(it,{className:"h-3 w-3"}),"Updated ",new Date(t.updatedAt).toLocaleDateString()]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Io,{className:"h-3 w-3"}),t.viewCount," views"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ni,{className:"h-3 w-3"}),t.downloadCount," downloads"]})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[e.jsxs(T,{size:"sm",variant:"outline",onClick:a,children:[e.jsx(ni,{className:"h-4 w-4 mr-1"}),"Download"]}),t.previewUrl&&e.jsx(T,{size:"sm",variant:"ghost",asChild:!0,children:e.jsxs("a",{href:t.previewUrl,target:"_blank",rel:"noopener noreferrer",children:[e.jsx(fC,{className:"h-4 w-4 mr-1"}),"Preview"]})})]})]})]})})})}function iO(){const t=_e(),[a,l]=b.useState(""),[r,o]=b.useState("all"),[d,u]=b.useState("all"),[h,x]=b.useState(!1),[g,y]=b.useState(0),{data:p,isLoading:j,error:N}=Se({queryKey:["presentations",a,r,d],queryFn:()=>Cd.list({search:a||void 0,category:r!=="all"?r:void 0,type:d!=="all"?d:void 0,active:!0,limit:100})}),v=p?.presentations||[],C=Re({mutationFn:async({data:A,file:M})=>{const H=await Cd.create(A);return M&&H.uploadUrl&&(y(30),await Cd.uploadFile(H.uploadUrl,M),y(100)),H.presentation},onSuccess:()=>{t.invalidateQueries({queryKey:["presentations"]}),x(!1),y(0),xt.success("Presentation uploaded","Your presentation has been added")},onError:()=>{y(0),xt.error("Upload failed","Please try again")}}),S=async A=>{try{const{url:M,fileName:H}=await Cd.getDownloadUrl(A.id),I=document.createElement("a");I.href=M,I.download=H,I.target="_blank",document.body.appendChild(I),I.click(),document.body.removeChild(I)}catch{xt.error("Download failed","Could not generate download link")}},_=(A,M)=>{C.mutate({data:A,file:M})},E=Object.keys(_o).map(A=>({type:A,label:yf[A],icon:_o[A].icon,color:_o[A].color,count:v.filter(M=>M.type===A).length}));return N?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("p",{className:"text-red-500",children:"Failed to load presentations"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Sales Presentations"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Access sales materials, case studies, and marketing content"})]}),e.jsxs(T,{onClick:()=>x(!0),children:[e.jsx(Tt,{className:"h-4 w-4 mr-2"}),"Upload"]})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-7 gap-4",children:E.map(({type:A,label:M,icon:H,color:I,count:W})=>e.jsx(F,{className:`cursor-pointer transition-all ${d===A?"ring-2 ring-primary":"hover:shadow-md"}`,onClick:()=>u(d===A?"all":A),children:e.jsxs(P,{className:"p-4 text-center",children:[e.jsx("div",{className:`mx-auto w-fit p-2 rounded-lg bg-gray-100 ${I} mb-2`,children:e.jsx(H,{className:"h-5 w-5"})}),e.jsx("p",{className:"text-xs text-gray-500",children:M}),e.jsx("p",{className:"text-lg font-bold",children:W})]})},A))}),e.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[e.jsxs("div",{className:"relative flex-1 max-w-sm",children:[e.jsx(gs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(ue,{placeholder:"Search presentations...",className:"pl-10",value:a,onChange:A=>l(A.target.value)})]}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:lO.map(A=>e.jsx(T,{variant:r===A?"default":"outline",size:"sm",onClick:()=>o(A),children:nO[A]},A))}),d!=="all"&&e.jsx(T,{variant:"ghost",size:"sm",onClick:()=>u("all"),children:"Clear Type Filter"})]}),j&&e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(jt,{className:"h-8 w-8 animate-spin text-gray-400"})}),!j&&v.length===0?e.jsx(F,{children:e.jsxs(P,{className:"py-12 text-center",children:[e.jsx(Wl,{className:"h-12 w-12 mx-auto text-gray-300 mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"No presentations found"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:a||r!=="all"||d!=="all"?"Try adjusting your search or filter criteria":"Upload your first presentation to get started"}),!a&&r==="all"&&d==="all"&&e.jsxs(T,{className:"mt-4",onClick:()=>x(!0),children:[e.jsx(Tt,{className:"h-4 w-4 mr-2"}),"Upload Presentation"]})]})}):!j&&e.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:v.map(A=>e.jsx(rO,{item:A,onDownload:()=>S(A)},A.id))}),v.length>0&&e.jsxs(F,{children:[e.jsx(ie,{children:e.jsxs(oe,{className:"flex items-center gap-2",children:[e.jsx(D4,{className:"h-5 w-5"}),"Content Statistics"]})}),e.jsx(P,{children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Total Materials"}),e.jsx("p",{className:"text-2xl font-bold",children:v.length})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Total Views"}),e.jsx("p",{className:"text-2xl font-bold",children:v.reduce((A,M)=>A+M.viewCount,0).toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Total Downloads"}),e.jsx("p",{className:"text-2xl font-bold",children:v.reduce((A,M)=>A+M.downloadCount,0).toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Featured Items"}),e.jsx("p",{className:"text-2xl font-bold",children:v.filter(A=>A.isFeatured).length})]})]})})]}),e.jsx(aO,{open:h,onClose:()=>x(!1),onSubmit:_,isLoading:C.isPending,uploadProgress:g})]})}const oO=[{title:"Work Orders Report",description:"Track work order status, completion rates, and repair timelines",icon:Ge,href:"/reports/work-orders",color:"text-blue-600",bgColor:"bg-blue-100"},{title:"Incidents Report",description:"Analyze incidents, SLA compliance, and resolution times",icon:We,href:"/reports/incidents",color:"text-amber-600",bgColor:"bg-amber-100"},{title:"Inventory Report",description:"Monitor stock levels, low stock alerts, and parts distribution",icon:rt,href:"/reports/inventory",color:"text-purple-600",bgColor:"bg-purple-100"},{title:"Schools Report",description:"View schools, device counts, and incident history by location",icon:Ft,href:"/reports/schools",color:"text-green-600",bgColor:"bg-green-100"},{title:"Executive Dashboard",description:"High-level KPIs and metrics across all domains",icon:xx,href:"/reports/executive",color:"text-teal-600",bgColor:"bg-teal-100"}];function cO(){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Reports"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Access detailed reports and analytics across all platform domains"})]}),e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:oO.map(t=>{const a=t.icon;return e.jsx(ce,{to:t.href,children:e.jsxs(F,{className:"h-full hover:shadow-md transition-shadow cursor-pointer",children:[e.jsxs(ie,{className:"flex flex-row items-start gap-4 pb-2",children:[e.jsx("div",{className:`p-3 rounded-lg ${t.bgColor}`,children:e.jsx(a,{className:`h-6 w-6 ${t.color}`})}),e.jsx("div",{className:"flex-1",children:e.jsx(oe,{className:"text-lg",children:t.title})})]}),e.jsxs(P,{children:[e.jsx("p",{className:"text-sm text-gray-500",children:t.description}),e.jsxs("div",{className:"mt-4 flex items-center text-sm font-medium text-gray-900",children:["View Report",e.jsx(Pe,{className:"ml-2 h-4 w-4"})]})]})]})},t.href)})})]})}const Zo="reports";function dO(t={}){return Se({queryKey:[Zo,"work-orders",t],queryFn:()=>de.get("/reports/work-orders",t),staleTime:6e4})}function uO(t={}){return Se({queryKey:[Zo,"incidents",t],queryFn:()=>de.get("/reports/incidents",t),staleTime:6e4})}function mO(t={}){return Se({queryKey:[Zo,"inventory",t],queryFn:()=>de.get("/reports/inventory",t),staleTime:6e4})}function hO(t={}){return Se({queryKey:[Zo,"schools",t],queryFn:()=>de.get("/reports/schools",t),staleTime:6e4})}function xO(){return Se({queryKey:[Zo,"executive"],queryFn:()=>de.get("/reports/executive"),staleTime:6e4})}function ju({filters:t,onFiltersChange:a,showStatusFilter:l=!1,statusOptions:r=[],showCategoryFilter:o=!1,categoryOptions:d=[],showCountyFilter:u=!1,countyOptions:h=[]}){const x=t.dateFrom||t.dateTo||t.status&&t.status.length>0||t.category||t.countyCode,g=()=>{a({...t,dateFrom:void 0,dateTo:void 0,status:void 0,category:void 0,countyCode:void 0})};return e.jsxs("div",{className:"bg-white p-4 rounded-lg border space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:"Filters"}),x&&e.jsxs(T,{variant:"ghost",size:"sm",onClick:g,children:[e.jsx(Et,{className:"h-4 w-4 mr-1"}),"Clear Filters"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(De,{htmlFor:"dateFrom",className:"text-xs text-gray-500",children:"From Date"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ot,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(ue,{id:"dateFrom",type:"date",className:"pl-10",value:t.dateFrom||"",onChange:y=>a({...t,dateFrom:y.target.value||void 0})})]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(De,{htmlFor:"dateTo",className:"text-xs text-gray-500",children:"To Date"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ot,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(ue,{id:"dateTo",type:"date",className:"pl-10",value:t.dateTo||"",onChange:y=>a({...t,dateTo:y.target.value||void 0})})]})]}),l&&r.length>0&&e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(De,{className:"text-xs text-gray-500",children:"Status"}),e.jsxs(Me,{value:t.status?.[0]||"all",onValueChange:y=>a({...t,status:y==="all"?void 0:[y]}),children:[e.jsx(ut,{children:e.jsx(ft,{placeholder:"All statuses"})}),e.jsxs(mt,{children:[e.jsx(Ue,{value:"all",children:"All Statuses"}),r.map(y=>e.jsx(Ue,{value:y.value,children:y.label},y.value))]})]})]}),o&&d.length>0&&e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(De,{className:"text-xs text-gray-500",children:"Category"}),e.jsxs(Me,{value:t.category||"all",onValueChange:y=>a({...t,category:y==="all"?void 0:y}),children:[e.jsx(ut,{children:e.jsx(ft,{placeholder:"All categories"})}),e.jsxs(mt,{children:[e.jsx(Ue,{value:"all",children:"All Categories"}),d.map(y=>e.jsx(Ue,{value:y.value,children:y.label},y.value))]})]})]}),u&&h.length>0&&e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(De,{className:"text-xs text-gray-500",children:"County"}),e.jsxs(Me,{value:t.countyCode||"all",onValueChange:y=>a({...t,countyCode:y==="all"?void 0:y}),children:[e.jsx(ut,{children:e.jsx(ft,{placeholder:"All counties"})}),e.jsxs(mt,{children:[e.jsx(Ue,{value:"all",children:"All Counties"}),h.map(y=>e.jsx(Ue,{value:y.value,children:y.label},y.value))]})]})]})]})]})}const AN=b.forwardRef(({className:t,...a},l)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:l,className:z("w-full caption-bottom text-sm",t),...a})}));AN.displayName="Table";const MN=b.forwardRef(({className:t,...a},l)=>e.jsx("thead",{ref:l,className:z("[&_tr]:border-b",t),...a}));MN.displayName="TableHeader";const _N=b.forwardRef(({className:t,...a},l)=>e.jsx("tbody",{ref:l,className:z("[&_tr:last-child]:border-0",t),...a}));_N.displayName="TableBody";const fO=b.forwardRef(({className:t,...a},l)=>e.jsx("tfoot",{ref:l,className:z("border-t bg-gray-100/50 font-medium [&>tr]:last:border-b-0",t),...a}));fO.displayName="TableFooter";const Ao=b.forwardRef(({className:t,...a},l)=>e.jsx("tr",{ref:l,className:z("border-b transition-colors hover:bg-gray-100/50 data-[state=selected]:bg-gray-100",t),...a}));Ao.displayName="TableRow";const TN=b.forwardRef(({className:t,...a},l)=>e.jsx("th",{ref:l,className:z("h-12 px-4 text-left align-middle font-medium text-gray-500 [&:has([role=checkbox])]:pr-0",t),...a}));TN.displayName="TableHead";const zd=b.forwardRef(({className:t,...a},l)=>e.jsx("td",{ref:l,className:z("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...a}));zd.displayName="TableCell";const gO=b.forwardRef(({className:t,...a},l)=>e.jsx("caption",{ref:l,className:z("mt-4 text-sm text-gray-500",t),...a}));gO.displayName="TableCaption";function bu({data:t,columns:a,pagination:l,onPageChange:r,onLimitChange:o,onSort:d,sortBy:u,sortDir:h="desc",isLoading:x=!1,onRowClick:g,keyField:y="id",emptyMessage:p="No data available"}){const j=S=>{d&&(u===S?d(S,h==="asc"?"desc":"asc"):d(S,"desc"))},N=l?Math.ceil(l.total/l.limit):1,v=l?Math.floor(l.offset/l.limit)+1:1,C=S=>u!==S?null:h==="asc"?e.jsx(Oj,{className:"h-4 w-4 ml-1 inline"}):e.jsx(hl,{className:"h-4 w-4 ml-1 inline"});return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"rounded-md border",children:e.jsxs(AN,{children:[e.jsx(MN,{children:e.jsx(Ao,{children:a.map(S=>e.jsx(TN,{className:`${S.sortable?"cursor-pointer hover:bg-gray-50":""} ${S.className||""}`,onClick:()=>S.sortable&&j(S.key),children:e.jsxs("span",{className:"flex items-center",children:[S.header,S.sortable&&C(S.key)]})},S.key))})}),e.jsx(_N,{children:x?e.jsx(Ao,{children:e.jsx(zd,{colSpan:a.length,className:"h-24 text-center",children:e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-gray-900"}),e.jsx("span",{className:"ml-2",children:"Loading..."})]})})}):t.length===0?e.jsx(Ao,{children:e.jsx(zd,{colSpan:a.length,className:"h-24 text-center text-gray-500",children:p})}):t.map((S,_)=>e.jsx(Ao,{className:g?"cursor-pointer hover:bg-gray-50":"",onClick:()=>g?.(S),children:a.map(E=>e.jsx(zd,{className:E.className,children:E.render?E.render(S):S[E.key]},E.key))},String(S[y]||_)))})]})}),l&&l.total>0&&e.jsxs("div",{className:"flex items-center justify-between px-2",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",l.offset+1,"-",Math.min(l.offset+l.limit,l.total)," of"," ",l.total.toLocaleString()," results"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Rows per page:"}),e.jsxs(Me,{value:String(l.limit),onValueChange:S=>o?.(Number(S)),children:[e.jsx(ut,{className:"w-[70px] h-8",children:e.jsx(ft,{})}),e.jsxs(mt,{children:[e.jsx(Ue,{value:"10",children:"10"}),e.jsx(Ue,{value:"25",children:"25"}),e.jsx(Ue,{value:"50",children:"50"}),e.jsx(Ue,{value:"100",children:"100"})]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-sm text-gray-500",children:["Page ",v," of ",N]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(T,{variant:"outline",size:"icon",className:"h-8 w-8",disabled:v===1,onClick:()=>r?.(0),children:e.jsx(zj,{className:"h-4 w-4"})}),e.jsx(T,{variant:"outline",size:"icon",className:"h-8 w-8",disabled:v===1,onClick:()=>r?.(l.offset-l.limit),children:e.jsx(Po,{className:"h-4 w-4"})}),e.jsx(T,{variant:"outline",size:"icon",className:"h-8 w-8",disabled:v===N,onClick:()=>r?.(l.offset+l.limit),children:e.jsx(Da,{className:"h-4 w-4"})}),e.jsx(T,{variant:"outline",size:"icon",className:"h-8 w-8",disabled:v===N,onClick:()=>r?.((N-1)*l.limit),children:e.jsx(Lj,{className:"h-4 w-4"})})]})]})]})]})}const Xv={default:"text-gray-900",success:"text-green-600",warning:"text-amber-600",danger:"text-red-600",info:"text-blue-600"},pO={default:"bg-gray-100",success:"bg-green-100",warning:"bg-amber-100",danger:"bg-red-100",info:"bg-blue-100"};function Nu({cards:t}){return e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:t.map((a,l)=>{const r=a.icon,o=a.color||"default";return e.jsx(F,{children:e.jsx(P,{className:"p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs text-gray-500 font-medium uppercase tracking-wide",children:a.title}),e.jsx("p",{className:`text-2xl font-bold mt-1 ${Xv[o]}`,children:typeof a.value=="number"?a.value.toLocaleString():a.value}),a.subtitle&&e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:a.subtitle})]}),r&&e.jsx("div",{className:`p-2 rounded-lg ${pO[o]}`,children:e.jsx(r,{className:`h-5 w-5 ${Xv[o]}`})})]})})},l)})})}const yO=[{value:"draft",label:"Draft"},{value:"assigned",label:"Assigned"},{value:"in_repair",label:"In Repair"},{value:"qa",label:"QA"},{value:"completed",label:"Completed"},{value:"approved",label:"Approved"}],Wv={draft:"bg-gray-100 text-gray-700",assigned:"bg-blue-100 text-blue-700",in_repair:"bg-amber-100 text-amber-700",qa:"bg-purple-100 text-purple-700",completed:"bg-green-100 text-green-700",approved:"bg-teal-100 text-teal-700"};function vO(){const t=La(),[a,l]=b.useState({limit:25,offset:0,sortBy:"createdAt",sortDir:"desc"}),{data:r,isLoading:o}=dO(a),d=[{key:"id",header:"ID",render:h=>e.jsx("span",{className:"font-mono text-xs",children:h.id.slice(0,8)})},{key:"status",header:"Status",sortable:!0,render:h=>e.jsx(ee,{className:Wv[h.status]||"bg-gray-100",children:h.status.replace("_"," ")})},{key:"taskType",header:"Task Type",sortable:!0},{key:"schoolName",header:"School",sortable:!0},{key:"deviceCategory",header:"Device"},{key:"costCents",header:"Cost",sortable:!0,render:h=>`KES ${(h.costCents/100).toLocaleString()}`},{key:"reworkCount",header:"Reworks",render:h=>e.jsx("span",{className:h.reworkCount>0?"text-amber-600 font-medium":"",children:h.reworkCount})},{key:"createdAt",header:"Created",sortable:!0,render:h=>new Date(h.createdAt).toLocaleDateString()},{key:"durationHours",header:"Duration",render:h=>h.durationHours?`${h.durationHours.toFixed(1)}h`:"-"}],u=r?[{title:"Total Work Orders",value:r.summary.total,icon:Ge,color:"info"},{title:"Completed",value:(r.summary.byStatus.completed||0)+(r.summary.byStatus.approved||0),icon:_t,color:"success"},{title:"Avg Completion",value:`${r.summary.avgCompletionHours.toFixed(1)}h`,icon:it,color:"default"},{title:"Total Cost",value:`KES ${(r.summary.totalCostCents/100).toLocaleString()}`,icon:tr,color:"default"},{title:"Rework Rate",value:`${r.summary.reworkRate.toFixed(1)}%`,icon:ls,color:r.summary.reworkRate>10?"warning":"success"}]:[];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(T,{variant:"ghost",size:"icon",onClick:()=>t("/reports"),children:e.jsx(Ya,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Work Orders Report"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Track work order status, completion rates, and repair timelines"})]})]}),r&&e.jsx(Nu,{cards:u}),e.jsx(ju,{filters:a,onFiltersChange:l,showStatusFilter:!0,statusOptions:yO}),e.jsxs(F,{children:[e.jsx(ie,{children:e.jsx(oe,{children:"Work Orders"})}),e.jsx(P,{children:e.jsx(bu,{data:r?.items||[],columns:d,pagination:r?.pagination,onPageChange:h=>l({...a,offset:h}),onLimitChange:h=>l({...a,limit:h,offset:0}),onSort:(h,x)=>l({...a,sortBy:h,sortDir:x}),sortBy:a.sortBy,sortDir:a.sortDir,isLoading:o,onRowClick:h=>t(`/work-orders/${h.id}`),emptyMessage:"No work orders found"})})]}),r&&e.jsxs(F,{children:[e.jsx(ie,{children:e.jsx(oe,{children:"Status Distribution"})}),e.jsx(P,{children:e.jsx("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-4",children:Object.entries(r.summary.byStatus).map(([h,x])=>e.jsxs("div",{className:"text-center",children:[e.jsx(ee,{className:`${Wv[h]} mb-2`,children:h.replace("_"," ")}),e.jsx("p",{className:"text-2xl font-bold",children:x})]},h))})})]})]})}const jO=[{value:"new",label:"New"},{value:"acknowledged",label:"Acknowledged"},{value:"in_progress",label:"In Progress"},{value:"escalated",label:"Escalated"},{value:"resolved",label:"Resolved"},{value:"closed",label:"Closed"}],Zv={new:"bg-blue-100 text-blue-700",acknowledged:"bg-amber-100 text-amber-700",in_progress:"bg-purple-100 text-purple-700",escalated:"bg-red-100 text-red-700",resolved:"bg-green-100 text-green-700",closed:"bg-gray-100 text-gray-700"},Jv={low:"bg-green-100 text-green-700",medium:"bg-amber-100 text-amber-700",high:"bg-orange-100 text-orange-700",critical:"bg-red-100 text-red-700"};function bO(){const t=La(),[a,l]=b.useState({limit:25,offset:0,sortBy:"createdAt",sortDir:"desc"}),{data:r,isLoading:o}=uO(a),d=[{key:"id",header:"ID",render:h=>e.jsx("span",{className:"font-mono text-xs",children:h.id.slice(0,8)})},{key:"title",header:"Title",render:h=>e.jsx("span",{className:"truncate max-w-[200px] block",children:h.title})},{key:"status",header:"Status",sortable:!0,render:h=>e.jsx(ee,{className:Zv[h.status]||"bg-gray-100",children:h.status.replace("_"," ")})},{key:"severity",header:"Severity",sortable:!0,render:h=>e.jsx(ee,{className:Jv[h.severity]||"bg-gray-100",children:h.severity})},{key:"schoolName",header:"School"},{key:"slaBreached",header:"SLA",render:h=>h.slaBreached?e.jsx(ee,{variant:"destructive",children:"Breached"}):e.jsx(ee,{className:"bg-green-100 text-green-700",children:"On Track"})},{key:"createdAt",header:"Created",sortable:!0,render:h=>new Date(h.createdAt).toLocaleDateString()},{key:"resolutionHours",header:"Resolution Time",render:h=>h.resolutionHours?`${h.resolutionHours.toFixed(1)}h`:"-"}],u=r?[{title:"Total Incidents",value:r.summary.total,icon:We,color:"info"},{title:"Resolved",value:(r.summary.byStatus.resolved||0)+(r.summary.byStatus.closed||0),icon:_t,color:"success"},{title:"SLA Compliance",value:`${r.summary.slaComplianceRate.toFixed(1)}%`,icon:Hj,color:r.summary.slaComplianceRate>=90?"success":"warning"},{title:"Avg Resolution",value:`${r.summary.avgResolutionHours.toFixed(1)}h`,icon:it,color:"default"},{title:"SLA Breached",value:r.summary.slaBreachedCount,icon:Uo,color:r.summary.slaBreachedCount>0?"danger":"success"}]:[];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(T,{variant:"ghost",size:"icon",onClick:()=>t("/reports"),children:e.jsx(Ya,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Incidents Report"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Analyze incidents, SLA compliance, and resolution times"})]})]}),r&&e.jsx(Nu,{cards:u}),e.jsx(ju,{filters:a,onFiltersChange:l,showStatusFilter:!0,statusOptions:jO}),e.jsxs(F,{children:[e.jsx(ie,{children:e.jsx(oe,{children:"Incidents"})}),e.jsx(P,{children:e.jsx(bu,{data:r?.items||[],columns:d,pagination:r?.pagination,onPageChange:h=>l({...a,offset:h}),onLimitChange:h=>l({...a,limit:h,offset:0}),onSort:(h,x)=>l({...a,sortBy:h,sortDir:x}),sortBy:a.sortBy,sortDir:a.sortDir,isLoading:o,onRowClick:h=>t(`/incidents/${h.id}`),emptyMessage:"No incidents found"})})]}),r&&e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(F,{children:[e.jsx(ie,{children:e.jsx(oe,{children:"Status Distribution"})}),e.jsx(P,{children:e.jsx("div",{className:"grid grid-cols-3 gap-4",children:Object.entries(r.summary.byStatus).map(([h,x])=>e.jsxs("div",{className:"text-center",children:[e.jsx(ee,{className:`${Zv[h]} mb-2`,children:h.replace("_"," ")}),e.jsx("p",{className:"text-2xl font-bold",children:x})]},h))})})]}),e.jsxs(F,{children:[e.jsx(ie,{children:e.jsx(oe,{children:"Severity Distribution"})}),e.jsx(P,{children:e.jsx("div",{className:"grid grid-cols-2 gap-4",children:Object.entries(r.summary.bySeverity).map(([h,x])=>e.jsxs("div",{className:"text-center",children:[e.jsx(ee,{className:`${Jv[h]} mb-2`,children:h}),e.jsx("p",{className:"text-2xl font-bold",children:x})]},h))})})]})]})]})}function NO(){const t=La(),[a,l]=b.useState({limit:25,offset:0,sortBy:"partName",sortDir:"asc"}),{data:r,isLoading:o}=mO(a),d=r?Object.keys(r.summary.byCategory).map(x=>({value:x,label:x})):[],u=[{key:"partSku",header:"SKU",render:x=>e.jsx("span",{className:"font-mono text-xs",children:x.partSku})},{key:"partName",header:"Part Name",sortable:!0},{key:"category",header:"Category",sortable:!0},{key:"serviceShopName",header:"Service Shop"},{key:"qtyAvailable",header:"Available",sortable:!0,render:x=>e.jsx("span",{className:x.isLowStock?"text-amber-600 font-medium":"",children:x.qtyAvailable})},{key:"qtyReserved",header:"Reserved"},{key:"reorderThreshold",header:"Reorder At"},{key:"isLowStock",header:"Stock Status",render:x=>x.isLowStock?e.jsx(ee,{variant:"destructive",className:"bg-amber-100 text-amber-700",children:"Low Stock"}):e.jsx(ee,{className:"bg-green-100 text-green-700",children:"OK"})}],h=r?[{title:"Total Parts",value:r.summary.totalParts,icon:rt,color:"info"},{title:"Total Quantity",value:r.summary.totalQtyAvailable,icon:Ej,color:"default"},{title:"Low Stock Items",value:r.summary.lowStockCount,icon:We,color:r.summary.lowStockCount>0?"warning":"success"},{title:"Stock Health",value:r.summary.totalParts>0?`${((r.summary.totalParts-r.summary.lowStockCount)/r.summary.totalParts*100).toFixed(0)}%`:"100%",icon:_t,color:"success"}]:[];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(T,{variant:"ghost",size:"icon",onClick:()=>t("/reports"),children:e.jsx(Ya,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Inventory Report"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Monitor stock levels, low stock alerts, and parts distribution"})]})]}),r&&e.jsx(Nu,{cards:h}),e.jsx(ju,{filters:a,onFiltersChange:l,showCategoryFilter:!0,categoryOptions:d}),e.jsxs(F,{children:[e.jsx(ie,{children:e.jsx(oe,{children:"Inventory Items"})}),e.jsx(P,{children:e.jsx(bu,{data:r?.items||[],columns:u,pagination:r?.pagination,onPageChange:x=>l({...a,offset:x}),onLimitChange:x=>l({...a,limit:x,offset:0}),onSort:(x,g)=>l({...a,sortBy:x,sortDir:g}),sortBy:a.sortBy,sortDir:a.sortDir,isLoading:o,keyField:"partId",emptyMessage:"No inventory items found"})})]}),r&&Object.keys(r.summary.byCategory).length>0&&e.jsxs(F,{children:[e.jsx(ie,{children:e.jsx(oe,{children:"Parts by Category"})}),e.jsx(P,{children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:Object.entries(r.summary.byCategory).map(([x,g])=>e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:x}),e.jsx("p",{className:"text-2xl font-bold",children:g})]},x))})})]})]})}function wO(){const t=La(),[a,l]=b.useState({limit:25,offset:0,sortBy:"schoolName",sortDir:"asc"}),{data:r,isLoading:o}=hO(a),d=r?Object.keys(r.summary.byCounty).map(x=>({value:x,label:x})):[],u=[{key:"schoolId",header:"ID",render:x=>e.jsx("span",{className:"font-mono text-xs",children:x.schoolId.slice(0,8)})},{key:"schoolName",header:"School Name",sortable:!0},{key:"countyName",header:"County",sortable:!0},{key:"deviceCount",header:"Devices",sortable:!0,render:x=>e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(is,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{children:x.deviceCount})]})},{key:"incidentCount",header:"Incidents",sortable:!0,render:x=>e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(We,{className:"h-4 w-4 text-amber-500"}),e.jsx("span",{className:x.incidentCount>5?"text-amber-600 font-medium":"",children:x.incidentCount})]})},{key:"workOrderCount",header:"Work Orders",sortable:!0,render:x=>e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ge,{className:"h-4 w-4 text-blue-500"}),e.jsx("span",{children:x.workOrderCount})]})}],h=r?[{title:"Total Schools",value:r.summary.totalSchools,icon:Ft,color:"info"},{title:"Total Devices",value:r.summary.totalDevices,icon:is,color:"default"},{title:"Counties",value:Object.keys(r.summary.byCounty).length,icon:_a,color:"default"}]:[];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(T,{variant:"ghost",size:"icon",onClick:()=>t("/reports"),children:e.jsx(Ya,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Schools Report"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"View schools, device counts, and incident history by location"})]})]}),r&&e.jsx(Nu,{cards:h}),e.jsx(ju,{filters:a,onFiltersChange:l,showCountyFilter:!0,countyOptions:d}),e.jsxs(F,{children:[e.jsx(ie,{children:e.jsx(oe,{children:"Schools"})}),e.jsx(P,{children:e.jsx(bu,{data:r?.items||[],columns:u,pagination:r?.pagination,onPageChange:x=>l({...a,offset:x}),onLimitChange:x=>l({...a,limit:x,offset:0}),onSort:(x,g)=>l({...a,sortBy:x,sortDir:g}),sortBy:a.sortBy,sortDir:a.sortDir,isLoading:o,keyField:"schoolId",emptyMessage:"No schools found"})})]}),r&&Object.keys(r.summary.byCounty).length>0&&e.jsxs(F,{children:[e.jsx(ie,{children:e.jsx(oe,{children:"Schools by County"})}),e.jsx(P,{children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:Object.entries(r.summary.byCounty).sort((x,g)=>g[1]-x[1]).map(([x,g])=>e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1 truncate",children:x}),e.jsx("p",{className:"text-2xl font-bold",children:g})]},x))})})]})]})}function kd({title:t,value:a,subtitle:l,icon:r,trend:o,trendValue:d,color:u="default"}){const h={default:"text-gray-900",success:"text-green-600",warning:"text-amber-600",danger:"text-red-600",info:"text-blue-600"},x={default:"bg-gray-100",success:"bg-green-100",warning:"bg-amber-100",danger:"bg-red-100",info:"bg-blue-100"};return e.jsx(F,{children:e.jsxs(P,{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("div",{className:`p-3 rounded-lg ${x[u]}`,children:e.jsx(r,{className:`h-6 w-6 ${h[u]}`})}),o&&d&&e.jsxs("div",{className:`flex items-center gap-1 text-sm ${o==="up"?"text-green-600":o==="down"?"text-red-600":"text-gray-500"}`,children:[o==="up"?e.jsx(Oa,{className:"h-4 w-4"}):o==="down"?e.jsx(Kj,{className:"h-4 w-4"}):null,d]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-sm text-gray-500 font-medium",children:t}),e.jsx("p",{className:`text-3xl font-bold mt-1 ${h[u]}`,children:typeof a=="number"?a.toLocaleString():a}),l&&e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:l})]})]})})}function Ad({title:t,icon:a,color:l,href:r,children:o}){return e.jsxs(F,{className:"overflow-hidden",children:[e.jsx(ie,{className:`${l} text-white py-4`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(a,{className:"h-5 w-5"}),e.jsx(oe,{className:"text-lg text-white",children:t})]}),e.jsx(ce,{to:r,children:e.jsxs(T,{variant:"ghost",size:"sm",className:"text-white hover:bg-white/20",children:["View Report",e.jsx(Pe,{className:"ml-2 h-4 w-4"})]})})]})}),e.jsx(P,{className:"p-6",children:o})]})}function SO(){const t=La(),{data:a,isLoading:l}=xO();return l?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})}):a?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(T,{variant:"ghost",size:"icon",onClick:()=>t("/reports"),children:e.jsx(Ya,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Executive Dashboard"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"High-level KPIs and metrics across all platform domains"})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsx(kd,{title:"Total Work Orders",value:a.workOrders.total,subtitle:`${a.workOrders.completed} completed`,icon:Ge,color:"info"}),e.jsx(kd,{title:"Open Incidents",value:a.incidents.open,subtitle:`${a.incidents.critical} critical`,icon:We,color:a.incidents.critical>0?"warning":"default"}),e.jsx(kd,{title:"SLA Compliance",value:`${a.incidents.slaCompliance.toFixed(1)}%`,subtitle:"Target: 95%",icon:Hj,color:a.incidents.slaCompliance>=95?"success":"warning"}),e.jsx(kd,{title:"Low Stock Items",value:a.inventory.lowStock,subtitle:`${a.inventory.outOfStock} out of stock`,icon:rt,color:a.inventory.lowStock>0?"warning":"success"})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs(Ad,{title:"Work Orders",icon:Ge,color:"bg-blue-600",href:"/reports/work-orders",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Total"}),e.jsx("p",{className:"text-2xl font-bold",children:a.workOrders.total.toLocaleString()})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Completed"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:a.workOrders.completed.toLocaleString()})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"In Progress"}),e.jsx("p",{className:"text-2xl font-bold text-amber-600",children:a.workOrders.inProgress.toLocaleString()})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Completion Rate"}),e.jsxs("p",{className:"text-2xl font-bold",children:[a.workOrders.completionRate.toFixed(1),"%"]})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t",children:e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Avg. Completion Time"}),e.jsxs("span",{className:"font-medium",children:[a.workOrders.avgCompletionDays.toFixed(1)," days"]})]})})]}),e.jsxs(Ad,{title:"Incidents",icon:We,color:"bg-amber-600",href:"/reports/incidents",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Total"}),e.jsx("p",{className:"text-2xl font-bold",children:a.incidents.total.toLocaleString()})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Open"}),e.jsx("p",{className:"text-2xl font-bold text-amber-600",children:a.incidents.open.toLocaleString()})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Resolved"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:a.incidents.resolved.toLocaleString()})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Critical"}),e.jsx("p",{className:`text-2xl font-bold ${a.incidents.critical>0?"text-red-600":"text-gray-900"}`,children:a.incidents.critical.toLocaleString()})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t",children:e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"SLA Compliance"}),e.jsxs(ee,{className:a.incidents.slaCompliance>=95?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700",children:[a.incidents.slaCompliance.toFixed(1),"%"]})]})})]}),e.jsxs(Ad,{title:"Inventory",icon:rt,color:"bg-purple-600",href:"/reports/inventory",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Total Parts"}),e.jsx("p",{className:"text-2xl font-bold",children:a.inventory.totalParts.toLocaleString()})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Low Stock"}),e.jsx("p",{className:`text-2xl font-bold ${a.inventory.lowStock>0?"text-amber-600":"text-gray-900"}`,children:a.inventory.lowStock.toLocaleString()})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Out of Stock"}),e.jsx("p",{className:`text-2xl font-bold ${a.inventory.outOfStock>0?"text-red-600":"text-gray-900"}`,children:a.inventory.outOfStock.toLocaleString()})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t",children:e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Stock Health"}),e.jsx(ee,{className:a.inventory.lowStock===0&&a.inventory.outOfStock===0?"bg-green-100 text-green-700":a.inventory.outOfStock>0?"bg-red-100 text-red-700":"bg-amber-100 text-amber-700",children:a.inventory.lowStock===0&&a.inventory.outOfStock===0?"Healthy":a.inventory.outOfStock>0?"Critical":"Needs Attention"})]})})]}),e.jsxs(Ad,{title:"Schools & Devices",icon:Ft,color:"bg-green-600",href:"/reports/schools",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Schools"}),e.jsx("p",{className:"text-2xl font-bold",children:a.schools.totalSchools.toLocaleString()})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Devices"}),e.jsx("p",{className:"text-2xl font-bold",children:a.schools.totalDevices.toLocaleString()})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Active Projects"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:a.schools.activeProjects.toLocaleString()})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t",children:e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Avg. Devices per School"}),e.jsx("span",{className:"font-medium",children:a.schools.totalSchools>0?(a.schools.totalDevices/a.schools.totalSchools).toFixed(1):"0"})]})})]})]})]}):e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-500",children:"Failed to load dashboard data"})})}function CO(){return e.jsx("div",{className:"flex min-h-[60vh] flex-col items-center justify-center text-center",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"text-6xl font-bold text-gray-200",children:"404"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Page Not Found"}),e.jsx("p",{className:"text-gray-500 max-w-md",children:"The page you are looking for does not exist or has been moved."}),e.jsxs("div",{className:"flex items-center justify-center gap-4 pt-4",children:[e.jsx(T,{variant:"outline",asChild:!0,children:e.jsxs(ce,{to:-1,children:[e.jsx(Ya,{className:"h-4 w-4"}),"Go Back"]})}),e.jsx(T,{asChild:!0,children:e.jsxs(ce,{to:"/overview",children:[e.jsx(Uj,{className:"h-4 w-4"}),"Dashboard"]})})]})]})})}const kO=new KS({defaultOptions:{queries:{staleTime:3e4,retry:1,refetchOnWindowFocus:!1}}});function AO(){return e.jsxs(QS,{client:kO,children:[e.jsx(hS,{basename:"/",children:e.jsx(oM,{children:e.jsxs(GM,{children:[e.jsxs(H2,{children:[e.jsx(Ke,{path:"/",element:e.jsx(mj,{to:"/overview",replace:!0})}),e.jsx(Ke,{path:"/login",element:e.jsx(s_,{})}),e.jsxs(Ke,{element:e.jsx(e_,{children:e.jsx(WM,{})}),children:[e.jsx(Ke,{path:"/overview",element:e.jsx(LT,{})}),e.jsx(Ke,{path:"/incidents",element:e.jsx(Ev,{})}),e.jsx(Ke,{path:"/incidents/:id",element:e.jsx(Ev,{})}),e.jsx(Ke,{path:"/work-orders",element:e.jsx(zv,{})}),e.jsx(Ke,{path:"/work-orders/:id",element:e.jsx(zv,{})}),e.jsx(Ke,{path:"/sales",element:e.jsx($E,{})}),e.jsx(Ke,{path:"/demo-pipeline",element:e.jsx(JE,{})}),e.jsx(Ke,{path:"/presentations",element:e.jsx(iO,{})}),e.jsx(Ke,{path:"/projects",element:e.jsx(Iv,{})}),e.jsx(Ke,{path:"/projects/:id",element:e.jsx(Iv,{})}),e.jsx(Ke,{path:"/service-shops",element:e.jsx($v,{})}),e.jsx(Ke,{path:"/service-shops/:id",element:e.jsx($v,{})}),e.jsx(Ke,{path:"/schools",element:e.jsx(RD,{})}),e.jsx(Ke,{path:"/devices",element:e.jsx(Kv,{})}),e.jsx(Ke,{path:"/devices/:id",element:e.jsx(Kv,{})}),e.jsx(Ke,{path:"/parts-catalog",element:e.jsx(rE,{})}),e.jsx(Ke,{path:"/ssot-sync",element:e.jsx(iE,{})}),e.jsx(Ke,{path:"/messages",element:e.jsx(Qv,{})}),e.jsx(Ke,{path:"/messages/:id",element:e.jsx(Qv,{})}),e.jsx(Ke,{path:"/live-chat",element:e.jsx(wE,{})}),e.jsx(Ke,{path:"/knowledge-base",element:e.jsx(PE,{})}),e.jsx(Ke,{path:"/reports",element:e.jsx(cO,{})}),e.jsx(Ke,{path:"/reports/work-orders",element:e.jsx(vO,{})}),e.jsx(Ke,{path:"/reports/incidents",element:e.jsx(bO,{})}),e.jsx(Ke,{path:"/reports/inventory",element:e.jsx(NO,{})}),e.jsx(Ke,{path:"/reports/schools",element:e.jsx(wO,{})}),e.jsx(Ke,{path:"/reports/executive",element:e.jsx(SO,{})}),e.jsx(Ke,{path:"/audit-logs",element:e.jsx(yD,{})}),e.jsx(Ke,{path:"/settings",element:e.jsx(vD,{})}),e.jsx(Ke,{path:"/profile",element:e.jsx(oE,{})}),e.jsx(Ke,{path:"*",element:e.jsx(CO,{})})]})]}),e.jsx(ZM,{})]})})}),e.jsx(l4,{initialIsOpen:!1})]})}Gw.createRoot(document.getElementById("root")).render(e.jsx(b.StrictMode,{children:e.jsx(AO,{})}));
//# sourceMappingURL=index-DV4ZqumK.js.map
